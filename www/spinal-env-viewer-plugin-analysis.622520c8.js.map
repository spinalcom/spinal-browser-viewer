{"mappings":"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,KAAK,MAClB,IAAI,CAAC,UAAU,CAAC;yBAEhB,IAAI,CAAC,SAAS,CAAC;gBAEnB;gBAEA;;SAEC,GACD,UAAU,WAAW,EAAE;oBACrB,IAAI,CAAC,UAAU,CAAC;gBAClB;YACF;YACA,IAAI,sBAAsB,IAAI;YAC9B,0BAA0B,aAAa,CAAC,IAAI,IAAI,EAAE;QACpD;IACF;AACF;;;;A;A,O,c,C,S,c;I,O;A;A,Q,e,G,Q,U,G,Q,K,G,Q,sB,G,Q,oB,G,Q,e,G,Q,gB,G,Q,2B,G,Q,sB,G,Q,yB,G,Q,wB,G,Q,2B,G,Q,2B,G,Q,0B,G,Q,8B,G,Q,yB,G,Q,qB,G,Q,qB,G,Q,mB,G,Q,0B,G,Q,sB,G,Q,sB,G,Q,oB,G,Q,sB,G,Q,yB,G,Q,uB,G,Q,sB,G,Q,qB,G,Q,uB,G,Q,mC,G,Q,0C,G,Q,qC,G,Q,kC,G,Q,sC,G,Q,oC,G,Q,6C,G,Q,oC,G,Q,sC,G,Q,iD,G,Q,W,G,Q,Y,G,Q,Y,G,Q,Y,G,Q,a,G,Q,oB,G,Q,Y,G,Q,mB,G,Q,a,G,Q,qB,G,Q,e,G,K;AE5GA,MAAA,kBAAA,QAAA;AAiFE,OAAA,cAAA,CAAA,SAAA,iBAAA;IAAA,YAAA;IAAA,KAAA;QAAA,OAjFO,gBAAA,aAAa;IAAA;AAAA;AACtB,MAAA,wBAAA,QAAA;AAiFE,OAAA,cAAA,CAAA,SAAA,uBAAA;IAAA,YAAA;IAAA,KAAA;QAAA,OAjFO,sBAAA,mBAAmB;IAAA;AAAA;AAC5B,MAAA,oBAAA,QAAA;AAyHE,OAAA,cAAA,CAAA,SAAA,mBAAA;IAAA,YAAA;IAAA,KAAA;QAAA,OAxHA,kBAAA,eAAe;IAAA;AAAA;AAyHf,OAAA,cAAA,CAAA,SAAA,wBAAA;IAAA,YAAA;IAAA,KAAA;QAAA,OAxHA,kBAAA,oBAAoB;IAAA;AAAA;AAyHpB,OAAA,cAAA,CAAA,SAAA,0BAAA;IAAA,YAAA;IAAA,KAAA;QAAA,OAxHA,kBAAA,sBAAsB;IAAA;AAAA;AAGxB,MAAA,cAAA,QAAA;AA4EE,OAAA,cAAA,CAAA,SAAA,wBAAA;IAAA,YAAA;IAAA,KAAA;QAAA,OA3EA,YAAA,oBAAoB;IAAA;AAAA;AA4EpB,OAAA,cAAA,CAAA,SAAA,iBAAA;IAAA,YAAA;IAAA,KAAA;QAAA,OA3EA,YAAA,aAAa;IAAA;AAAA;AA4Eb,OAAA,cAAA,CAAA,SAAA,gBAAA;IAAA,YAAA;IAAA,KAAA;QAAA,OA3EA,YAAA,YAAY;IAAA;AAAA;AAwEZ,OAAA,cAAA,CAAA,SAAA,gBAAA;IAAA,YAAA;IAAA,KAAA;QAAA,OAvEA,YAAA,YAAY;IAAA;AAAA;AA4EZ,OAAA,cAAA,CAAA,SAAA,gBAAA;IAAA,YAAA;IAAA,KAAA;QAAA,OA3EA,YAAA,YAAY;IAAA;AAAA;AA4EZ,OAAA,cAAA,CAAA,SAAA,eAAA;IAAA,YAAA;IAAA,KAAA;QAAA,OA3EA,YAAA,WAAW;IAAA;AAAA;AAyEX,OAAA,cAAA,CAAA,SAAA,gBAAA;IAAA,YAAA;IAAA,KAAA;QAAA,OAxEA,YAAA,YAAY;IAAA;AAAA;AA2EZ,OAAA,cAAA,CAAA,SAAA,qDAAA;IAAA,YAAA;IAAA,KAAA;QAAA,OA1EA,YAAA,iDAAiD;IAAA;AAAA;AA2EjD,OAAA,cAAA,CAAA,SAAA,0CAAA;IAAA,YAAA;IAAA,KAAA;QAAA,OA1EA,YAAA,sCAAsC;IAAA;AAAA;AA2EtC,OAAA,cAAA,CAAA,SAAA,wCAAA;IAAA,YAAA;IAAA,KAAA;QAAA,OA1EA,YAAA,oCAAoC;IAAA;AAAA;AA2EpC,OAAA,cAAA,CAAA,SAAA,iDAAA;IAAA,YAAA;IAAA,KAAA;QAAA,OA1EA,YAAA,6CAA6C;IAAA;AAAA;AA2E7C,OAAA,cAAA,CAAA,SAAA,wCAAA;IAAA,YAAA;IAAA,KAAA;QAAA,OA1EA,YAAA,oCAAoC;IAAA;AAAA;AA2EpC,OAAA,cAAA,CAAA,SAAA,0CAAA;IAAA,YAAA;IAAA,KAAA;QAAA,OA1EA,YAAA,sCAAsC;IAAA;AAAA;AA2EtC,OAAA,cAAA,CAAA,SAAA,sCAAA;IAAA,YAAA;IAAA,KAAA;QAAA,OA1EA,YAAA,kCAAkC;IAAA;AAAA;AA2ElC,OAAA,cAAA,CAAA,SAAA,yCAAA;IAAA,YAAA;IAAA,KAAA;QAAA,OA1EA,YAAA,qCAAqC;IAAA;AAAA;AA2ErC,OAAA,cAAA,CAAA,SAAA,8CAAA;IAAA,YAAA;IAAA,KAAA;QAAA,OA1EA,YAAA,0CAA0C;IAAA;AAAA;AA2E1C,OAAA,cAAA,CAAA,SAAA,uCAAA;IAAA,YAAA;IAAA,KAAA;QAAA,OA1EA,YAAA,mCAAmC;IAAA;AAAA;AA4EnC,OAAA,cAAA,CAAA,SAAA,yBAAA;IAAA,YAAA;IAAA,KAAA;QAAA,OA3EA,YAAA,qBAAqB;IAAA;AAAA;AA0ErB,OAAA,cAAA,CAAA,SAAA,2BAAA;IAAA,YAAA;IAAA,KAAA;QAAA,OAzEA,YAAA,uBAAuB;IAAA;AAAA;AA2EvB,OAAA,cAAA,CAAA,SAAA,0BAAA;IAAA,YAAA;IAAA,KAAA;QAAA,OA1EA,YAAA,sBAAsB;IAAA;AAAA;AA2EtB,OAAA,cAAA,CAAA,SAAA,2BAAA;IAAA,YAAA;IAAA,KAAA;QAAA,OA1EA,YAAA,uBAAuB;IAAA;AAAA;AA2EvB,OAAA,cAAA,CAAA,SAAA,6BAAA;IAAA,YAAA;IAAA,KAAA;QAAA,OA1EA,YAAA,yBAAyB;IAAA;AAAA;AA2EzB,OAAA,cAAA,CAAA,SAAA,0BAAA;IAAA,YAAA;IAAA,KAAA;QAAA,OA1EA,YAAA,sBAAsB;IAAA;AAAA;AA2EtB,OAAA,cAAA,CAAA,SAAA,wBAAA;IAAA,YAAA;IAAA,KAAA;QAAA,OA1EA,YAAA,oBAAoB;IAAA;AAAA;AA2EpB,OAAA,cAAA,CAAA,SAAA,0BAAA;IAAA,YAAA;IAAA,KAAA;QAAA,OA1EA,YAAA,sBAAsB;IAAA;AAAA;AA2EtB,OAAA,cAAA,CAAA,SAAA,0BAAA;IAAA,YAAA;IAAA,KAAA;QAAA,OA1EA,YAAA,sBAAsB;IAAA;AAAA;AA2EtB,OAAA,cAAA,CAAA,SAAA,8BAAA;IAAA,YAAA;IAAA,KAAA;QAAA,OA1EA,YAAA,0BAA0B;IAAA;AAAA;AA2E1B,OAAA,cAAA,CAAA,SAAA,uBAAA;IAAA,YAAA;IAAA,KAAA;QAAA,OA1EA,YAAA,mBAAmB;IAAA;AAAA;AAmFnB,OAAA,cAAA,CAAA,SAAA,6BAAA;IAAA,YAAA;IAAA,KAAA;QAAA,OAlFA,YAAA,yBAAyB;IAAA;AAAA;AA0EzB,OAAA,cAAA,CAAA,SAAA,yBAAA;IAAA,YAAA;IAAA,KAAA;QAAA,OAzEA,YAAA,qBAAqB;IAAA;AAAA;AA0ErB,OAAA,cAAA,CAAA,SAAA,yBAAA;IAAA,YAAA;IAAA,KAAA;QAAA,OAzEA,YAAA,qBAAqB;IAAA;AAAA;AA0ErB,OAAA,cAAA,CAAA,SAAA,6BAAA;IAAA,YAAA;IAAA,KAAA;QAAA,OAzEA,YAAA,yBAAyB;IAAA;AAAA;AA0EzB,OAAA,cAAA,CAAA,SAAA,kCAAA;IAAA,YAAA;IAAA,KAAA;QAAA,OAzEA,YAAA,8BAA8B;IAAA;AAAA;AA0E9B,OAAA,cAAA,CAAA,SAAA,8BAAA;IAAA,YAAA;IAAA,KAAA;QAAA,OAzEA,YAAA,0BAA0B;IAAA;AAAA;AA0E1B,OAAA,cAAA,CAAA,SAAA,+BAAA;IAAA,YAAA;IAAA,KAAA;QAAA,OAzEA,YAAA,2BAA2B;IAAA;AAAA;AA0E3B,OAAA,cAAA,CAAA,SAAA,+BAAA;IAAA,YAAA;IAAA,KAAA;QAAA,OAzEA,YAAA,2BAA2B;IAAA;AAAA;AA0E3B,OAAA,cAAA,CAAA,SAAA,4BAAA;IAAA,YAAA;IAAA,KAAA;QAAA,OAzEA,YAAA,wBAAwB;IAAA;AAAA;AAmFxB,OAAA,cAAA,CAAA,SAAA,mBAAA;IAAA,YAAA;IAAA,KAAA;QAAA,OAlFA,YAAA,eAAe;IAAA;AAAA;AAGjB,MAAA,QAAA,QAAA;AA6EE,QAAA,KAAA,GAAA;AA5EF,MAAA,eAAA,QAAA;AA6EE,OAAA,cAAA,CAAA,SAAA,cAAA;IAAA,YAAA;IAAA,KAAA;QAAA,OA7EO,aAAA,UAAU;IAAA;AAAA;AACnB,MAAA,oBAAA,QAAA;AAuBE,OAAA,cAAA,CAAA,SAAA,mBAAA;IAAA,YAAA;IAAA,KAAA;QAAA,OAvBO,kBAAA,eAAe;IAAA;AAAA;AACxB,MAAA,UAAA,QAAA;AAoEE,OAAA,cAAA,CAAA,SAAA,0BAAA;IAAA,YAAA;IAAA,KAAA;QAAA,OAnEA,QAAA,sBAAsB;IAAA;AAAA;AAoEtB,OAAA,cAAA,CAAA,SAAA,+BAAA;IAAA,YAAA;IAAA,KAAA;QAAA,OAnEA,QAAA,2BAA2B;IAAA;AAAA;AAoE3B,OAAA,cAAA,CAAA,SAAA,oBAAA;IAAA,YAAA;IAAA,KAAA;QAAA,OAnEA,QAAA,gBAAgB;IAAA;AAAA;AAGlB,8DAA8D;AAC9D,MAAM,aAAkB,OAAO,WAAW,cAAc,SAAS;AAEjE,MAAM,wBAAwB,IAAI,kBAAA,eAAe;AAc/C,QAAA,qBAAA,GAAA;AAZF,IAAI,OAAO,WAAW,MAAM,KAAK,aAAa,WAAW,MAAM,GAAG,CAAA;AAElE,IAAI,OAAO,WAAW,MAAM,CAAC,qBAAqB,KAAK,aACrD,WAAW,MAAM,CAAC,qBAAqB,GAAG;AAG5C,IAAI,OAAO,WAAW,MAAM,CAAC,qBAAqB,KAAK,aACrD,WAAW,MAAM,CAAC,qBAAqB,GAAG;AA6D5C,QAAA,OAAA,GAAe;;;A;A,O,c,C,S,c;I,O;A;A,Q,a,G,K;AEvIf,MAAA,iCAAA,QAAA;AAGA,MAAM,sBAAsB,+BAAA,KAAK;IAC9B,YAAY,QAAmB,CAA/B;QACG,KAAK;QACL,IAAI,CAAC,QAAQ,CAAC;IAEjB;AACF;AAOE,QAAA,aAAA,GAAA;AAHH,+BAAA,UAAU,CAAC,eAAe,CAAC;AAC3B,QAAA,OAAA,GAAe;;;A;A,O,c,C,S,c;I,O;A;A,Q,mB,G,K;AEdf,MAAA,iCAAA,QAAA;AAKA,MAAM,4BAA4B,+BAAA,KAAK;IACpC,YAAY,cAAmB,CAA/B;QACG,KAAK;QACL,IAAI,CAAC,QAAQ,CAAC;IACjB;AACF;AAOE,QAAA,mBAAA,GAAA;AAHH,+BAAA,UAAU,CAAC,eAAe,CAAC;AAC3B,QAAA,OAAA,GAAe;;;A;A,O,c,C,S,c;I,O;A;A,Q,sB,G,Q,oB,G,Q,e,G,K;AEff,MAAA,cAAA,QAAA;AAEA,SAAgB,gBAAgB,MAAe;IAC7C,OAAQ,OAAO,OAAO,GAAG;AAC3B;AAFA,QAAA,eAAA,GAAA;AAIA,SAAgB,qBACd,MAAsB;IAEtB,OAAO,OAAO,UAAU,KAAK,YAAA,oBAAoB,CAAC,aAAa;AACjE;AAJA,QAAA,oBAAA,GAAA;AAMA,SAAgB,uBACd,MAAsB;IAEtB,OAAO,OAAO,UAAU,KAAK,YAAA,oBAAoB,CAAC,gBAAgB;AACpE;AAJA,QAAA,sBAAA,GAAA;;;A;AEZA;;;;;;;;;;;;;;;;;;;;;;CAsBG,G,O,c,C,S,c;I,O;A;A,Q,oB,G,Q,kB,G,Q,0B,G,Q,kB,G,Q,0B,G,Q,8B,G,Q,yB,G,Q,wB,G,Q,2B,G,Q,2B,G,Q,uB,G,Q,qB,G,Q,uB,G,Q,sB,G,Q,qB,G,Q,qB,G,Q,0B,G,Q,sB,G,Q,sB,G,Q,oB,G,Q,sB,G,Q,yB,G,Q,yB,G,Q,mB,G,Q,0C,G,Q,sC,G,Q,kC,G,Q,qC,G,Q,mC,G,Q,oC,G,Q,6C,G,Q,oC,G,Q,iD,G,Q,sC,G,Q,iB,G,Q,qB,G,Q,2C,G,Q,2C,G,Q,2B,G,Q,4B,G,Q,2B,G,Q,2B,G,Q,0B,G,Q,W,G,Q,Y,G,Q,W,G,Q,oB,G,Q,a,G,Q,W,G,Q,Y,G,K;A,Q,Y,G,Q,e,G,Q,Y,G,Q,Y,G,K;AAEU,QAAA,YAAY,GAAG;AACf,QAAA,WAAW,GAAG;AACd,QAAA,aAAa,GAAG;AAChB,QAAA,oBAAoB,GAAG;AACvB,QAAA,WAAW,GAAG;AACd,QAAA,YAAY,GAAG;AACf,QAAA,WAAW,GAAG;AAEd,QAAA,0BAA0B,GAAG;AAC7B,QAAA,2BAA2B,GAAG;AAE9B,QAAA,2BAA2B,GAAG;AAC9B,QAAA,4BAA4B,GAAG;AAC/B,QAAA,2BAA2B,GAAG;AAE9B,QAAA,2CAA2C,GAAG;AAC9C,QAAA,2CAA2C,GAAG;AAE9C,QAAA,qBAAqB,GAAG;AAExB,QAAA,iBAAiB,GAAG,OAAO,MAAM,CAAC;IAC7C,UAAU;IACV,OAAO;IACP,MAAM;IACN,WAAW;IACX,eAAe;IACf,cAAc;IACd,mBAAmB;IACnB,OAAO;AACR;AAED,qBAAqB;AACR,QAAA,sCAAsC,GAAG;AACzC,QAAA,iDAAiD,GAC5D;AACW,QAAA,oCAAoC,GAAG;AACvC,QAAA,6CAA6C,GACxD;AACW,QAAA,oCAAoC,GAAG;AACvC,QAAA,mCAAmC,GAAG;AACtC,QAAA,qCAAqC,GAAG;AACxC,QAAA,kCAAkC,GAAG;AACrC,QAAA,sCAAsC,GAAG;AACzC,QAAA,0CAA0C,GACrD;AAEW,QAAA,mBAAmB,GAAG;AACtB,QAAA,yBAAyB,GAAG;AAE5B,QAAA,yBAAyB,GAAG;AAC5B,QAAA,sBAAsB,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,oBAAoB,+BAAA,KAAK;IAC5B,YAAY,MAAe,CAA3B;QACG,KAAK;QACL,IAAI,CAAC,QAAQ,CAAC;IACjB;AACF;AAOE,QAAA,WAAA,GAAA;AAHH,+BAAA,UAAU,CAAC,eAAe,CAAC;AAC3B,QAAA,OAAA,GAAe;;;A;A,O,c,C,S,c;I,O;A;A,Q,W,G,K;AEdf,MAAA,iCAAA,QAAA;AAGA,MAAM,oBAAoB,+BAAA,KAAK;IAC5B,YAAY,SAAkB,CAA9B;QACG,KAAK;QACL,IAAI,CAAC,QAAQ,CAAC;IAEjB;AACF;AAOG,QAAA,WAAA,GAAA;AAHJ,+BAAA,UAAU,CAAC,eAAe,CAAC;AAC3B,QAAA,OAAA,GAAe;;;A;A,O,c,C,S,c;I,O;A;A,Q,Y,G,K;AEdf,MAAA,iCAAA,QAAA;AAIA,MAAM,qBAAqB,+BAAA,KAAK;IAC7B,YAAY,UAAoB,CAAhC;QACG,KAAK;QACL,IAAI,CAAC,QAAQ,CAAC;IAEjB;AACF;AAOG,QAAA,YAAA,GAAA;AAHJ,+BAAA,UAAU,CAAC,eAAe,CAAC;AAC3B,QAAA,OAAA,GAAe;;;A;AEff,qDAAA,GACA;;;;;;;;;;;;;;;;;;;;;;CAsBG,G,I,Y,A,I,I,I,C,S,I,S,O,E,U,E,C,E,S;I,S,M,K;Q,O,iB,I,Q,I,E,S,O;Y,Q;Q;I;I,O,I,C,K,C,I,O,C,E,S,O,E,M;Q,S,U,K;Y,I;gB,K,U,I,C;Y,E,O,G;gB,O;Y;Q;Q,S,S,K;Y,I;gB,K,S,C,Q,C;Y,E,O,G;gB,O;Y;Q;Q,S,K,M;Y,O,I,G,Q,O,K,I,M,O,K,E,I,C,W;Q;Q,K,A,C,Y,U,K,C,S,c,E,C,E,I;I;A;A,O,c,C,S,c;I,O;A;A,Q,c,G,Q,c,G,Q,2B,G,Q,sB,G,Q,8B,G,Q,c,G,Q,a,G,Q,a,G,Q,Y,G,Q,S,G,Q,gB,G,Q,2B,G,Q,qB,G,Q,+B,G,Q,sB,G,K;AAEH,MAAA,oCAAA,QAAA;AAOA,MAAA,mDAAA,QAAA;AACA,MAAA,0BAAA,QAAA;AAOA,MAAA,4BAAA,QAAA;AAKA,MAAA,sBAAA,QAAA;AACA,MAAA,YAAA,QAAA;AACA,MAAA,gCAAA,QAAA;AACA,MAAA,wBAAA,QAAA;AAEA,MAAM,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e,O,a;wB,Y,O,U;wB,a;oB;oB,M,a,M,C,G,0C,A,E,S,C,W,Q,E,C,G;gB;Y;Y,I,C,U,G;Q;Q,a,W;Y,I,O,I,C,S,K,Y;gB,M,W,I,C,W;gB,I,C,S,C;oB;oB,Y,I,C,U;oB;gB;Y;Q;Q;Y,I,I,C,K,C,kB,E;gB,M,W,I,C,K,C,kB,C,W;gB,O,S,G,C,C,I;oB,G,K,G;oB,O;gB;Y;Q;Q;Y,M,mB,I,C,U,C,I,G,M,K;Y,M,iB,I,C,Q,C,M,K;Y,O,oB;Q;Q;Y,W;gB,I,C,K,C,gB,C,G,C,K;Y,G;Q;Q,Y,M;Y,I,W,I,C,a,C,O,E;gB,I,C,O,C,M,G;gB,I,C,O,C,K,G;Y;Q;Q;YA0Ef,IAAA,CAAA,OAAA,CAAA,KAAA,GAAA;Y,I,C,O,C,M,G,I,C,a,C,Q;QAEA;QAEA,WAAA,GAAA;YACA,IAAA,CAAA,QAAA,GAAA;mBAAA,IAAA,CAAA,QAAA;gBAAA;aAAA;QACA;QAEA,YAAA,KAAA;YACA,IAAA,CAAA,QAAA,GAAA,IAAA,CAAA,QAAA,CAAA,MAAA,CAAA,CAAA,KAAA,GAAA,KAAA,KAAA;QACA;QAEA;YACA,IAAA,CAAA,QAAA,GAAA,EAAA;YACA,IAAA,CAAA,QAAA,GAAA;gBACA;oBAAA,MAAA;oBAAA,eAAA;oBAAA,YAAA,CAAA,GAAA,iCAAA,AAAA,EAAA,QAAA;oBAAA,aAAA;oBAAA,OAAA;gBAAA;gBACA;oBAAA,MAAA;oBAAA,eAAA;oBAAA,YAAA,CAAA,GAAA,iCAAA,AAAA,EAAA,KAAA;oBAAA,aAAA;oBAAA,OAAA;gBAAA;gBACA;oBAAA,MAAA;oBAAA,eAAA;oBAAA,YAAA,CAAA,GAAA,iCAAA,AAAA,EAAA,IAAA;oBAAA,aAAA;oBAAA,OAAA;gBAAA;gBACA;oBAAA,MAAA;oBAAA,eAAA;oBAAA,YAAA,CAAA,GAAA,iCAAA,AAAA,EAAA,SAAA;oBAAA,aAAA;oBAAA,OAAA;gBAAA;gBACA;oBAAA,MAAA;oBAAA,eAAA;oBAAA,YAAA,CAAA,GAAA,iCAAA,AAAA,EAAA,WAAA;oBAAA,aAAA;oBAAA,OAAA;gBAAA;gBACA;oBAAA,MAAA;oBAAA,eAAA;oBAAA,YAAA,CAAA,GAAA,iCAAA,AAAA,EAAA,UAAA;oBAAA,aAAA;oBAAA,OAAA;gBAAA;gBACA;oBAAA,MAAA;oBAAA,eAAA;oBAAA,YAAA,CAAA,GAAA,iCAAA,AAAA,EAAA,eAAA;oBAAA,aAAA;oBAAA,OAAA;gBAAA;aACA;QACA;IACA;AACA;AAEA,IAAA,UAAA,OAAA,kBAAA,aAAA,cAAA,OAAA,GAAA;kB,S,wC;;;;;ACpHA,IAAI;AACJ,IAAI,aAAa;IACf,SAAS,QAAQ;IACjB,IAAI,OAAO,UAAU,EAAE,SAAS,OAAO,OAAO;IAC9C,OAAO,MAAM,GAAG,QAAQ,oBAAgC,MAAM;IACpD,OAAO,eAAe,GAAG,QAAQ,oBAAgC,eAAe;IAChF,OAAO,QAAQ,GAAG;IAE5B,OAAO,YAAY,GAAG,QAAQ,oBAA6B,OAAO;IAClE,QAAQ,oBAA8B,OAAO,CAAC;IAC9C,OAAO,SAAS,GAAG;IACnB,OAAO,MAAM,GAAG;AAClB;AACA;kBAEe;;;;;A;;A;;A,I,gB;I,M;I,Y;yB,C,G,kC,A;mB,C,G,4B,A;I;I,O;Q,O;Y,S,E;Q;I;I;Q,O;Y,a,E;Q;I;I;Q,I,C,W,G,I,C,K;I;I,S;Q,W,G;Y,G,C,Q,G,I,C,K,C,M;Y,I,C,K,C,a;Q;Q,Y,K;Y,I,C,K,C,U;Q;Q;Y,I,C,K,C;Q;I;I,O;Q;Y,I,C,W,G,I,C,K;Q;I;A;A,I,U,O,kB,a,c,O,G;kB,S,wC;;;;;ACff,IAAI;AACJ,IAAI,aAAa;IACf,SAAS,QAAQ;IACjB,IAAI,OAAO,UAAU,EAAE,SAAS,OAAO,OAAO;IAC9C,OAAO,MAAM,GAAG,QAAQ,oBAAkC,MAAM;IACtD,OAAO,eAAe,GAAG,QAAQ,oBAAkC,eAAe;IAClF,OAAO,QAAQ,GAAG;IAE5B,OAAO,YAAY,GAAG,QAAQ,oBAA+B,OAAO;IACpE,QAAQ,oBAAgC,OAAO,CAAC;IAChD,OAAO,SAAS,GAAG;IACnB,OAAO,MAAM,GAAG;AAClB;AACA;kBAEe;;;;;A;A,I,gB;I,M;I,Y,C;I;Q,O;Y,c,C,G,iC,A;Y,M;Y,e;Y,Y;Y,M;Q;I;I,S;Q;Y,I,C,I,G,C,I,C,I;Q;Q;Y,I,C,K,C,a;gB,M,I,C,I;gB,e,I,C,a;gB,Y,C,G,iC,A,C,C,I,C,U,C;Y;Y,I,C,I,G;Y,I,C,a,G;Y,I,C,U,G;Q;Q;Y,O,I,C,I,C,I,G,M,K;Q;I;A;A,I,U,O,kB,a,c,O,G;kB,S,wC;;;A,I,S;I,I,M,I;I,I,K,I,c;I,I,K,I,K,C,E,I;I,O,G,a;Q,O;Y,U;Y,a;Y,Q,I,I;Q;I,G;Q,G,a;Y,a;Q,G;Y,G,W;gB,I,E,C;a;S,E;Q,I,E,C;Q,G,Y;Y,M;Q,G;Y,G,O;gB,a;Y,G;gB,G,O;oB,a;gB,G;oB,G,Y;wB,G,S;4B,I,E,C;yB;wB,I,E,C;wB,G,Y;4B,O;gC,O,I,I;gC,U,S,G;oC,I,I,G;gC;gC,Y;4B;wB;qB,E;oB,I,E,C;oB,G,Y;wB,G,S;4B,I,E,C;yB;wB,I,E,C;wB,G,Y;4B,O;gC,O,I,a;gC,U,S,G;oC,I,a,G;gC;gC,Y;4B;wB;qB,E;oB,I,E,C;oB,G,Y;wB,G,S;4B,I,E,C;yB;wB,I,E,C;wB,G,a;4B,O;gC,O,I,U;gC,U,S,G;oC,I,U,G;gC;gC,Y;4B;wB,G,I,E,C,O,I,C,I,Y,G,S,I;4B,O,G,a;gC,K;gC,O;oC,S;gC;4B,G;gC,I,E,C,qB,I,E,C,Q;6B;wB,I;qB,E;iB,E;gB,I,E,C;gB,G,O;oB,a;gB,G;oB,G,a;wB,Y;4B;gC,M;gC,S;4B;yB;wB,a;oB,G;wB,I,E,C;qB;oB,I,E,C;oB,G,a;wB,Y;4B;gC,M;gC,S;4B;yB;wB,a;wB,O;4B,Y,I,Q;wB;wB,I;4B,S,I,S;wB;oB,G;wB,I,E,C;qB;iB,E;a;S;K,E;A;A,I,kB,E;A,Q,M,G;A,Q,e,G;;;;;AAff,IAAI,OAAO,KAAO;kBAEH,CAAA,UAEf;;;A,I,S;I,I,M,I;I,I,K,I,c;I,I,K,I,K,C,E,I;I,O,G,c;Q,a;I,G;Q,G,a;Y,a;Y,I;gB,S,S,M;oB,O,I,sB;gB;Y;Q,G;Y,I,E,C;S;Q,I,E,C;Q,G,O;Y,a;Q,G;Y,G,mB;gB,I;oB,a,I,S;gB;Y;S,E;Q,I,E,C;Q,I,W,C,M,G,I,G,a;Y,O;gB,S;Y;Y,I;gB,S,S,M;oB,I,I,G;gB;gB,O,S,M;oB,I,I,G;gB;Y;Y,O;gB,O,I,W;gB,U,S,G;oB,I,W,G;gB;gB,Y;Y;Q,G,I,E,C,I,W,E,S,O;Y,O,G,O;gB,K,Q,K;gB,a;Y,G;gB,G,O;oB,a;gB,G;oB,G,O;wB,a;oB,G;wB,I,E,C,iB,I,E,C,Q,I,I;qB;iB;gB,I,E,C;gB,G,O;oB,a;gB,G;oB,G,a;wB,a;wB,I;4B,S,S,M;gC,O,I,U,C,Q,K;4B;wB;oB,G;wB,G,W;4B,I,E,C;yB;qB,E;iB,E;a;Q,I,K,G,O;Y,a;Q,G;Y,I,E,C;S;K,E;A;A,I,kB,E;A,Q,M,G;A,Q,e,G;;;;;ADJA,IAAI,OAAO,KAAO;kBAEH,CAAA,UAEf;;;A,I,S;I,I,M,I;I,I,K,I,c;I,I,K,I,K,C,E,I;I,O,G,a;Q,a;Q,O;Y,a,I,U;Q;Q,I;Y,mB,S,M;gB,I,U,G;Y;Y,oB,S,M;gB,I,U,G;Y;Y,a,S,M;gB,O,I,W,C;Y;Q;I,G;Q,G,mB;Y,a;Q,G;Y,I,E,C;S;Q,I,E,C;Q,G,qB;Y,a;Q,G;Y,G,e;gB,a;gB,O;oB,kB,I,O,C,M;oB,a;gB;gB,I;oB,uB,S,M;wB,O,I,I,C,I,O,E,U;oB;oB,yB,S,M;wB,O,I,I,C,I,O,E,U;oB;oB,c,I,U;gB;Y,G;gB,G,W;oB,a;oB,O;wB,M,I,a,C,O;wB,Y;wB,W,I,O,C,K;oB;oB,I;wB,iB,S,M;4B,O,I,I,C,I,O,E,S;wB;wB,kB,S,M;4B,O,I,I,C,I,O,E,S;wB;oB;gB,G;oB,G,c;wB,a;oB,G;wB,G,Y;4B,G,S;gC,I,E,C;6B;4B,I,E,C;4B,G,Y;gC,K;gC,O;oC,O,I,U;oC,U,S,G;wC,I,U,G;oC;oC,Y;gC;4B;yB,E;qB,E;iB,E;gB,I,E,C;gB,G,W;oB,a;oB,O;wB,M,I,a,C,Q;wB,Y;wB,W,I,O,C,M;oB;oB,I;wB,iB,S,M;4B,O,I,I,C,I,O,E,U;wB;wB,kB,S,M;4B,O,I,I,C,I,O,E,U;wB;oB;gB,G;oB,G,iB;wB,K;wB,O;4B,S,I,Q;wB;wB,I;4B,a,I,S;4B,U,I,U;4B,0B,I,sB;wB;oB;iB,E;a,E;S,E;Q,I,E,C;Q,G,qB;Y,G,a;gB,a;gB,I;oB,S,S,M;wB,O,I,W,C;oB;gB;Y,G;gB,I,E,C;a;Y,I,E,C;Y,I,O,C,M,K,I,C,a,C,O,G,G,a;gB,a;gB,O;oB,Y,C,C,I,U,C,I,G,M,G,C;gB;gB,I;oB,S,I,gB;gB;Y,G;gB,I,E,C;a,I,I,E;Y,I,E,C;Y,I,O,C,M,K,I,C,a,C,Q,G,G,a;gB,a;gB,O;oB,Y,I,c;gB;gB,I;oB,S,S,M;wB,O,I,W,C;oB;gB;Y,G;gB,I,E,C;a,I,I,E;S,E;K,E;A;A,I,kB,E;A,Q,M,G;A,Q,e,G;;;;;ADJA,IAAI,OAAO,KAAO;kBAEH,CAAA,UAEf;;;;;AGJA,IAAI;AACJ,IAAI,aAAa;IACf,SAAS,QAAQ;IACjB,IAAI,OAAO,UAAU,EAAE,SAAS,OAAO,OAAO;IAC9C,OAAO,MAAM,GAAG,QAAQ,oBAAqC,MAAM;IACzD,OAAO,eAAe,GAAG,QAAQ,oBAAqC,eAAe;IACrF,OAAO,QAAQ,GAAG;IAE5B,OAAO,YAAY,GAAG,QAAQ,oBAAkC,OAAO;IACvE,QAAQ,oBAAmC,OAAO,CAAC;IACnD,OAAO,SAAS,GAAG;IACnB,OAAO,MAAM,GAAG;AAClB;AACA;kBAEe;;;;;A;A,I,gB;I,M;I,O;Q;K;I;Q,I,C,K,G,C,G,iC,A;Q,I,C,S;Q,I,C,O;Q,O;Y,Y;Y,Q;gB,M;gB,e;gB,Y;gB,a;Y;Q;I;I,S;Q,Q,M;Y,Q,G,C;Y,I,C,S,G,O,Y,C,E,C,G;Y,Q,G,C,I,C,S;Q;Q,M,S,M;Y,I,Q;gB,M,Y;oB,M,I,C,M,C,I;oB,e,I,C,M,C,a;oB,Y,I,C,K,C,I,C,M,C,U,C;oB,a;gB;gB,M,a,M,C,G,0C,A,E,S,C,W,I,C,S;Y;Y,I,C,U,G;Q;Q,a,W;Y,I,O,I,C,S,K,Y,I,C,S,C;Q;Q;Y,O,I,C,M,C,I,C,M,K,K,I,C,M,C,U,K;Q;I;A;A,I,U,O,kB,a,c,O,G;kB,S,wC;;;A,I,S;I,I,M,I;I,I,K,I,c;I,I,K,I,K,C,E,I;I,O,G,a;Q,a;Q,O;Y,a,I,U;Q;Q,I;Y,mB,S,M;gB,I,U,G;Y;Y,oB,S,M;gB,I,U,G;Y;Y,a,S,M;gB,O,I,W,C;Y;Q;I,G;Q,G,mB;Y,a;Q,G;Y,I,E,C;S;Q,I,E,C;Q,G,qB;Y,a;Q,G;Y,G,Y;gB,G,S;oB,I,E,C;iB;gB,I,E,C;gB,G,Y;oB,O;wB,O,I,M,C,I;wB,U,S,G;4B,I,I,C,I,M,E,Q;wB;wB,Y;oB;gB;a,E;Y,I,E,C;Y,G,Y;gB,G,S;oB,I,E,C;iB;gB,I,E,C;gB,G,Y;oB,O;wB,O,I,M,C,a;wB,U,S,G;4B,I,I,C,I,M,E,iB;wB;wB,Y;oB;gB;a,E;Y,I,E,C;Y,G,Y;gB,G,S;oB,O;wB,O;oB;gB,G;oB,I,E,C;iB;gB,I,E,C;gB,G,a;oB,O;wB,Q;wB,M;oB;oB,O;wB,O,I,M,C,U;wB,U,S,G;4B,I,I,C,I,M,E,c;wB;wB,Y;oB;gB,G,I,E,C,O,I,C,I,K,G,S,I;oB,O,G,a;wB,K;wB,O;4B,S;wB;oB,G;wB,I,E,C,I,E,C;qB;gB,I;a,E;S,E;Q,I,E,C;Q,G,qB;Y,G,a;gB,a;gB,I;oB,S,S,M;wB,O,I,W,C;oB;gB;Y,G;gB,I,E,C;a;Y,I,E,C;Y,G,a;gB,a;gB,O;oB,Y,I,Q;gB;gB,I;oB,S,S,M;wB,O,I,W,C;oB;gB;Y,G;gB,I,E,C;a;S,E;K,E;A;A,I,kB,E;A,Q,M,G;A,Q,e,G;;;;;AAff,IAAI,OAAO,KAAO;kBAEH,CAAA,UAEf;;;;;ACJA,IAAI;AACJ,IAAI,aAAa;IACf,SAAS,QAAQ;IACjB,IAAI,OAAO,UAAU,EAAE,SAAS,OAAO,OAAO;IAC9C,OAAO,MAAM,GAAG,QAAQ,oBAAuC,MAAM;IAC3D,OAAO,eAAe,GAAG,QAAQ,oBAAuC,eAAe;IACvF,OAAO,QAAQ,GAAG;IAE5B,OAAO,YAAY,GAAG,QAAQ,oBAAoC,OAAO;IACzE,QAAQ,oBAAqC,OAAO,CAAC;IACrD,OAAO,SAAS,GAAG;IACnB,OAAO,MAAM,GAAG;AAClB;AACA;kBAEe;;;;;A;A;;A;;A;;A;;A;;A;;A;;A;;A;;A,I,gB;I,M;I,O;Q;K;I,Y;Q,iB,C,G,+B,A;Q,mB,C,G,iC,A;Q,uB,C,G,qC,A;Q,yB,C,G,uC,A;Q,2B,C,G,yC,A;Q,wB,C,G,sC,A;Q,mB,C,G,iC,A;Q,iB,C,G,gC,A;Q,oB,C,G,0B,A;I;I;Q,I,C,a,G;Y,U;Y,gB;Y,oB;Y,sB;Y,wB;Y,qB;Y,gB;Y,S;Q;Q,O;Y,Y;Y,mB;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AAC;IAC7C,OAAO,SAAS,GAAG;IACnB,OAAO,MAAM,GAAG;AAClB;AACA;kBAEe;;;;;A;A,I,gB;I,O;Q;Q;Q;Q;Q;Q;Q;K;I;Q,O;Y,mB,I,C,Y;Y,0B,I,C,mB;Y,mC,I,C,4B;Y,qB,I,C,c;Y,kB,I,C,wB;Q;I;I;Q,I,C,e,G,C,G,oC,A;I;I,U;Q;Y,O,I,C,gB,G,C,G,oC,A,E,M,G,C,G,oC,A,E,Q;Q;Q;Y,O,I,C,mB,K,C,G,oC,A,E,M;Q;I;I,S;Q,Q,G,E,K;Y,Q,G,C,W,K;Y,I,C,K,C,C,O,E,I,C,E;Q;I;IAwBf,OAAA;QACA;YACA,IAAA,CAAA,iBAAA,GAAA,IAAA,CAAA,YAAA;QACA;QACA;YACA,IAAA,CAAA,wBAAA,GAAA,IAAA,CAAA,mBAAA;QACA;QACA;YACA,IAAA,CAAA,iCAAA,GAAA,IAAA,CAAA,4BAAA;QACA;QACA;YACA,IAAA,CAAA,mBAAA,GAAA,IAAA,CAAA,cAAA;QAEA;IACA;AACA;AAEA,IAAA,UAAA,OAAA,kBAAA,aAAA,cAAA,OAAA,GAAA;kBACA,SAAA,wCAAA;;;A,I,S;I,I,M,I;I,I,K,I,c;I,I,K,I,K,C,E,I;I,O,G,W;Q,a;Q,O;Y,M,I,a,C,Q;Y,Y;Y,W,I,O,C,K;Q;Q,I;Y,iB,S,M;gB,O,I,I,C,I,O,E,S;Y;Y,kB,S,M;gB,O,I,I,C,I,O,E,S;Y;Q;I,G;Q,G,c;Y,a;Q,G;Y,G,Y;gB,a;Y,G;gB,G,S;oB,I,E,C;iB;gB,I,E,C;gB,G,Y;oB,O;wB,Y,C,I,Q;oB;oB,I;wB,U,S,M;4B,O,I,M,C,gB,I,iB;wB;oB;oB,O;wB,O,I,iB;wB,U,S,G;4B,I,iB,G;wB;wB,Y;oB;gB;a,E;Y,I,E,C;Y,G,Y;gB,a;Y,G;gB,G,S;oB,I,E,C;iB;gB,I,E,C;gB,G,Y;oB,I;wB,U,S,M;4B,O,I,M,C,uB,I,wB;wB;oB;oB,O;wB,O,I,wB;wB,U,S,G;4B,I,wB,G;wB;wB,Y;oB;gB;a,E;Y,I,E,C;Y,G,a;gB,I;oB,U,S,M;wB,O,I,M,C,gC,I,iC;oB;gB;gB,O;oB,O,I,iC;oB,U,S,G;wB,I,iC,G;oB;oB,Y;gB;Y,G;gB,I,E,C;gB,G,K;oB,I,E,C,I,E,C,I,iC,G,Q,Q;iB;a;Y,I,E,C;Y,G,a;gB,I;oB,U,S,M;wB,O,I,M,C,kB,I,mB;oB;gB;gB,O;oB,O,I,mB;oB,U,S,G;wB,I,mB,G;oB;oB,Y;gB;Y,G;gB,I,E,C;gB,G,K;oB,I,E,C,M,I,E,C,I,mB,G,W,c;iB;a;S,E;K,E;A;A,I,kB,E;A,Q,M,G;A,Q,e,G;;;;;AAzDA,IAAI,OAAO,KAAO;kBAEH,CAAA,UAEf;;;;;ACJA,IAAI;AACJ,IAAI,aAAa;IACf,SAAS,QAAQ;IACjB,IAAI,OAAO,UAAU,EAAE,SAAS,OAAO,OAAO;IAC9C,OAAO,MAAM,GAAG,QAAQ,oBAAiC,MAAM;IACrD,OAAO,eAAe,GAAG,QAAQ,oBAAiC,eAAe;IACjF,OAAO,QAAQ,GAAG;IAG5B,QAAQ,oBAA+B,OAAO,CAAC;IAC/C,OAAO,SAAS,GAAG;IACnB,OAAO,MAAM,GAAG;AAClB;AACA;kBAEe;;;;;A;;A;;A;;A;A,I,gB;I,O;Q;Q;Q;Q;K;I,Y;Q,kB,C,G,+B,A;Q,0B,C,G,sC,A;Q,mB,C,G,gC,A;I;I;Q,O;Y,qB,I,C,c;Y,+B;Y,6B;Y,+B;Q;I;I,S;Q,gC,c;Y,Q,G,C,qB;Y,I,C,K,C,yB;Y,I,C,6B,G;Q;Q,8B,a;Y,Q,G,C,qB;Y,I,C,K,C,yB;Y,I,C,2B,G;Q;Q,gC,c;Y,Q,G,C,qB;Y,I,C,K,C,yB;Y,I,C,6B,G;Q;I;I,U;Q;Y,I,C,I,C,U,E,O;Y,O,C,I,C,U,C,Q,C,Y,I,C,U,K;Q;Q;Y,I,C,I,C,c,E,O;Y,M,O,C,G,+C,A,E,O,C,I,C,c;Y,Q,G,C;Y,O,C,E,K,I,C,G,G,U,E,K,I,C,G,G,a,E,K,E,C,G,G,C;Q;I;A;A,I,U,O,kB,a,c,O,G;kB,S,wC;;;;;ACff,IAAI;AACJ,IAAI,aAAa;IACf,SAAS,QAAQ;IACjB,IAAI,OAAO,UAAU,EAAE,SAAS,OAAO,OAAO;IAC9C,OAAO,MAAM,GAAG,QAAQ,oBAA+B,MAAM;IACnD,OAAO,eAAe,GAAG,QAAQ,oBAA+B,eAAe;IAC/E,OAAO,QAAQ,GAAG;IAE5B,OAAO,YAAY,GAAG,QAAQ,oBAA4B,OAAO;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,QAAQ,oBAA8B,OAAO;IACnE,QAAQ,oBAA+B,OAAO,CAAC;IAC/C,OAAO,SAAS,GAAG;IACnB,OAAO,MAAM,GAAG;AAClB;AACA;kBAEe;;;;;A,I,gB;I,M;I,O;Q;Q;Q;Q;Q;K;I,S;Q;Y,I,C,K,C;Q;Q,Y,E;Y,I,C,K,C,U;Q;I;A;A,I,U,O,kB,a,c,O,G;kB,S,wC;;;A,I,S;I,I,M,I;I,I,K,I,c;I,I,K,I,K,C,E,I;I,O,G,O;Q,a;I,G;Q,G,W;Y,a;Q,G;Y,G,gB;gB,G,Q;oB,a;gB,G;oB,I,E,C,I,E,C,I,K;iB;gB,I,E,C;gB,I,O,G,G,a;oB,a;oB,I;wB,S,I,W;oB;gB,G;oB,G,W;wB,I,E,C;qB;iB,E,K,I,E;a,E;S,E;Q,I,E,C;Q,G,c;Y,a;Q,G;Y,G,W,I,E,C,I,I,E,S,I,E,K;gB,O,G,gB;oB,Y;wB;4B,M;4B,S;4B,O,K,I;4B,Y;wB;qB;oB,K;oB,a;oB,O;wB,Y,K,E,K,I,Y;oB;oB,I;wB,S,S,M;4B,O,I,U,C,K,E;wB;oB;gB,G;oB,G,Q;wB,a;oB,G;wB,I,E,C,I,E,C,K,I;qB;iB;Y,I;S,E;K,E;A;A,I,kB,E;A,Q,M,G;A,Q,e,G;;;;;AAff,IAAI,OAAO,KAAO;kBAEH,CAAA,UAEf;;;A,I,S;I,I,M,I;I,I,K,I,c;I,I,K,I,K,C,E,I;I,O,G,a;Q,a;Q,O;Y,a,I,O;Q;Q,I;Y,mB,S,M;gB,I,O,G;Y;Y,oB,S,M;gB,I,O,G;Y;Q;I,G;Q,G,mB;Y,a;Q,G;Y,I,E,C;S;Q,I,E,C;Q,G,qB;Y,a;Q,G;Y,G,O;gB,a;Y,G;gB,G,iB;oB,O;wB,S;wB,Q,I,I;wB,gB,I,e;oB;oB,I;wB,U,I,a;oB;gB;a,E;Y,I,E,C;Y,G,O;gB,a;Y,G;gB,G,iB;oB,O;wB,S;wB,Q,I,U;wB,gB,I,gB;wB,c,C,I,e;oB;oB,I;wB,U,I,c;oB;gB;a,E;Y,I,E,C;Y,G,O;gB,a;Y,G;gB,G,iB;oB,O;wB,S;wB,Q,I,M;wB,gB,I,a;wB,c,C,I,gB;oB;oB,I;wB,U,I,W;oB;gB;a,E;S;Q,I,E,C;Q,G,qB;Y,G,a;gB,a;gB,I;oB,S,S,M;wB,O,I,W,C;oB;gB;Y,G;gB,I,E,C;a;Y,I,E,C;Y,G,a;gB,a;gB,O;oB,Y,I,Q;gB;gB,I;oB,S,S,M;wB,O,I,W,C;oB;gB;Y,G;gB,I,E,C;a;S,E;K,E;A;A,I,kB,E;A,Q,M,G;A,Q,e,G;;;;;ATJA,IAAI,OAAO,KAAO;kBAEH,CAAA,UAEf;;;;;AUJA,IAAI;AACJ,IAAI,aAAa;IACf,SAAS,QAAQ;IACjB,IAAI,OAAO,UAAU,EAAE,SAAS,OAAO,OAAO;IAC9C,OAAO,MAAM,GAAG,QAAQ,oBAAsC,MAAM;IAC1D,OAAO,eAAe,GAAG,QAAQ,oBAAsC,eAAe;IACtF,OAAO,QAAQ,GAAG;IAE5B,OAAO,YAAY,GAAG,QAAQ,oBAAmC,OAAO;IACxE,QAAQ,oBAAoC,OAAO,CAAC;IACpD,OAAO,SAAS,GAAG;IACnB,OAAO,MAAM,GAAG;AAClB;AACA;kBAEe;;;;;A;;A;A;A;;A,I,gB;I,M;I,Y;Q,iB,C,G,iC,A;I;I,O;Q;Q;K;I;Q,O;Y,Y;Y,M,E;Y,O,E;Y,Q,E;Y,kB;Y,e;Y,c;Y,O,E;Y,kB;Q;I;I;Q,I,C,U;Q,I,C,gB,G,C,G,+C,A,E,U,C,W,I,C,E,C,G;I;I,S;Q,a,W;Y,I,C,a,I,C,K,C,kB;iB;gB,I,I,C,Y,E;oB,I,C,K,C,kB,I,C,Y;oB;gB;gB,I,I,C,a,E;oB,I,C,K,C,kB,I,C,a;oB;gB;gB,I,I,C,gB,E;oB,I,C,K,C,kB,I,C,gB;oB;gB;Y;Q;Q;Y,C,G,qB,A,E,sB,G,I,C,C;gB,I,C,I,G;Y,wB;Y,sB;Y;Q;Q;Y,kC;Y,I,C,M,G,E;Y,I,I,C,gB,E,C,G,+C,A,E,mB,C,I,C,gB,E,I,C,gB,E,mB,I,C,C;gB,I,C,M,G;Y;Q;QAgEf;Y,iC;YAEA,IAAA,CAAA,KAAA,GAAA,EAAA;Y,I,I,C,a,EAEA,CAAA,GAAA,+CAAA,AAAA,EAAA,mBAAA,CACA,IAAA,CAAA,aAAA,EACA,IAAA,CAAA,gBAAA,EACA,kBACA,IAAA,CAAA,CAAA;gBACA,IAAA,CAAA,KAAA,GAAA;YACA;QAEA;QAEA,gBAAA,EAAA;YACA,QAAA,GAAA,CAAA,oBAAA;YACA,IAAA,CAAA,gBAAA,GAAA;YACA,IAAA,CAAA,aAAA,GAAA;YACA,IAAA,CAAA,YAAA,GAAA;Q;QAGA,aAAA,EAAA;YACA,QAAA,GAAA,CAAA,iBAAA;YACA,IAAA,CAAA,aAAA,GAAA;Y,I,C,Y,G;QAEA;QAEA,YAAA,EAAA;YACA,QAAA,GAAA,CAAA,gBAAA;YACA,IAAA,CAAA,YAAA,GAAA;Q;IAEA;I,O;QAEA;YACA,IAAA,CAAA,aAAA,GAAA;YACA,IAAA,CAAA,YAAA,GAAA;YAEA,IAAA,CAAA,cAAA;YACA,IAAA,CAAA,YAAA;QACA;QAEA;YACA,IAAA,CAAA,YAAA,GAAA;YAEA,IAAA,CAAA,YAAA;QACA;IACA;AACA;A,I,U,O,kB,a,c,O,G;kB,S,wC;;;A,I,S;I,I,M,I;I,I,K,I,c;I,I,K,I,K,C,E,I;I,O,G,a;Q,a;Q,O;Y,a,I,O;Q;Q,I;Y,mB,S,M;gB,I,O,G;Y;Y,oB,S,M;gB,I,O,G;Y;Q;I,G;Q,G,mB;Y,a;Q,G;Y,I,E,C,a,I,E,C,I,C,U;S;Q,I,E,C;Q,G,qB;Y,a;Q,G;Y,G,O;gB,a;Y,G;gB,G,iB;oB,O;wB,S;wB,Q,I,I;wB,gB,I,gB;oB;oB,I;wB,U,I,c;oB;gB;a,E;Y,I,E,C;Y,I,C,U,I,uB,G,O;gB,a;Y,G;gB,G,iB;oB,O;wB,S;wB,Q,I,M;wB,gB,I,a;wB,c,C,I,gB;oB;oB,I;wB,U,I,W;oB;gB;a,E,K,I,E;Y,I,E,C;Y,I,C,U,I,mB,G,O;gB,a;Y,G;gB,G,iB;oB,O;wB,S;wB,Q,I,K;wB,gB,I,Y;wB,c,C,I,a;oB;oB,I;wB,U,I,U;oB;gB;a,E,K,I,E;S;Q,I,E,C;Q,G,qB;Y,G,a;gB,a;gB,I;oB,S,S,M;wB,O,I,W,C;oB;gB;Y,G;gB,I,E,C;a;Y,I,E,C;Y,G,a;gB,a;gB,O;oB,Y,C,I,gB;gB;gB,I;oB,S,S,M;wB,O,I,W,C;oB;gB;Y,G;gB,I,E,C;a;S,E;K,E;A;A,I,kB,E;A,Q,M,G;A,Q,e,G;;;;;AA9HA,IAAI,OAAO,KAAO;kBAEH,CAAA,UAEf;;;;;ACJA,IAAI;AACJ,IAAI,aAAa;IACf,SAAS,QAAQ;IACjB,IAAI,OAAO,UAAU,EAAE,SAAS,OAAO,OAAO;IAC9C,OAAO,MAAM,GAAG,QAAQ,oBAAgC,MAAM;IACpD,OAAO,eAAe,GAAG,QAAQ,oBAAgC,eAAe;IAChF,OAAO,QAAQ,GAAG;IAE5B,OAAO,YAAY,GAAG,QAAQ,oBAA6B,OAAO;IAClE,QAAQ,oBAA8B,OAAO,CAAC;IAC9C,OAAO,SAAS,GAAG;IACnB,OAAO,MAAM,GAAG;AAClB;AACA;kBAEe;;;;;A;;A;;A,I,gB;I,M;I,Y;Q,iB,C,G,iC,A;I;I,O;Q;Q;K;I;Q,O;Y,Y;Y,M,E;Y,iB;Y,O,E;Q;I;I;Q,I,C,U;I;I,S;Q,a,W;Y,I,C,a,I,C,K,C,kB;iB,I,C,K,C,kB,I,C,e;Q;Q;Y,C,G,qB,A,E,c,G,I,C,C;gB,I,C,I,G;Y;Q;Q,6E;Q,gE;Q,e,E;Y,Q,G,C,mB;Y,I,C,e,G;Q;I;I,O;IAyCf;AACA;AAEA,IAAA,UAAA,OAAA,kBAAA,aAAA,cAAA,OAAA,GAAA;kBACA,SAAA,wCAAA;;;A,I,S;I,I,M,I;I,I,K,I,c;I,I,K,I,K,C,E,I;I,O,G,a;Q,a;Q,O;Y,a,I,O;Q;Q,I;Y,mB,S,M;gB,I,O,G;Y;Y,oB,S,M;gB,I,O,G;Y;Q;I,G;Q,G,mB;Y,a;Q,G;Y,I,E,C;S;Q,I,E,C;Q,G,qB;Y,a;Q,G;Y,G,O;gB,a;Y,G;gB,G,iB;oB,O;wB,S;wB,Q,I,I;wB,gB,I,e;oB;oB,I;wB,U,I,a;oB;gB;a,E;S;Q,I,E,C;Q,G,qB;Y,G,a;gB,a;gB,I;oB,S,S,M;wB,O,I,W,C;oB;gB;Y,G;gB,I,E,C;a;Y,I,E,C;Y,G,a;gB,a;gB,O;oB,Y,C,I,e;gB;gB,I;oB,S,S,M;wB,O,I,W,C;oB;gB;Y,G;gB,I,E,C;a;S,E;K,E;A;A,I,kB,E;A,Q,M,G;A,Q,e,G;;;;;AA5DA,IAAI,OAAO,KAAO;kBAEH,CAAA,UAEf;;;A,I,S;I,I,M,I;I,I,K,I,c;I,I,K,I,K,C,E,I;I,O,G,W;Q,a;Q,O;Y,M,I,a,C,c;Y,Y;Y,W,I,O,C,M;Q;Q,I;Y,iB,S,M;gB,O,I,I,C,I,O,E,U;Y;Y,kB,S,M;gB,O,I,I,C,I,O,E,U;Y;Q;I,G;Q,G,c;Y,a;Q,G;Y,G,O;gB,G,K;oB,I,E,C;iB;gB,I,E,C;gB,G,K;oB,I,E,C;iB;gB,I,E,C;gB,G,K;oB,I,E,C;iB;gB,I,E,C;gB,G,K;oB,G,U;wB,I,E,C;qB;oB,I,E,C,gB,I,E,C,C,I,c,G,S,I,kB,I;iB;gB,I,E,C;gB,G,a;oB,I;wB,S,S,M;4B,I,2B,G;wB;oB;gB,G;oB,I,E,C;iB;gB,I,E,C;gB,I,mB,G,G,a;oB,I;wB,S,S,M;4B,I,6B,G;wB;oB;gB,G;oB,I,E,C;iB,I,I,E;gB,I,E,C;gB,G,a;oB,I;wB,S,S,M;4B,I,6B,G;wB;oB;gB,G;oB,I,E,C;iB;a,E;Y,I,E,C;Y,I,U,G,G,mB;gB,O;oB,W,I,6B;oB,c,I,U;gB;gB,I;oB,kB,I,8B;gB;Y,K,I,E;Y,I,E,C;Y,I,U,I,I,U,I,2B,G,kB;gB,O;oB,W,I,2B;oB,c,I,U,C,Q,C,W,I,U,G,I,U,G;gB;gB,I;oB,kB,I,4B;gB;Y,K,I,E;Y,I,E,C;Y,I,U,I,I,U,I,2B,G,0B;gB,O;oB,W,I,6B;oB,c,I,U;gB;gB,I;oB,kB,I,8B;gB;Y,K,I,E;S,E;K,E;A;A,I,kB,E;A,Q,M,G;A,Q,e,G;;;;;AZJA,IAAI,OAAO,KAAO;kBAEH,CAAA,UAEf;;;;;AaJA,IAAI;AACJ,IAAI,aAAa;IACf,SAAS,QAAQ;IACjB,IAAI,OAAO,UAAU,EAAE,SAAS,OAAO,OAAO;IAC9C,OAAO,MAAM,GAAG,QAAQ,oBAAqC,MAAM;IACzD,OAAO,eAAe,GAAG,QAAQ,oBAAqC,eAAe;IACrF,OAAO,QAAQ,GAAG;IAE5B,OAAO,YAAY,GAAG,QAAQ,oBAAkC,OAAO;IACvE,QAAQ,oBAAmC,OAAO,CAAC;IACnD,OAAO,SAAS,GAAG;IACnB,OAAO,MAAM,GAAG;AAClB;AACA;kBAEe;;;;;A;A;A;;A,I,gB;I,O;Q;Q;Q;Q;Q;K;I,Y;Q,kB,C,G,gC,A;I;I;Q,O;Y,a,I,C,M;Y,mB;Y,a;Y,kB;Q;I;I;Q,I,C,Y,G,C,G,iC,A;I;I,S;Q;Y,Q,G,C;Y,I,C,K,C;Q;Q,a,K;Y,I,C,K,C,e;Q;Q,M,mB,Q,E,M;Y,Q,G,C,uC;Y,M,gB,M,C,G,0C,A,E,6B,C,Q,S,c,E,S,W,E,S,W,E,S,W,E,S,e,C,K,C,C,G,8C,A;Y,I,C,e,O;Y,Q,G,C,mB;Y,I,S,c,K,I,C,Y,C,qB,E;gB,I,M,O,C,gB,O;gB,O,c,K,C,G;Y;Y,I,M,O,C,gB,O,c,G,C,C,K,G,I,C,G;Y,O,c,I,C,G;Q;Q,M,e,Q;Y,I,C,iB,G;Y,I,C,W,G;Y,Q,G,C;Y,M,qB,C,G,+C,A,E,O,C,I,C,c;Y,M,c,C;Y,M,W,M,C,G,0C,A,E,mC,C,oB,I,C,U;Y,K,M,a,S;gB,I,gB,U,I,C,G;gB,gB,c,O,C,kB;gB,M,Y,M,C,G,gD,A,E,U,E,C,G,I,S,W;gB,W,C,c,G;Y;Y,I,C,W,G;Q;Q,M,yB,Q;Y,I,C,iB,G;Y,I,C,W,G;Y,Q,G,C;Y,M,qB,C,G,+C,A,E,O,C,I,C,c;Y,M,W,M,C,G,0C,A,E,mC,C,oB,I,C,U;Y,M,c,C;Y,K,M,a,S;gB,I,gB,U,I,C,G;gB,gB,c,O,C,kB;gB,M,gB,M,C,G,qC,A,E,S,c,E,U,E,C,G,I,S,W,E,S,W,E,S,W,E,S,e,C,K,C,C,G,8C,A;gB,W,C,c,G;Y;Y,I,C,W,G;Q;Q,M,gB,Q;Y,I,C,iB,G;Y,I,C,W,G;Y,Q,G,C;Y,M,qB,C,G,+C,A,E,O,C,I,C,c;Y,M,W,M,C,G,0C,A,E,mC,C,oB,I,C,U;Y,M,c,C;Y,K,M,a,S;gB,I,gB,U,I,C,G;gB,gB,c,O,C,kB;gB,M,iB,M,I,C,iB,C,U;gB,W,C,c,G;Y;Y,0D;Y,I,C,W,G;Q;Q;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MAkJf,GAGA;YACA,IAAA,CAAA,iBAAA,GAAA;QACA;QAEA,mBAAA,QAAA;YACA,OACA,CAAA,IAAA,CAAA,cAAA,IACA,SAAA,cAAA,KAAA,MACA,SAAA,WAAA,KAAA;QAEA;QACA,6BAAA,QAAA;YACA,OACA,CAAA,IAAA,CAAA,cAAA,I,S,c,K;QAGA;QACA,qBAAA,QAAA;YACA,OAAA,SAAA,cAAA,KAAA,IAAA,CAAA,YAAA,CAAA,oBAAA,I,S,c,K,I,C,Y,C,4B;QAEA;IAEA;IACA,UAAA;QACA;YACA,OACA;QACA;QAGA;YACA,IAAA,CAAA,IAAA,CAAA,cAAA,EAAA,OAAA;Y,M,O,C,G,+C,A,E,O,C,I,C,c;YAEA,QAAA,GAAA,CAAA;Y,O,C,E,K,I,C,G,G,U,E,K,I,C,G,G,a,E,K,E,C,G,G,C;QAEA;QACA;YACA,OAAA,KAAA,SAAA,CAAA,IAAA,CAAA,WAAA,EAAA,MAAA;QACA;IACA;IAEA,OAAA;QACA;YACA,QAAA,GAAA,CAAA;YACA,IAAA,CAAA,WAAA,GAAA,IAAA,CAAA,MAAA;QACA;IACA;AACA;AAEA,IAAA,UAAA,OAAA,kBAAA,aAAA,cAAA,OAAA,GAAA;kBACA,SAAA,wCAAA;;;;;ACtNA,IAAI;AACJ,IAAI,aAAa;IACf,SAAS,QAAQ;IACjB,IAAI,OAAO,UAAU,EAAE,SAAS,OAAO,OAAO;IAC9C,OAAO,MAAM,GAAG,QAAQ,oBAAgC,MAAM;IACpD,OAAO,eAAe,GAAG,QAAQ,oBAAgC,eAAe;IAChF,OAAO,QAAQ,GAAG;IAE5B,OAAO,YAAY,GAAG,QAAQ,oBAA6B,OAAO;IAClE,QAAQ,oBAA8B,OAAO,CAAC;IAC9C,OAAO,SAAS,GAAG;IACnB,OAAO,MAAM,GAAG;AAClB;AACA;kBAEe;;;;;A,I,gB;I,M;I,O;Q,S;Y,M;Y,U;Q;Q,M;Y,M;Y,U;Q;I;I,M,I,C,C,C;I,S;Q;Y,I,C,K,C;Q;I;A;A,I,U,O,kB,a,c,O,G;kB,S,wC;;;A,I,S;I,I,M,I;I,I,K,I,c;I,I,K,I,K,C,E,I;I,O,G,O;Q,G,a;Y,a;Y,O;gB,6B;gB,mB;gB,a,I,O;Y;Y,I;gB,mB,S,M;oB,I,O,G;gB;gB,oB,S,M;oB,I,O,G;gB;Y;Q,G;Y,G,mB;gB,I,E,C;a;Y,I,E,C;Y,G,c;gB,a;Y,G;gB,G,O;oB,a;gB,G;oB,G,O;wB,I,E,C,I,E,C,I,I;qB;iB;a;Y,I,E,C;Y,G,qB;gB,G,a;oB,a;oB,I;wB,S,I,K;oB;gB,G;oB,I,E,C;iB;a,E;S,E;K,E;A;A,I,kB,E;A,Q,M,G;A,Q,e,G;;;;;AAff,IAAI,OAAO,KAAO;kBAEH,CAAA,UAEf;;;A,I,S;I,I,M,I;I,I,K,I,c;I,I,K,I,K,C,E,I;I,O,G,W;Q,a;Q,O;Y,M,I,a,C,kB;Y,Y;Y,W,I,O,C,K;Q;Q,I;Y,iB,S,M;gB,O,I,I,C,I,O,E,S;Y;Y,kB,S,M;gB,O,I,I,C,I,O,E,S;Y;Q;I,G;Q,G,c;Y,a;Q,G;Y,G,K;gB,I,E,C;a;Y,I,E,C;Y,G,K;gB,I,E,C;gB,G,K;oB,I,E,C;iB;gB,I,E,C;a;Y,I,E,C;Y,G,K;gB,I,E,C;gB,G,K;oB,I,E,C;iB;gB,I,E,C;a;Y,I,E,C;Y,G,K;gB,I,E,C;gB,G,K;oB,I,E,C;iB;gB,I,E,C;a;Y,I,E,C;Y,G,K;gB,I,E,C;a;Y,I,E,C;Y,I,E,C,O,O,C,I,W,G,S,G;gB,I,Y,G,C,E;gB,I,Q,G,C,E;gB,O,G,O;oB,K;oB,a;gB,G;oB,G,K;wB,I,E,C,W,I,E,C;qB;oB,I,E,C;oB,G,Y;wB,a;oB,G;wB,G,S;4B,I,E,C;yB;wB,I,E,C;wB,G,a;4B,O;gC,O,M,c;gC,U,S,G;oC,I,I,C,O,kB;gC;gC,Y;4B;wB,G,I,E,C,I,Y,E,S,I;4B,O,G,a;gC,K;gC,O;oC,S;gC;4B,G;gC,I,E,C,I,E,C;6B;wB,I;qB,E;oB,I,E,C;oB,M,c,I,K,G,Y;wB,a;oB,G;wB,G,S;4B,I,E,C;yB;wB,I,E,C;wB,G,Y;4B,O;gC,Q;gC,O;4B;4B,O;gC,O,M,W;gC,U,S,G;oC,I,I,C,O,e;gC;gC,Y;4B;wB;qB,E,K,I,E;oB,I,E,C;oB,G,a;wB,a;wB,O;4B,Y,I,2B,C;wB;wB,I;4B,S,S,M;gC,O,I,a,C;4B;wB;oB,G;wB,I,E,C;qB;oB,I,E,C;oB,G,a;wB,a;wB,O;4B,Y,I,2B,C;wB;wB,I;4B,S,S,M;gC,O,I,uB,C;4B;wB;oB,G;wB,I,E,C;qB;oB,I,E,C;oB,M,c,I,M,M,W,G,I,G,Y;wB,a;oB,G;wB,G,S;4B,I,E,C;yB;wB,I,E,C;wB,G,Y;4B,O;gC,O,M,e;gC,U,S,G;oC,I,I,C,O,mB;gC;gC,Y;4B;wB;qB,E,K,I,E;oB,I,E,C;oB,M,c,I,K,G,Y;wB,a;oB,G;wB,G,S;4B,I,E,C;yB;wB,I,E,C;wB,G,Y;4B,O;gC,O,M,W;gC,U,S,G;oC,I,I,C,O,e;gC;gC,Y;4B;wB;qB,E,K,I,E;oB,I,E,C;oB,M,c,I,M,M,W,G,I,G,a;wB,O;4B,O,M,W;4B,U,S,G;gC,I,I,C,O,e;4B;4B,Y;wB;oB,G;wB,I,E,C,yC,I,E,C,M,W,I;wB,G,K;4B,I,E,C,M,I,E,C,M,W,G,Q,Q;yB;qB,I,I,E;oB,I,E,C;oB,I,mB,C,S,G,Y;wB,a;oB,G;wB,G,S;4B,I,E,C;yB;wB,I,E,C;wB,G,Y;4B,O;gC,Q;gC,O;4B;4B,O;gC,O,M,sB;gC,U,S,G;oC,I,I,C,O,0B;gC;gC,Y;4B;wB;qB,E,K,I,E;oB,I,E,C;oB,G,a;wB,a;wB,O;4B,Y,I,iB,C;wB;wB,I;4B,S,S,M;gC,O,I,c,C;4B;wB;oB,G;wB,I,E,C;qB;oB,I,E,C;oB,G,a;wB,a;wB,I;4B,S,S,M;gC,O,I,W,C;4B;wB;oB,G;wB,I,E,C;qB;iB,E;Y;Y,I,E,C;Y,G,a;gB,a;gB,I;oB,S,I,Q;gB;Y,G;gB,I,E,C;a;S,E;Q,I,E,C;Q,G,kB;Y,O;gB,W,I,iB;gB,Q,I,U;Y;Y,I;gB,e,I,kB;Y;Q;K,E;A;A,I,kB,E;A,Q,M,G;A,Q,e,G;;;;;ADJA,IAAI,OAAO,KAAO;kBAEH,CAAA,UAEf;;;;;AEJA,IAAI;AACJ,IAAI,aAAa;IACf,SAAS,QAAQ;IACjB,IAAI,OAAO,UAAU,EAAE,SAAS,OAAO,OAAO;IAC9C,OAAO,MAAM,GAAG,QAAQ,oBAAuC,MAAM;IAC3D,OAAO,eAAe,GAAG,QAAQ,oBAAuC,eAAe;IACvF,OAAO,QAAQ,GAAG;IAE5B,OAAO,YAAY,GAAG,QAAQ,oBAAoC,OAAO;IACzE,QAAQ,oBAAqC,OAAO,CAAC;IACrD,OAAO,SAAS,GAAG;IACnB,OAAO,MAAM,GAAG;AAClB;AACA;kBAEe;;;;;A;A;;A,I,gB;I,O;Q;Q;Q;Q;K;I,Y;Q,oB,C,G,iC,A;I;I;Q,O;Y,e,I,C,Q;Y,mB;Y,mB;Y,a;Q;I;I;Q,I,C,Y,G,C,G,iC,A;I;I,S;Q;Y,Q,G,C;Y,I,C,K,C;Q;Q,e,W;Y,I,C,K,C,iB;Q;Q,oB,W;Y,O;gB,C,G,iC,A,E,8B;gB,C,G,iC,A,E,e;a,C,Q,C;Q;Q;Y,I,C,iB,G;Y,Q,G,C,qB,I,C,iB;Q;Q,W,W;Y,Q,G,C;Y,Y,sB,G;Y,Y,Y,G;Q;I;I,U,C;I,O;Q;Y,Q,G,C;Y,I,C,a,G,I,C,Q;Q;I;A;A,I,U,O,kB,a,c,O,G;kB,S,wC;;;;;ACff,IAAI;AACJ,IAAI,aAAa;IACf,SAAS,QAAQ;IACjB,IAAI,OAAO,UAAU,EAAE,SAAS,OAAO,OAAO;IAC9C,OAAO,MAAM,GAAG,QAAQ,mBAAiC,MAAM;IACrD,OAAO,eAAe,GAAG,QAAQ,mBAAiC,eAAe;IACjF,OAAO,QAAQ,GAAG;IAE5B,OAAO,YAAY,GAAG,QAAQ,mBAA8B,OAAO;IACnE,QAAQ,oBAA+B,OAAO,CAAC;IAC/C,OAAO,SAAS,GAAG;IACnB,OAAO,MAAM,GAAG;AAClB;AACA;kBAEe;;;;;A,I,gB;I,O;Q;K;I;Q,O,C;I;I,S;Q;Y,I,C,K,C;Q;I;A;A,I,U,O,kB,a,c,O,G;kB,S,wC;;;A,I,S;I,I,M,I;I,I,K,I,c;I,I,K,I,K,C,E,I;I,O,G,a;Q,a;Q,O;Y,6B;Y,mB;Y,a,I,iB;Q;Q,I;Y,mB,S,M;gB,I,iB,G;Y;Y,oB,S,M;gB,I,iB,G;Y;Q;I,G;Q,G,mB;Y,I,E,C;S;Q,I,E,C;Q,G,qB;Y,G,K;gB,I,E,C;a;Y,I,E,C;Y,G,M;gB,G,M;oB,G,U;wB,I,E,C;qB;oB,I,E,C;iB;gB,I,E,C;gB,G,M;oB,G,U;wB,I,E,C;qB;oB,I,E,C;iB;gB,I,E,C;gB,G,M;oB,G,U;wB,I,E,C;qB;oB,I,E,C;iB;gB,I,E,C;gB,G,M;oB,G,U;wB,I,E,C;qB;oB,I,E,C;iB;gB,I,E,C;gB,G,M;oB,G,U;wB,I,E,C;qB;oB,I,E,C;iB;a;Y,I,E,C;Y,G,K;gB,I,E,C;a;Y,I,E,C;Y,G,K;gB,I,E,C;a;Y,I,E,C;Y,G,K;gB,I,E,C;a;Y,I,E,C;Y,G,K;gB,I,E,C;a;Y,I,E,C;Y,G,M;gB,G,M;oB,G,Q;wB,I,E,C;qB;oB,I,E,C;iB;gB,I,E,C;gB,G,M;oB,G,Q;wB,I,E,C;qB;oB,I,E,C;iB;gB,I,E,C;gB,G,M;oB,G,Q;wB,I,E,C;qB;oB,I,E,C;iB;a;S;Q,I,E,C;Q,G,qB;Y,G,a;gB,a;gB,I;oB,S,S,M;wB,O,I,W;oB;gB;Y,G;gB,I,E,C;a;S,E;K,E;A;A,I,kB,E;A,Q,M,G;A,Q,e,G;;;;;AAff,IAAI,OAAO,KAAO;kBAEH,CAAA,UAEf;;;A,I,S;I,I,M,I;I,I,K,I,c;I,I,K,I,K,C,E,I;I,O,G,W;Q,a;Q,O;Y,M,I,a,C,oB;Y,Y;Y,W,I,O,C,M;Q;Q,I;Y,iB,S,M;gB,O,I,I,C,I,O,E,U;Y;Y,kB,S,M;gB,O,I,I,C,I,O,E,U;Y;Q;I,G;Q,G,c;Y,a;Q,G;Y,G,K;gB,I,E,C;a;Y,I,E,C;Y,I,E,C,O,O,C,I,a,G,S,G;gB,I,c,G,C,E;gB,I,Q,G,C,E;gB,O,G,O;oB,K;oB,a;gB,G;oB,G,K;wB,I,E,C,a,I,E,C;qB;oB,I,E,C;oB,G,Y;wB,a;oB,G;wB,G,S;4B,I,E,C;yB;wB,I,E,C;wB,G,a;4B,I;gC,e,S,M;oC,O,I,S,C;gC;4B;4B,O;gC,O,M,W;gC,U,S,G;oC,I,I,C,O,e;gC;gC,Y;4B;wB,G,I,E,C,I,Y,E,S,I;4B,O,G,a;gC,K;gC,O;oC,S;gC;4B,G;gC,I,E,C,I,E,C;6B;wB,I;qB,E;oB,I,E,C;oB,M,W,I,I,Y,C,a,G,G,Y;wB,a;oB,G;wB,G,S;4B,I,E,C;yB;wB,I,E,C;wB,G,Y;4B,O;gC,Q;gC,O;4B;4B,O;gC,O,M,Y;gC,U,S,G;oC,I,I,C,O,gB;gC;gC,Y;4B;wB;qB,E,K,I,E;oB,I,E,C;oB,I,kB,C,M,W,I,G,Y;wB,a;oB,G;wB,G,S;4B,I,E,C;yB;wB,I,E,C;wB,G,a;4B,O;gC,O,M,Y;gC,U,S,G;oC,I,I,C,O,gB;gC;gC,Y;4B;wB,G,I,E,C,O,I,C,I,M,G,S,I;4B,O,G,a;gC,K;gC,O;oC,S;gC;4B,G;gC,I,E,C,I,E,C;6B;wB,I;qB,E,K,I,E;oB,I,E,C;oB,M,W,I,I,Y,C,8B,G,G,Y;wB,a;oB,G;wB,G,S;4B,I,E,C;yB;wB,I,E,C;wB,G,Y;4B,O;gC,Q;gC,O;4B;4B,O;gC,O,M,sB;gC,U,S,G;oC,I,I,C,O,0B;gC;gC,Y;4B;wB;qB,E,K,I,E;oB,I,E,C;oB,M,W,I,I,Y,C,I,G,G,O;wB,G,a;4B,a;4B,I;gC,S,I,c;4B;wB,G;4B,I,E,C;4B,G,W;gC,a;gC,I;oC,S,I,c;gC;4B,G;gC,I,E,C;6B;yB,E;wB,I,E,C;wB,G,Y;4B,a;wB,G;4B,G,S;gC,I,E,C;6B;4B,I,E,C;4B,G,Y;gC,O;oC,e;gC;gC,O;oC,O,M,Y;oC,U,S,G;wC,I,I,C,O,gB;oC;oC,Y;gC;4B;yB,E;qB,E,K,I,E;oB,I,E,C;oB,G,a;wB,a;wB,I;4B,S,S,M;gC,O,I,a,C;4B;wB;oB,G;wB,I,E,C;qB;iB,E;Y;Y,I,E,C;Y,G,a;gB,a;gB,I;oB,S,I,U;gB;Y,G;gB,I,E,C;a;Y,I,E,C;Y,G,oB;gB,O;oB,qB,I,iB;gB;gB,I;oB,uB,S,M;wB,I,iB,G;oB;gB;Y;S,E;K,E;A;A,I,kB,E;A,Q,M,G;A,Q,e,G;;;;;ADJA,IAAI,OAAO,KAAO;kBAEH,CAAA,UAEf;;;;;AEJA,IAAI;AACJ,IAAI,aAAa;IACf,SAAS,QAAQ;IACjB,IAAI,OAAO,UAAU,EAAE,SAAS,OAAO,OAAO;IAC9C,OAAO,MAAM,GAAG,QAAQ,oBAAyC,MAAM;IAC7D,OAAO,eAAe,GAAG,QAAQ,oBAAyC,eAAe;IACzF,OAAO,QAAQ,GAAG;IAE5B,OAAO,YAAY,GAAG,QAAQ,oBAAsC,OAAO;IAC3E,QAAQ,oBAAuC,OAAO,CAAC;IACvD,OAAO,SAAS,GAAG;IACnB,OAAO,MAAM,GAAG;AAClB;AACA;kBAEe;;;;;A;A,I,gB;I,O;Q;Q;Q;Q;Q;Q;Q;K;I,Y,C;I;Q,O;Y,iB,I,C,U;Q;I;I;Q,I,C,U,G,C,G,+B,A;I;I,S;Q;Y,Q,G,C;Y,I,C,K,C;Q;Q,iB,a;Y,I,C,K,C,mB;Q;Q,a,a;Y,I,C,U,C,c,C,M,G,E;Q;I;I,U;Q;Y,O,O,M,C,C,G,+B,A;Q;I;I,O;Q;Y,Q,G,C;Y,I,C,e,G,I,C,U;Q;I;A;A,I,U,O,kB,a,c,O,G;kB,S,wC;;;A,I,S;I,I,M,I;I,I,K,I,c;I,I,K,I,K,C,E,I;I,O,G,W;Q,a;Q,O;Y,M,I,a,C,sB;Y,Y;Y,W,I,O,C,K;Q;Q,I;Y,iB,S,M;gB,O,I,I,C,I,O,E,S;Y;Y,kB,S,M;gB,O,I,I,C,I,O,E,S;Y;Q;I,G;Q,G,c;Y,a;Q,G;Y,G,K;gB,I,E,C;a;Y,I,E,C;Y,I,E,C,O,I,C,I,e,G,S,kB,E,K;gB,O,G,O;oB,K;oB,a;gB,G;oB,G,K;wB,I,E,C,e,I,E,C;qB;oB,I,E,C;oB,G,Y;wB,a;oB,G;wB,G,S;4B,I,E,C;yB;wB,I,E,C;wB,G,a;4B,I;gC,e,S,M;oC,O,I,W,C;gC;4B;4B,O;gC,O,I,U,C,mB,C,I;gC,U,S,G;oC,I,I,C,I,U,C,mB,E,Q;gC;gC,Y;4B;wB,G,I,E,C,I,U,E,S,I;4B,O,G,a;gC,K,K,I;gC,O;oC,S,K,I;gC;4B,G;gC,I,E,C,I,E,C,K,I;6B;wB,I;qB,E;oB,I,E,C;oB,I,U,C,mB,C,I,I,K,G,O;wB,G,K;4B,G,U;gC,I,E,C;6B;4B,I,E,C,e,I,E,C,I,U,C,I,U,C,mB,C,I,C,C,W;yB;qB,I,I,E;oB,I,E,C;oB,I,U,C,mB,C,I,I,K,G,O,I,E,C,I,U,C,I,U,C,mB,C,I,C,C,c,E,S,I,E,K;wB,O,G,Y;4B,K;4B,a;wB,G;4B,G,S;gC,I,E,C,I,E,C,K,I,I,O,I,E,C,K,W;6B;4B,I,E,C;4B,G,Y;gC,O;oC,Q,K,I;gC;gC,O;oC,O,I,U,C,mB,C,M,C,M;oC,U,S,G;wC,I,I,C,I,U,C,mB,C,M,E,O;oC;oC,Y;gC;4B;yB,E;oB,I,K,I,E;oB,I,E,C;oB,G,a;wB,a;wB,I;4B,S,S,M;gC,O,I,e,C;4B;wB;oB,G;wB,I,E,C;qB;iB,E;Y;Y,I,E,C;Y,G,a;gB,a;gB,I;oB,S,I,Y;gB;Y,G;gB,I,E,C;a;S,E;K,E;A;A,I,kB,E;A,Q,M,G;A,Q,e,G;;;;;AAff,IAAI,OAAO,KAAO;kBAEH,CAAA,UAEf;;;;;ACJA,IAAI;AACJ,IAAI,aAAa;IACf,SAAS,QAAQ;IACjB,IAAI,OAAO,UAAU,EAAE,SAAS,OAAO,OAAO;IAC9C,OAAO,MAAM,GAAG,QAAQ,oBAAsC,MAAM;IAC1D,OAAO,eAAe,GAAG,QAAQ,oBAAsC,eAAe;IACtF,OAAO,QAAQ,GAAG;IAG5B,QAAQ,oBAAoC,OAAO,CAAC;IACpD,OAAO,SAAS,GAAG;IACnB,OAAO,MAAM,GAAG;AAClB;AACA;kBAEe;;;;;A;A;A,I,gB;I,O;Q;Q;Q;Q;Q;Q;Q;Q;Q;Q;Q;K;I,Y,C;I;Q,O;Y,iB,I,C,U;Y,iB,I,C,U;Y,mB,I,C,Y;Y,sB,I,C,e;Y,sB,I,C,e;Y,oB,I,C,a;Y,kB,I,C,W;Y,mB,I,C,Y;Y,mB,I,C,Y;Y,qB,I,C,c;Y,iB,E;Q;I;I;Q,I,C,0B,G,C,G,yC,A;Q,I,C,a,G,C,G,wC,A,E,W;I;I,S;Q,Q,G,E,K;Y,Q,G,C,W,K;Y,I,C,K,C,C,O,E,I,C,E;Q;Q,M;Y,M,Y,M,C,G,wC,A,E,a,C,I,C,oB;Y,K,M,W,U,I,C,e,C,I,C;gB,M,Q,I,C,G;gB,I,Q,E,C,G;Y;Q;I;I,U;Q;Y,O;gB,I,C,0B,C,M;gB,I,C,0B,C,K;a,C,Q,C,I,C,e;Q;Q;Y,O,I,C,e,I,I,C,0B,C,K;Q;Q;Y,O,I,C,e,I,I,C,0B,C,G;Q;Q;Y,O;gB,I,C,0B,C,a;gB,I,C,0B,C,gB;a,C,Q,C,I,C,e;Q;I;I,O;Q;Y,I,C,e,G,I,C,U;Q;Q;Y,I,C,e,G,I,C,U;Q;Q;Y,I,C,oB,G,I,C,e;Y,I,C,uB;Q;Q;Y,I,C,oB,G,I,C,e;Q;Q;Y,I,C,iB,G,I,C,Y;Q;Q;Y,I,C,mB,G,I,C,c;Q;Q;Y,I,C,gB,G,I,C,W;Q;Q;Y,I,C,iB,G,I,C,Y;Q;QA+Ff;YACA,IAAA,CAAA,kBAAA,GAAA,IAAA,CAAA,aAAA;QACA;IAEA;A;AAGA,IAAA,UAAA,OAAA,kBAAA,aAAA,cAAA,OAAA,GAAA;kBACA,SAAA,wCAAA;;;A,I,S;I,I,M,I;I,I,K,I,c;I,I,K,I,K,C,E,I;I,O,G,W;Q,a;Q,O;Y,M,I,a,C,mB;Y,Y;Y,W,I,O,C,K;Q;Q,I;Y,iB,S,M;gB,O,I,I,C,I,O,E,S;Y;Y,kB,S,M;gB,O,I,I,C,I,O,E,S;Y;Q;I,G;Q,G,c;Y,a;Q,G;Y,G,K;gB,I,E,C;a;Y,I,E,C;Y,G,Y;gB,a;Y,G;gB,G,S;oB,I,E,C;iB;gB,I,E,C;gB,G,Y;oB,I;wB,U,S,M;4B,O,I,M,C,c,I,e;wB;oB;oB,O;wB,O,I,e;wB,U,S,G;4B,I,e,G;wB;wB,Y;oB;gB;a,E;Y,I,E,C;Y,G,Y;gB,a;Y,G;gB,G,S;oB,I,E,C;iB;gB,I,E,C;gB,G,a;oB,I;wB,e,S,M;4B,O,I,M,C,c,I,e;wB;oB;oB,O;wB,O,I,e;wB,U,S,G;4B,I,e,G;wB;wB,Y;oB;gB,G,I,E,C,I,0B,E,S,I;oB,O,G,a;wB,K;wB,O;4B,S;wB;oB,G;wB,I,E,C,I,E,C;qB;gB,I;a,E;Y,I,E,C;Y,G,K;gB,I,E,C;a;Y,I,E,C;Y,I,yB,G,G,O;gB,G,Y;oB,a;gB,G;oB,G,S;wB,I,E,C;qB;oB,I,E,C;oB,G,a;wB,I;4B,e,S,M;gC,O,I,M,C,mB,I,oB;4B;wB;wB,O;4B,O,I,oB;4B,U,S,G;gC,I,oB,G;4B;4B,Y;wB;oB,G,I,E,C,I,a,E,S,I;wB,O,G,a;4B,K,K,E;4B,O;gC,S,K,E;4B;wB,G;4B,I,E,C,I,E,C,K,I;yB;oB,I;iB,E;gB,I,E,C;gB,G,Y;oB,a;gB,G;oB,G,S;wB,I,E,C;qB;oB,I,E,C;oB,G,a;wB,I;4B,e,S,M;gC,O,I,M,C,mB,I,oB;4B;wB;wB,O;4B,O,I,oB;4B,U,S,G;gC,I,oB,G;4B;4B,Y;wB;oB,G,I,E,C,I,e,E,S,I;wB,O,G,a;4B,K,K,E;4B,O;gC,S,K,E;4B;wB,G;4B,I,E,C,I,E,C,K,I;yB;oB,I;iB,E;gB,I,E,C;gB,G,Y;oB,a;gB,G;oB,G,S;wB,I,E,C;qB;oB,I,E,C;oB,G,Y;wB,O;4B,Q;wB;wB,I;4B,U,S,M;gC,O,I,M,C,iB,I,kB;4B;wB;wB,O;4B,O,I,kB;4B,U,S,G;gC,I,kB,G;4B;4B,Y;wB;oB;iB,E;a,E,K,I,E;Y,I,E,C;Y,I,uB,G,G,O;gB,G,Y;oB,a;gB,G;oB,G,S;wB,I,E,C;qB;oB,I,E,C;oB,G,Y;wB,I;4B,U,S,M;gC,O,I,M,C,e,I,gB;4B;wB;wB,O;4B,O,I,gB;4B,U,S,G;gC,I,gB,G;4B;4B,Y;wB;oB;iB,E;gB,I,E,C;gB,G,Y;oB,a;gB,G;oB,G,S;wB,I,E,C;qB;oB,I,E,C;oB,G,Y;wB,O;4B,Q;wB;wB,I;4B,U,S,M;gC,O,I,M,C,gB,I,iB;4B;wB;wB,O;4B,O,I,iB;4B,U,S,G;gC,I,iB,G;4B;4B,Y;wB;oB;iB,E;a,E,K,I,E;Y,I,E,C;Y,I,uB,G,G,O;gB,G,Y;oB,a;gB,G;oB,G,S;wB,I,E,C;qB;oB,I,E,C;oB,G,Y;wB,I;4B,U,S,M;gC,O,I,M,C,kB,I,mB;4B;wB;wB,O;4B,O,I,mB;4B,U,S,G;gC,I,mB,G;4B;4B,Y;wB;oB;iB,E;gB,I,E,C;gB,G,Y;oB,a;gB,G;oB,G,S;wB,I,E,C;qB;oB,I,E,C;oB,G,Y;wB,O;4B,Q;wB;wB,I;4B,U,S,M;gC,O,I,M,C,gB,I,iB;4B;wB;wB,O;4B,O,I,iB;4B,U,S,G;gC,I,iB,G;4B;4B,Y;wB;oB;iB,E;a,E,K,I,E;S,E;K,E;A;A,I,kB,E;A,Q,M,G;A,Q,e,G;;;;;AAtHA,IAAI,OAAO,KAAO;kBAEH,CAAA,UAEf;;;;;ACJA,IAAI;AACJ,IAAI,aAAa;IACf,SAAS,QAAQ;IACjB,IAAI,OAAO,UAAU,EAAE,SAAS,OAAO,OAAO;IAC9C,OAAO,MAAM,GAAG,QAAQ,oBAAiC,MAAM;IACrD,OAAO,eAAe,GAAG,QAAQ,oBAAiC,eAAe;IACjF,OAAO,QAAQ,GAAG;IAE5B,OAAO,YAAY,GAAG,QAAQ,oBAA8B,OAAO;IACnE,QAAQ,oBAA+B,OAAO,CAAC;IAC/C,OAAO,SAAS,GAAG;IACnB,OAAO,MAAM,GAAG;AAClB;AACA;kBAEe;;;;;A;;A;;A;A,I,gB;I,O;Q;Q;Q;Q;Q;K;I,Y;mB,C,G,4B,A;Q,yB,C,G,sC,A;I;I;Q,O;Y,qB;Y,mB;Q;I;I,Y;I,S;Q,yB,kB;Y,Q,G,C,sB;Y,Q,G,C,I,C,c,C,mB;Q;Q,e,S;Y,I,C,iB,G;Y,I,C,mB,G;Q;Q;Y,I,C,mB,G;Q;Q,oB,Y;Y,M,Q,C;Y,M,U,C;Y,M,Q,E;Y,M,Y,E,E,sB;Y,mC;Y,K,I,Q,O,I,C,c;gB,K,C,K,G,K,C,K,I,E;gB,K,I,O,Y,C,K,C;oB,K,C,I,G,K,C,I,I,E;oB,K,C,I,C,I,C;gB;Y;Y,M,Q,C;gB,I,U,Q,C,O,O,O,iB;gB,I,C,O,C,K,E;oB,O,C,K,G;oB,U,I,C;oB,I,K,C,K,E,K,I,Y,K,C,K,C;wBA4Cf,IAAA,CAAA,MAAA,WAAA,OAAA,OAAA,4BAAA;oBACA;oB,U,G;oB,M,I,C;gB;gBAKA,OAAA;YACA;YAEA,KAAA,IAAA,QAAA,OAAA,IAAA,CAAA,OACA,IAAA,CAAA,OAAA,CAAA,KAAA,EAAA;gBACA,IAAA,CAAA,MAAA,OAAA,OAAA,MAAA,iBAAA;YACA;YAGA,OAAA,MAAA,MAAA,CAAA,CAAA,IAAA,EAAA,UAAA,CAAA;QACA;QAGA,0BAAA,aAAA;YACA,QAAA,GAAA,CAAA,mCAAA;YACA,QAAA,GAAA,CAAA,QAAA,IAAA,CAAA,iBAAA;YAEA,IAAA,aAAA,cAAA,GAAA,CAAA,CAAA,OAAA,KAAA,SAAA;Y,I,C,c,C,I,C,iB,C,G;YAGA,QAAA,GAAA,CAAA,qBAAA,IAAA,CAAA,cAAA;YACA,MAAA,iBAAA,IAAA,CAAA,kBAAA,CAAA,IAAA,CAAA,cAAA;Y,Q,G,C,qB;QAEA;IAGA;I,U,C;IAGA,OAAA,CAAA;AACA;AAEA,IAAA,UAAA,OAAA,kBAAA,aAAA,cAAA,OAAA,GAAA;kBACA,SAAA,wCAAA;;;;;AClGA,IAAI;AACJ,IAAI,aAAa;IACf,SAAS,QAAQ;IACjB,IAAI,OAAO,UAAU,EAAE,SAAS,OAAO,OAAO;IAC9C,OAAO,MAAM,GAAG,QAAQ,oBAAsC,MAAM;IAC1D,OAAO,eAAe,GAAG,QAAQ,oBAAsC,eAAe;IACtF,OAAO,QAAQ,GAAG;IAE5B,OAAO,YAAY,GAAG,QAAQ,oBAAmC,OAAO;IACxE,QAAQ,oBAAoC,OAAO,CAAC;IACpD,OAAO,SAAS,GAAG;IACnB,OAAO,MAAM,GAAG;AAClB;AACA;kBAEe;;;;;A,I,gB;I,O;Q;Q;Q;Q;K;I,Y,C;I;Q,O;Y,gB,E;Y,oB,E;Q;I;I,Y;I,S;Q;Y,Q,G,C;Y,I,C,c,G,E;Q;Q;Y,I,C,kB,G,E;Q;Q;Y,I,C,kB,G,E;Y,I,C,c,G,E;Y,I,C,K,C;Q;Q;Y,I,C,K,C,sB,I,C,c,C,M,C,I,C,kB;Y,I,C,K,C;Y,I,C,kB,G,E;Y,I,C,c,G,E;Y,Q,G,C,uB,I,C,kB;Q;Q,e,K;Y,Q,G,C,wB;Y,I,C,c,G;Q;Q,mB,K;Y,Q,G,C,4B;Y,I,C,kB,G;Q;Q,mB,K;Y,I,S;Y,I,Q,G,S;Y,O,C,E,M,K,E,O,S,C;Q;Q,e,G;Y,M,Y,E;Y,I,I,O,I,I,I,c,C,M;gB,M,W;oB,W;oB,G,G,C,I;gB;gB,U,I,C;Y;YAiDf,OAAA;QACA;QAEA,+BAAA,SAAA;YACA,OAAA,aAAA,IAAA,CAAA,iBAAA;QACA;IAIA;IACA,UAAA;Q,mB;YAEA;gBACA,OAAA,IAAA,CAAA,aAAA,CAAA,IAAA,CAAA,MAAA;YACA;YACA,KAAA,QAAA,GAEA;QACA;QACA,uBAAA;YACA;gB,O,I,C,a,C,I,C,U;YAEA;YACA,KAAA,QAAA,GAEA;QACA;QAEA;YACA,OAAA,IAAA,CAAA,iBAAA,IAAA;QACA;IAEA;IAEA,OAAA,CAAA;AACA;AAEA,IAAA,UAAA,OAAA,kBAAA,aAAA,cAAA,OAAA,GAAA;kB,S,wC;;;A,I,S;I,I,M,I;I,I,K,I,c;I,I,K,I,K,C,E,I;I,O,G,a;Q,a;Q,O;Y,6B;Y,mB;Y,a,I,mB;Q;Q,I;Y,mB,S,M;gB,I,mB,G;Y;Y,oB,S,M;gB,I,mB,G;Y;Q;I,G;Q,G,Y;Y,a;Y,O;gB,W;gB,qB,I,c;Y;Y,I;gB,e,I,a;gB,0B,S,M;oB,I,c,G;gB;gB,4B,S,M;oB,I,c,G;gB;Y;Y,a,I,E,C;gB;oB,K;oB,I,S,G;wB,I,Q,I,K;wB,O,G,oB,C,G;4B,G,O;gC,a;4B,G;gC,I,E,C,I,E,C,I,iB,C;6B;4B,I,E,C;4B,G,O;gC,a;4B,G;gC,G,a;oC,a;oC,I;wC,S,I,uB;oC;gC,G;oC,G,W;wC,I,E,C;qC;iC,E;6B,E;yB;oB;gB;gB;oB,K;oB,I,S,G;wB,I,O,I,I;wB,O,G,gB;4B,O;gC,gB,I,iB;4B;4B,O;gC,iB;gC,kB;gC,e,I,iB;4B;wB,G;4B,G,iB;gC,O;oC,Y;gC;4B,G;gC,I,E,C,M,I,E,C,K,S,I;6B;4B,I,E,C;4B,G,iB;gC,O;oC,Y;gC;4B,G;gC,I,E,C,M,I,E,C,K,c,I;6B;4B,I,E,C;4B,G,iB;gC,O;oC,Y;gC;4B,G;gC,I,E,C,M,I,E,C,K,W,I;6B;4B,I,E,C;4B,G,iB;gC,O;oC,c;oC,Y;gC;4B,G;gC,I,E,C,M,I,E,C,K,sB,I;6B;yB,E;oB;gB;a;Y,O;gB,O,I,iB;gB,U,S,G;oB,I,iB,G;gB;gB,Y;Y;Q,G;Y,G,oB;gB,G,M;oB,a;gB,G;oB,I,E,C;iB;a;S,E;Q,I,E,C;Q,G,Y;Y,a;Y,O;gB,W;gB,qB,I,kB;Y;Y,I;gB,e,I,iB;gB,0B,S,M;oB,I,kB,G;gB;gB,4B,S,M;oB,I,kB,G;gB;Y;Y,a,I,E,C;gB;oB,K;oB,I,S,G;wB,I,Q,I,K;wB,O,G,oB,C,G;4B,G,O;gC,a;4B,G;gC,I,E,C,I,E,C,I,iB,C;6B;4B,I,E,C;4B,G,O;gC,a;4B,G;gC,G,a;oC,a;oC,I;wC,S,I,sB;oC;gC,G;oC,G,W;wC,I,E,C;qC;iC,E;6B,E;yB;oB;gB;gB;oB,K;oB,I,S,G;wB,I,O,I,I;wB,O,G,gB;4B,O;gC,gB,I,6B,C,K,S;4B;4B,O;gC,iB,I,iB,G,W;gC,kB;gC,e,I,6B,C,K,S;4B;wB,G;4B,G,iB;gC,O;oC,Y;gC;4B,G;gC,I,E,C,M,I,E,C,K,S,I;6B;4B,I,E,C;4B,G,iB;gC,O;oC,Y;gC;4B,G;gC,I,E,C,M,I,E,C,K,I,I;6B;4B,I,E,C;4B,G,iB;gC,O;oC,Y;gC;4B,G;gC,I,E,C,M,I,E,C,K,M,I;6B;yB,E;oB;gB;a;Y,O;gB,O,I,qB;gB,U,S,G;oB,I,qB,G;gB;gB,Y;Y;Q,G;Y,G,oB;gB,G,M;oB,a;gB,G;oB,I,E,C;iB;a;S,E;Q,I,E,C;Q,G,qB;Y,a;Q,G;Y,G,a;gB,a;gB,I;oB,S,I,W;gB;Y,G;gB,I,E,C;a;Y,I,E,C;Y,G,a;gB,a;gB,I;oB,S,I,Y;gB;Y,G;gB,I,E,C;a;S,E;K,E;A;A,I,kB,E;A,Q,M,G;A,Q,e,G;;;;;AArGA,IAAI,OAAO,KAAO;kBAEH,CAAA,UAEf;;;A,I,S;I,I,M,I;I,I,K,I,c;I,I,K,I,K,C,E,I;I,O,G,W;Q,a;Q,O;Y,M,I,a,C,c;Y,Y;Y,W,I,O,C,O;Q;Q,I;Y,iB,S,M;gB,O,I,I,C,I,O,E,W;Y;Y,kB,S,M;gB,O,I,I,C,I,O,E,W;Y;Q;I,G;Q,G,c;Y,a;Q,G;Y,O,I,C,I,U,E,M,I,I,G,O;gB,G,K;oB,G,K;wB,I,E,C;qB;oB,I,E,C;iB;a,I,G,O;gB,G,K;oB,I,E,C;iB;gB,I,E,C;gB,G,W;oB,G,gB;wB,a;oB,G;wB,I,E,C;wB,G,O;4B,a;wB,G;4B,I,E,C,oC,I,E,C,I,c,C,I,C,E,I;yB;wB,I,E,C;wB,G,a;4B,I;gC,S,S,M;oC,O,I,a,C;gC;4B;wB,G;4B,I,E,C;yB;qB,E;oB,I,E,C;oB,I,E,C,O,I,C,I,U,G,S,kB,E,K;wB,O,G,gB;4B,K;4B,a;wB,G;4B,I,E,C,iB,I,E,C,sB;4B,G,a;gC,I;oC,O,S,M;wC,O,I,uB,C;oC;gC;gC,O;oC,O,I,c,C,mB;oC,U,S,G;wC,I,I,C,I,c,E,oB;oC;oC,Y;gC;4B,G,I,E,C,I,c,C,mB,E,S,G,E,Q;gC,O,G,O;oC,K;oC,a;gC,G;oC,I,E,C,uB,I,E,C,W,K,Q,I,E,C,O;iC;4B,I;4B,I,E,C;4B,G,a;gC,I;oC,S,S,M;wC,O,I,a,C;oC;gC;4B,G;gC,I,E,C;6B;yB,E;oB;iB,E;a,E;Y,I,E,C;Y,G,yB;gB,O;oB,c,I,U;oB,U,I,M;oB,kB,I,c;oB,uB,I,mB;oB,qB,I,iB;gB;gB,I;oB,wB,I,oB;oB,sB,I,wB;gB;Y;S,E;K,E;A;A,I,kB,E;A,Q,M,G;A,Q,e,G;;;;;ADJA,IAAI,OAAO,KAAO;kBAEH,CAAA,UAEf;;;;;AEJA,IAAI;AACJ,IAAI,aAAa;IACf,SAAS,QAAQ;IACjB,IAAI,OAAO,UAAU,EAAE,SAAS,OAAO,OAAO;IAC9C,OAAO,MAAM,GAAG,QAAQ,oBAAgC,MAAM;IACpD,OAAO,eAAe,GAAG,QAAQ,oBAAgC,eAAe;IAChF,OAAO,QAAQ,GAAG;IAG5B,QAAQ,oBAA8B,OAAO,CAAC;IAC9C,OAAO,SAAS,GAAG;IACnB,OAAO,MAAM,GAAG;AAClB;AACA;kBAEe;;;;;A;A,I,gB;I,O;Q;Q;Q;Q;Q;Q;Q;Q;Q;Q;Q;Q;Q;Q;K;I,Y,C;I;Q,O;Y,gB,I,C,S;Y,0B,I,C,mB;Y,iB,I,C,U;Y,iB,I,C,U;Y,mB,I,C,Y;Y,sB,I,C,e;Y,sB,I,C,e;Y,oB,I,C,a;Y,kB,I,C,W;Y,mB,I,C,Y;Y,qB,I,C,c;Q;I;I;Q,I,C,0B,G,C,G,yC,A;I;I,S;Q,Q,G,E,K;Y,Q,G,C,W,K;Y,I,O,e,I,C,S,I,O,I,C,M,C,uB,E;Y,I,C,K,C,C,O,E,I,C,E;Q;I;I,U;Q;Y,O,O,M,C,C,G,+B,A;Q;Q;Y,O,G,+B;Q;Q;Y,O;gB,I,C,0B,C,M;gB,I,C,0B,C,K;a,C,Q,C,I,C,e;Q;Q;Y,O,I,C,e,I,I,C,0B,C,K;Q;Q;Y,O,I,C,e,I,I,C,0B,C,G;Q;I;I,O;Q;Y,I,C,c,G,I,C,S;Q;Q;Y,I,C,wB,G,I,C,mB;Q;Q;Y,I,C,e,G,I,C,U;Q;Q;Y,I,C,e,G,I,C,U;Q;Q;Y,I,C,iB,G,I,C,Y;Q;Q;Y,I,C,oB,G,I,C,e;Q;Q;Y,I,C,oB,G,I,C,e;Q;Q;Y,I,C,kB,G,I,C,a;Q;Q;Y,I,C,mB,G,I,C,c;Q;I;A;A,I,U,O,kB,a,c,O,G;kB,S,wC;;;A,I,S;I,I,M,I;I,I,K,I,c;I,I,K,I,K,C,E,I;I,O,G,W;Q,a;Q,O;Y,M,I,a,C,M;Y,Y;Y,W,I,O,C,M;Q;Q,I;Y,iB,S,M;gB,O,I,I,C,I,O,E,U;Y;Y,kB,S,M;gB,O,I,I,C,I,O,E,U;Y;Q;I,G;Q,G,c;Y,a;Q,G;Y,G,Y;gB,a;Y,G;gB,G,S;oB,I,E,C;iB;gB,I,E,C;gB,G,a;oB,I;wB,e,S,M;4B,O,I,M,C,a,I,c;wB;oB;oB,O;wB,O,I,c;wB,U,S,G;4B,I,c,G;wB;wB,Y;oB;gB,G,I,E,C,I,U,E,S,I;oB,O,G,a;wB,K,K,I;wB,O;4B,S,K,I;wB;oB,G;wB,I,E,C,I,E,C,K,I;qB;gB,I;a,E;Y,I,E,C;Y,I,S,I,K,G,O;gB,G,K;oB,G,U;wB,I,E,C;qB;oB,I,E,C,e,I,E,C,I,U,C,I,S,C,C,W;iB;a,I,I,E;Y,I,E,C;Y,I,S,I,K,G,O;gB,I,U,C,I,S,C,C,c,I,Y,G,O,I,E,C,I,M,E,S,I,E,K;oB,O,G,O;wB,K;wB,a;oB,G;wB,G,S;4B,I,E,C,M,I,E,C,S;yB;wB,I,E,C;wB,G,Y;4B,O;gC,S;4B;wB,G;4B,I,E,C;yB;wB,I,E,C;wB,G,Y;4B,O;gC,S;4B;wB,G;4B,I,E,C;yB;qB,E;gB,I,K,A,I,U,C,I,S,C,C,c,I,W,G,O,I,E,C,I,M,E,S,I,E,K;oB,O,G,Y;wB,K;wB,a;oB,G;wB,G,S;4B,I,E,C,M,I,E,C,S;yB;wB,I,E,C;wB,G,Y;4B,O;gC,Q;4B;4B,I;gC,U,S,M;oC,O,I,M,C,uB,I,wB;gC;4B;4B,O;gC,O,I,wB,C,M;gC,U,S,G;oC,I,I,C,I,wB,E,O;gC;gC,Y;4B;wB;qB,E;gB,I,K,A,I,U,C,I,S,C,C,c,I,W,G,O,I,E,C,I,M,E,S,I,E,K;oB,O,G,Y;wB,K;wB,a;oB,G;wB,G,S;4B,I,E,C,M,I,E,C,S;yB;wB,I,E,C;wB,G,Y;4B,I;gC,U,S,M;oC,O,I,M,C,uB,I,wB;gC;4B;4B,O;gC,O,I,wB,C,M;gC,U,S,G;oC,I,I,C,I,wB,E,O;gC;gC,Y;4B;wB;qB,E;gB,I,K,G,O,I,E,C,I,U,C,I,S,C,C,c,E,S,I,E,K;oB,O,G,Y;wB,K;wB,a;oB,G;wB,G,S;4B,I,E,C,I,E,C,K,I,I,O,I,E,C,K,W;yB;wB,I,E,C;wB,G,Y;4B,O;gC,Q,K,I;4B;4B,I;gC,U,S,M;oC,O,I,M,C,uB,I,wB;gC;4B;4B,O;gC,O,I,wB,C,M;gC,U,S,G;oC,I,I,C,I,wB,E,O;gC;gC,Y;4B;wB;qB,E;gB,I;a,I,I,E;Y,I,E,C;Y,G,Y;gB,a;Y,G;gB,G,S;oB,I,E,C;iB;gB,I,E,C;gB,G,Y;oB,I;wB,U,S,M;4B,O,I,M,C,c,I,e;wB;oB;oB,O;wB,O,I,e;wB,U,S,G;4B,I,e,G;wB;wB,Y;oB;gB;a,E;Y,I,E,C;Y,G,Y;gB,a;Y,G;gB,G,S;oB,I,E,C;iB;gB,I,E,C;gB,G,a;oB,I;wB,e,S,M;4B,O,I,M,C,c,I,e;wB;oB;oB,O;wB,O,I,e;wB,U,S,G;4B,I,e,G;wB;wB,Y;oB;gB,G,I,E,C,I,0B,E,S,I;oB,O,G,a;wB,K;wB,O;4B,S;wB;oB,G;wB,I,E,C,I,E,C;qB;gB,I;a,E;Y,I,E,C;Y,I,yB,G,G,O;gB,G,Y;oB,a;gB,G;oB,G,S;wB,I,E,C;qB;oB,I,E,C;oB,G,Y;wB,I;4B,U,S,M;gC,O,I,M,C,mB,I,oB;4B;wB;wB,O;4B,O,I,oB;4B,U,S,G;gC,I,oB,G;4B;4B,Y;wB;oB;iB,E;gB,I,E,C;gB,G,Y;oB,a;gB,G;oB,G,S;wB,I,E,C;qB;oB,I,E,C;oB,G,Y;wB,I;4B,U,S,M;gC,O,I,M,C,mB,I,oB;4B;wB;wB,O;4B,O,I,oB;4B,U,S,G;gC,I,oB,G;4B;4B,Y;wB;oB;iB,E;gB,I,E,C;gB,G,Y;oB,a;gB,G;oB,G,S;wB,I,E,C;qB;oB,I,E,C;oB,G,Y;wB,O;4B,Q;wB;wB,I;4B,U,S,M;gC,O,I,M,C,iB,I,kB;4B;wB;wB,O;4B,O,I,kB;4B,U,S,G;gC,I,kB,G;4B;4B,Y;wB;oB;iB,E;a,E,K,I,E;Y,I,E,C;Y,I,uB,G,G,O;gB,G,Y;oB,a;gB,G;oB,G,S;wB,I,E,C;qB;oB,I,E,C;oB,G,Y;wB,I;4B,U,S,M;gC,O,I,M,C,e,I,gB;4B;wB;wB,O;4B,O,I,gB;4B,U,S,G;gC,I,gB,G;4B;4B,Y;wB;oB;iB,E;gB,I,E,C;gB,G,Y;oB,a;gB,G;oB,G,S;wB,I,E,C;qB;oB,I,E,C;oB,G,Y;wB,O;4B,Q;wB;wB,I;4B,U,S,M;gC,O,I,M,C,gB,I,iB;4B;wB;wB,O;4B,O,I,iB;4B,U,S,G;gC,I,iB,G;4B;4B,Y;wB;oB;iB,E;a,E,K,I,E;Y,I,E,C;Y,G,Y;gB,a;Y,G;gB,G,S;oB,I,E,C;iB;gB,I,E,C;gB,G,Y;oB,O;wB,Q;oB;oB,I;wB,U,S,M;4B,O,I,M,C,gB,I,iB;wB;oB;oB,O;wB,O,I,iB;wB,U,S,G;4B,I,iB,G;wB;wB,Y;oB;gB;a,E;Y,I,E,C;Y,G,a;gB,I;oB,U,S,M;wB,O,I,M,C,kB,I,mB;oB;gB;gB,O;oB,O,I,mB;oB,U,S,G;wB,I,mB,G;oB;oB,Y;gB;Y,G;gB,I,E,C;a;S,E;K,E;A;A,I,kB,E;A,Q,M,G;A,Q,e,G;;;;;AAff,IAAI,OAAO,KAAO;kBAEH,CAAA,UAEf;;;;;ACJA,IAAI;AACJ,IAAI,aAAa;IACf,SAAS,QAAQ;IACjB,IAAI,OAAO,UAAU,EAAE,SAAS,OAAO,OAAO;IAC9C,OAAO,MAAM,GAAG,QAAQ,oBAA0B,MAAM;IAC9C,OAAO,eAAe,GAAG,QAAQ,oBAA0B,eAAe;IAC1E,OAAO,QAAQ,GAAG;IAE5B,OAAO,YAAY,GAAG,QAAQ,oBAAuB,OAAO;IAC5D,QAAQ,oBAAwB,OAAO,CAAC;IACxC,OAAO,SAAS,GAAG;IACnB,OAAO,MAAM,GAAG;AAClB;AACA;kBAEe;;;;;A,I,gB;I,O;Q;Q;Q;Q;Q;Q;Q;Q;Q;Q;K;I;Q,O,C;I;I,S,C;I,U;Q;Y,O;gB;oB,O;oB,O,I,C,Y;gB;gBAUf;oBAAA,OAAA;oBAAA,OAAA,KAAA,SAAA,CAAA,IAAA,CAAA,eAAA;gBAAA;gBACA;oBAAA,OAAA;oBAAA,OAAA,IAAA,CAAA,cAAA;gBAAA;gBACA;oBAAA,OAAA;oBAAA,OAAA,IAAA,CAAA,SAAA;gBAAA;gBACA;oBACA,OAAA;oBACA,OAAA,KAAA,SAAA,CAAA,IAAA,CAAA,mBAAA;gBACA;gBACA;oBAAA,OAAA;oBAAA,OAAA,IAAA,CAAA,UAAA;gBAAA;gBACA;oBAAA,OAAA;oBAAA,OAAA,IAAA,CAAA,UAAA;gBAAA;gBACA;oBAAA,OAAA;oBAAA,OAAA,IAAA,CAAA,YAAA;gBAAA;aACA;QACA;IACA;AACA;AAEA,IAAA,UAAA,OAAA,kBAAA,aAAA,cAAA,OAAA,GAAA;kB,S,wC;;;A,I,S;I,I,M,I;I,I,K,I,c;I,I,K,I,K,C,E,I;I,O,G,W;Q,a;Q,O;Y,M,I,a,C,O;Y,Y;Y,W,I,O,C,M;Q;Q,I;Y,iB,S,M;gB,O,I,I,C,I,O,E,U;Y;Y,kB,S,M;gB,O,I,I,C,I,O,E,U;Y;Q;I,G;Q,G,c;Y,a;Q,G;Y,G,K;gB,I,E,C;a;Y,I,E,C;Y,I,E,C,I,W,E,S,K,E,K;gB,O,G,O;oB,K;oB,a;gB,G;oB,G,U;wB,I,E,C,I,E,C,M,K,I;qB;oB,I,E,C,a,I,E,C,M,K,K,K,c,M,K,I;iB;Y;S,E;K,E;A;A,I,kB,E;A,Q,M,G;A,Q,e,G;;;;;AAxCA,IAAI,OAAO,KAAO;kBAEH,CAAA,UAEf;;;A,I,S;I,I,M,I;I,I,K,I,c;I,I,K,I,K,C,E,I;I,O,G,a;Q,a;Q,O;Y,a,I,U;Y,6B;Q;Q,I;Y,mB,S,M;gB,I,U,G;Y;Y,oB,S,M;gB,I,U,G;Y;Y,a,S,M;gB,O,I,W,C;Y;Q;I,G;Q,G,mB;Y,a;Q,G;Y,I,E,C;S;Q,I,E,C;Q,G,qB;Y,a;Q,G;Y,G,e;gB,O;oB,kB,I,O,C,M;oB,a;gB;gB,I;oB,uB,S,M;wB,O,I,I,C,I,O,E,U;oB;oB,yB,S,M;wB,O,I,I,C,I,O,E,U;oB;oB,c,I,U;gB;Y,G;gB,G,iB;oB,O;wB,iB,I,a;wB,W,I,O;wB,gB,I,Y;wB,uB,I,mB;wB,gC,I,4B;wB,kB,I,c;wB,Y;oB;oB,I;wB,uB,S,M;4B,I,Y,G;wB;wB,wB,S,M;4B,I,Y,G;wB;wB,8B,S,M;4B,I,mB,G;wB;wB,+B,S,M;4B,I,mB,G;wB;wB,uC,S,M;4B,I,4B,G;wB;wB,2C,S,M;4B,I,4B,G;wB;wB,yB,S,M;4B,I,c,G;wB;wB,0B,S,M;4B,I,c,G;wB;oB;gB;gB,I,E,C;gB,G,mB;oB,O;wB,iB,I,a;wB,W,I,O;wB,c,I,U;wB,kB,I,c;oB;oB,I;wB,yB,S,M;4B,I,c,G;wB;wB,0B,S,M;4B,I,c,G;wB;oB;gB;gB,I,E,C;gB,G,uB;oB,O;wB,iB,I,a;wB,W,I,O;wB,c,I,U;wB,kB,I,c;wB,U,I,M;oB;oB,I;wB,Y,I,Q;wB,e,I,W;wB,iB,S,M;4B,I,M,G;wB;oB;gB;gB,I,E,C;gB,G,yB;oB,O;wB,iB,I,a;wB,W,I,O;wB,U,I,M;wB,Y,I,Q;oB;oB,I;wB,c,I,U;wB,iB,I,a;wB,mB,S,M;4B,I,Q,G;wB;oB;gB;gB,I,E,C;gB,G,2B;oB,O;wB,iB,I,a;wB,W,I,O;wB,c,I,U;oB;oB,I;wB,gB,I,Y;wB,mB,I,e;wB,qB,S,M;4B,I,U,G;wB;oB;gB;gB,I,E,C;gB,G,wB;oB,O;wB,iB,I,a;wB,W,I,O;wB,U,I,M;wB,c,I,U;wB,c,I,U;wB,gB,I,Y;wB,mB,I,e;wB,mB,I,e;wB,e,I,W;wB,gB,I,Y;wB,gB,I,Y;wB,kB,I,c;wB,iB,I,a;oB;oB,I;wB,qB,S,M;4B,I,U,G;wB;wB,sB,S,M;4B,I,U,G;wB;wB,qB,S,M;4B,I,U,G;wB;wB,sB,S,M;4B,I,U,G;wB;wB,uB,S,M;4B,I,Y,G;wB;wB,wB,S,M;4B,I,Y,G;wB;wB,0B,S,M;4B,I,e,G;wB;wB,4B,S,M;4B,I,e,G;wB;wB,0B,S,M;4B,I,e,G;wB;wB,4B,S,M;4B,I,e,G;wB;wB,sB,S,M;4B,I,W,G;wB;wB,uB,S,M;4B,I,W,G;wB;wB,uB,S,M;4B,I,Y,G;wB;wB,wB,S,M;4B,I,Y,G;wB;wB,uB,S,M;4B,I,Y,G;wB;wB,yB,S,M;4B,I,Y,G;wB;wB,yB,S,M;4B,I,c,G;wB;wB,4B,S,M;4B,I,c,G;wB;wB,wB,S,M;4B,I,a,G;wB;wB,yB,S,M;4B,I,a,G;wB;oB;gB;gB,I,E,C;gB,G,mB;oB,O;wB,iB,I,a;wB,W,I,O;wB,U,I,M;wB,c,I,U;wB,kB,I,c;oB;oB,I;wB,yB,S,M;4B,I,c,G;wB;wB,0B,S,M;4B,I,c,G;wB;oB;gB;gB,I,E,C;gB,G,oB;oB,O;wB,iB,I,a;wB,W,I,O;wB,gB,I,Y;wB,mB,I,e;wB,kB,I,c;wB,a,I,S;wB,uB,I,mB;wB,c,I,U;wB,c,I,U;wB,gB,I,Y;oB;gB;a,E;S,E;Q,I,E,C;Q,G,qB;Y,G,a;gB,a;gB,I;oB,S,S,M;wB,O,I,W,C;oB;gB;Y,G;gB,I,E,C;a;Y,I,E,C;Y,I,O,C,M,K,I,C,a,C,O,G,G,a;gB,a;gB,I;oB,S,I,c;gB;Y,G;gB,I,E,C;a,I,I,E;Y,I,E,C;Y,I,O,C,M,K,I,C,a,C,O,G,G,a;gB,a;gB,O;oB,Y,I,oB;gB;gB,I;oB,S,S,M;wB,O,I,W,C;oB;gB;Y,G;gB,I,E,C;a,I,I,E;S,E;K,E;A;A,I,kB,E;A,Q,M,G;A,Q,e,G;;;;;AxBJA,IAAI,OAAO,KAAO;kBAEH,CAAA,UAEf;;;;;AyBJA,IAAI;AACJ,IAAI,aAAa;IACf,SAAS,QAAQ;IACjB,IAAI,OAAO,UAAU,EAAE,SAAS,OAAO,OAAO;IAC9C,OAAO,MAAM,GAAG,QAAQ,mBAAuC,MAAM;IAC3D,OAAO,eAAe,GAAG,QAAQ,mBAAuC,eAAe;IACvF,OAAO,QAAQ,GAAG;IAE5B,OAAO,YAAY,GAAG,QAAQ,oBAAoC,OAAO;IACzE,QAAQ,oBAAqC,OAAO,CAAC;IACrD,OAAO,SAAS,GAAG;IACnB,OAAO,MAAM,GAAG;AAClB;AACA;kBAEe;;;;;A;A;;A;;A;;A;;A;;A;;A;;A;;A;;A;A;;A,I,gB;I,M;I,O;Q;K;I,Y;Q,iB,C,G,+B,A;Q,mB,C,G,iC,A;Q,uB,C,G,qC,A;Q,yB,C,G,uC,A;Q,2B,C,G,yC,A;Q,wB,C,G,sC,A;Q,mB,C,G,iC,A;Q,iB,C,G,gC,A;Q,oB,C,G,0B,A;I;I;Q,I,C,a,G;Y,U;Y,gB;Y,oB;Y,sB;Y,wB;Y,qB;Y,gB;Y,S;Q;Q,O;Y,Y;Y,mB;Y,2B;Y,c;Y,qB;Y,8B;Y,gB;Y,8C;Y,gB;Y,+C;Y,Q,C;Y,mC;Y,U,C;Y,sC;Y,Y,C;Y,4C;Y,gB;gB,G;Y;Y,kC;Y,Y;Y,Y;Y,iB;Y,iB;Y,a;Y,c;Y,e;Y,c;Y,gB;Y,c;Y,Y;Y,S;gB,Q,I,C,a,C,Q;gB,O;gB,Q;gB,O;gB,Q;gB,O;gB,O;gB,S;gBAgHf,QAAA;YACA;QACA;IACA;IACA,SAAA;QACA,MAAA,QAAA,MAAA;YACA,IAAA,CAAA,YAAA,GAAA,OAAA,YAAA;YACA,oCAAA;YACA,MAAA,iBAAA,IAAA,CAAA,YAAA,CAAA,EAAA,CAAA,GAAA;YACA,MAAA,SAAA,MAAA,CAAA,GAAA,0CAAA,AAAA,EAAA,qBAAA,CAAA;YACA,IAAA,CAAA,UAAA,GAAA,OAAA,UAAA,CAAA,GAAA;YACA,IAAA,CAAA,YAAA,GAAA,IAAA,CAAA,YAAA,CAAA,IAAA,CAAA,GAAA;YACA,MAAA,qBAAA,MAAA,CAAA,GAAA,0CAAA,AAAA,EAAA,iBAAA,CAAA;YACA,IAAA,CAAA,cAAA,GAAA,qBAAA,mBAAA,EAAA,CAAA,GAAA,KAAA;YAEA,2CAAA;YACA,MAAA,wBAAA,MAAA,CAAA,GAAA,0CAAA,AAAA,EAAA,iBAAA,CAAA;YACA,MAAA,cAAA,MAAA,CAAA,GAAA,0CAAA,AAAA,EAAA,qCAAA,CAAA,sBAAA,EAAA,CAAA,GAAA;YACA,KAAA,MAAA,YAAA,OAAA,IAAA,CAAA,aACA,IAAA,CAAA,MAAA,CAAA,SAAA,GAAA;gBAAA,gBAAA,WAAA,CAAA,SAAA,CAAA,GAAA,8CAAA,CAAA;gBACA,aAAA,WAAA,CAAA,SAAA,C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,KAAA,MAAA,gBAAA,IAAA,CAAA,cAAA,CAAA,iBAAA,CACA,OAAA,CAAA,EAAA,aAAA,EAAA,GAAA,8CAAA,CAAA,CAAA;gB,M,I,K,C,G;gBAGA,aAAA,IAAA,CAAA;oBACA,MAAA,CAAA,EAAA,iBAAA,CAAA;oBACA,MAAA;oB,O;gBAEA;YACA;YACA,OAAA;QACA;QAEA;YACA,MAAA,oBAAA,EAAA;YACA,KAAA,MAAA,gBAAA,OAAA,IAAA,CAAA,IAAA,CAAA,QAAA,EAAA;gBACA,IAAA,MAAA,CAAA,EAAA,IAAA,CAAA,QAAA,CAAA,aAAA,CAAA,WAAA,CAAA,EAAA,CAAA,GAAA,8CAAA,AAAA,EAAA,EAAA,IAAA,CAAA,QAAA,CAAA,aAAA,CAAA,YAAA,CAAA,CAAA;gBACA,IAAA,IAAA,CAAA,QAAA,CAAA,aAAA,CAAA,sBAAA,KAAA,MACA,OAAA,CAAA,EAAA,GAAA,8CAAA,CAAA,EAAA,IAAA,CAAA,QAAA,CAAA,aAAA,CAAA,sBAAA,CAAA,CAAA;gBAEA,kBAAA,IAAA,CAAA;oBACA,MAAA,CAAA,EAAA,aAAA,CAAA;oBACA,MAAA;oBACA,OAAA;gBACA;YACA;YACA,OAAA;Q;IAGA;AACA;AAEA,IAAA,UAAA,OAAA,kBAAA,aAAA,cAAA,OAAA,GAAA;kBACA,SAAA,wCAAA;;;A,I,S;I,I,M,I;I,I,K,I,c;I,I,K,I,K,C,E,I;I,O,G,a;Q,a;Q,O;Y,a,I,U;Y,6B;Q;Q,I;Y,mB,S,M;gB,I,U,G;Y;Y,oB,S,M;gB,I,U,G;Y;Y,a,S,M;gB,O,I,W,C;Y;Q;I,G;Q,G,mB;Y,a;Q,G;Y,I,E,C;S;Q,I,E,C;Q,G,qB;Y,a;Q,G;Y,G,e;gB,O;oB,kB,I,O,C,M;oB,a;gB;gB,I;oB,uB,S,M;wB,O,I,I,C,I,O,E,U;oB;oB,yB,S,M;wB,O,I,I,C,I,O,E,U;oB;oB,c,I,U;gB;Y,G;gB,G,iB;oB,O;wB,iB,I,a;wB,W,I,O;wB,gB,I,Y;wB,uB,I,mB;wB,gC,I,4B;wB,kB,I,c;wB,Y;oB;oB,I;wB,uB,S,M;4B,I,Y,G;wB;wB,wB,S,M;4B,I,Y,G;wB;wB,8B,S,M;4B,I,mB,G;wB;wB,+B,S,M;4B,I,mB,G;wB;wB,uC,S,M;4B,I,4B,G;wB;wB,2C,S,M;4B,I,4B,G;wB;wB,yB,S,M;4B,I,c,G;wB;wB,0B,S,M;4B,I,c,G;wB;oB;gB;gB,I,E,C;gB,G,mB;oB,O;wB,iB,I,a;wB,W,I,O;wB,c,I,U;wB,kB,I,c;oB;oB,I;wB,yB,S,M;4B,I,c,G;wB;wB,0B,S,M;4B,I,c,G;wB;oB;gB;gB,I,E,C;gB,G,uB;oB,O;wB,iB,I,a;wB,W,I,O;wB,c,I,U;wB,kB,I,c;wB,U,I,M;oB;oB,I;wB,Y,I,Q;wB,e,I,W;wB,iB,S,M;4B,I,M,G;wB;oB;gB;gB,I,E,C;gB,G,yB;oB,O;wB,iB,I,a;wB,W,I,O;wB,U,I,M;wB,Y,I,Q;oB;oB,I;wB,c,I,U;wB,iB,I,a;wB,mB,S,M;4B,I,Q,G;wB;oB;gB;gB,I,E,C;gB,G,2B;oB,O;wB,iB,I,a;wB,W,I,O;wB,c,I,U;oB;oB,I;wB,gB,I,Y;wB,mB,I,e;wB,qB,S,M;4B,I,U,G;wB;oB;gB;gB,I,E,C;gB,G,wB;oB,O;wB,iB,I,a;wB,W,I,O;wB,U,I,M;wB,c,I,U;wB,c,I,U;wB,gB,I,Y;wB,mB,I,e;wB,mB,I,e;wB,e,I,W;wB,gB,I,Y;wB,gB,I,Y;wB,kB,I,c;wB,iB,I,a;oB;oB,I;wB,qB,S,M;4B,I,U,G;wB;wB,sB,S,M;4B,I,U,G;wB;wB,qB,S,M;4B,I,U,G;wB;wB,sB,S,M;4B,I,U,G;wB;wB,uB,S,M;4B,I,Y,G;wB;wB,wB,S,M;4B,I,Y,G;wB;wB,0B,S,M;4B,I,e,G;wB;wB,4B,S,M;4B,I,e,G;wB;wB,0B,S,M;4B,I,e,G;wB;wB,4B,S,M;4B,I,e,G;wB;wB,sB,S,M;4B,I,W,G;wB;wB,uB,S,M;4B,I,W,G;wB;wB,uB,S,M;4B,I,Y,G;wB;wB,wB,S,M;4B,I,Y,G;wB;wB,uB,S,M;4B,I,Y,G;wB;wB,yB,S,M;4B,I,Y,G;wB;wB,yB,S,M;4B,I,c,G;wB;wB,4B,S,M;4B,I,c,G;wB;wB,wB,S,M;4B,I,a,G;wB;wB,yB,S,M;4B,I,a,G;wB;oB;gB;gB,I,E,C;gB,G,mB;oB,O;wB,iB,I,a;wB,W,I,O;wB,U,I,M;wB,c,I,U;wB,kB,I,c;oB;oB,I;wB,yB,S,M;4B,I,c,G;wB;wB,0B,S,M;4B,I,c,G;wB;oB;gB;gB,I,E,C;gB,G,oB;oB,O;wB,iB,I,a;wB,W,I,O;wB,gB,I,Y;wB,mB,I,e;wB,kB,I,c;wB,a,I,S;wB,uB,I,mB;wB,c,I,U;wB,c,I,U;wB,gB,I,Y;oB;gB;a,E;S,E;Q,I,E,C;Q,G,qB;Y,G,a;gB,a;gB,I;oB,S,S,M;wB,O,I,W,C;oB;gB;Y,G;gB,I,E,C;a;Y,I,E,C;Y,I,O,C,M,K,I,C,a,C,O,G,G,a;gB,a;gB,I;oB,S,I,c;gB;Y,G;gB,I,E,C;a,I,I,E;Y,I,E,C;Y,I,O,C,M,K,I,C,a,C,O,G,G,a;gB,a;gB,O;oB,Y,I,oB;gB;gB,I;oB,S,S,M;wB,O,I,W,C;oB;gB;Y,G;gB,I,E,C;a,I,I,E;S,E;K,E;A;A,I,kB,E;A,Q,M,G;A,Q,e,G;;;;;AAxnBA,IAAI,OAAO,KAAO;kBAEH,CAAA,UAEf;;;;ACLA;;AAKA;;AAHA,MAAM,EAAE,oBAAoB,EAAE,GAAG,QAAQ;AAKzC,IAAI,SAAS;IACV;QACG,MAAM;QACN,mBAAmB,CAAA,GAAA,mBAAG,AAAD,EAAE,MAAM,CAAC,CAAA,GAAA,uCAAoB,AAAD;QACjD,OAAO;YACP,OAAO;YACP,gBAAgB;QAChB;QACA,OAAO;YACJ,QAAQ;YACR,MAAM;QACT;IACH;CACF;AAED,IAAK,IAAI,QAAQ,GAAG,QAAQ,OAAO,MAAM,EAAE,QAAS;IACnD,MAAM,UAAU,MAAM,CAAC,MAAM;IAC7B,MAAM,iBAAiB,qBAAqB,eAAe,CAAC;IAC5D,qBAAqB,iBAAiB,CAAC,QAAQ,IAAI,EAAE;AACtD;;;AC1BA;;;;;;;;;;;;;;;;;;;;;;CAsBC,GAED,MAAM,EACJ,yBAAyB,EACzB,cAAc,EACf,GAAG,QAAQ;AAEZ,MAAM,uBAAuB,QAAQ,oBACnC,2BACA;AAGF,OAAO,OAAO,GAAG;IACf;AACF;;;ACpCA;;;;;;;;;;;;;;;;;;;;;;CAsBC,GAED,SAAS,WAAW,MAAM;IACxB,MAAM,MA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,SAAA,wCAAA;;;A,I,S;I,I,M,I;I,I,K,I,c;I,I,K,I,K,C,E,I;I,O,G,c;Q,a;I,G;Q,G,O;Y,a;Q,G;Y,G,O;gB,a;gB,O;oB,U,I,Q;gB;Y,G;gB,G,S;oB,Y;wB;4B,M;4B,S;4B,O,I,M;4B,Y;wB;qB;oB,a;oB,O;wB,U,I,Q;oB;oB,O;wB,Q;wB,Q;wB,e;oB;oB,U;wB,S,I,M;oB;oB,I;wB,S,S,M;4B,I,O,M,C,S,E;4B,I,M,G,O,M,C,K;wB;oB;gB;gB,I,E,C;gB,G,K;oB,a;oB,I;wB,S,I,a;oB;gB,G;oB,G,W;wB,I,E,C;qB;iB,E;a;S;Q,I,E,C;Q,I,Q,C,M,G,K,I,Q,K,I,M,C,M,G,G,O;Y,a;Q,G;Y,G,c;gB,a;Y,G;gB,G,mB;oB,O;wB,S,I,Q;wB,a;wB,a;oB;oB,a,I,E,C;wB;4B,K;4B,I,S,G;gC,I,O,I,I;gC,O;oC,G,O;wC,a;oC,G;wC,G,Q;4C,a;wC,G;4C,I,E,C,I,E,C,K,I;yC;wC,I,E,C;wC,G,a;4C,a;4C,I;gD,S,S,M;oD,O,I,U,C;gD;4C;wC,G;4C,G,W;gD,I,E,C,I,E,C,I,O,C;6C;yC,E;qC,E;iC;4B;wB;qB,E,M,O;gB;a,E;S,E,K,I,E;Q,I,E,C;Q,I,Q,C,M,K,K,I,Q,K,I,M,C,M,G,G,O;Y,a;Q,G;Y,I,E,C;S,I,I,E;Q,I,E,C;Q,I,Q,K,I,M,C,O,G,G,O;Y,a;Q,G;Y,G,uB;gB,a;gB,O;oB,W;gB;Y;S,E,K,I,E;Q,I,E,C;Q,I,Q,K,I,M,C,K,G,G,O;Y,a;Q,G;Y,I,E,C;S,I,I,E;K;A;A,I,kB,E;A,Q,M,G;A,Q,e,G;;;;;AAjJA,IAAI,OAAO,KAAO;kBAEH,CAAA,UAEf;;;A;A,I,kB,A,I,I,I,C,e,I,C,O,M,G,S,C,E,C,E,C,E,E;I,I,O,W,K;I,I,O,O,wB,C,G;I,I,C,Q,C,S,O,C,E,U,G,K,Q,I,K,Y,A,G,O;Q,Y;Q,K;Y,O,C,C,E;Q;I;I,O,c,C,G,I;A,I,S,C,E,C,E,C,E,E;I,I,O,W,K;I,C,C,G,G,C,C,E;A,C;A,I,e,A,I,I,I,C,Y,I,S,C,E,Q;I,I,I,K,E,I,M,a,C,O,S,C,c,C,I,C,U,I,gB,U,G;A;A,O,c,C,S,c;I,O;A;A,Q,wB,G,Q,qC,G,Q,qC,G,Q,4B,G,Q,mC,G,Q,wB,G,Q,4B,G,Q,2B,G,Q,+B,G,Q,2B,G,Q,+B,G,Q,kB,G,Q,iB,G,Q,Q,G,Q,iB,G,Q,iB,G,Q,uB,G,Q,a,G,Q,sB,G,Q,sB,G,Q,8B,G,Q,qB,G,Q,8B,G,Q,c,G,Q,c,G,Q,a,G,Q,a,G,Q,S,G,Q,kB,G,Q,kB,G,Q,a,G,Q,qB,G,Q,qB,G,Q,mB,G,Q,+B,G,Q,U,G,Q,oB,G,Q,oB,G,Q,2B,G,Q,mB,G,Q,S,G,K;AELA;;;;;;;;;;;;;;;;;;;;;;CAsBG,GACH,MAAA,gBAAA,QAAA;AACA,aAAA,QAAA,qBAAA;AACA,MAAA,uBAAA,QAAA;AACA,IAAA,iDAAA,QAAA;AAAS,OAAA,cAAA,CAAA,SAAA,aAAA;IAAA,YAAA;IAAA,KAAA;QAAA,OAAA,+CAAA,sBAAsB;IAAA;AAAA;AAGlB,QAAA,mBAAmB,GAAW,cAAc,YAAY;AACxD,QAAA,2BAA2B,GAAkB;IAAC;IAAU;CAAQ;AAC7E,yCAAyC;AACzC,0CAA0C;AAC7B,QAAA,oBAAoB,GAC/B,cAAc,0CAA0C,EAAE,+BAA+B;AAC9E,QAAA,oBAAoB,GAC/B,cAAc,0CAA0C,EAAE,+BAA+B;AAC9E,QAAA,UAAU,GACrB,cAAc,iCAAiC;AACpC,QAAA,+BAA+B,GAAG;AAClC,QAAA,mBAAmB,GAAG;AACnC,yCAAyC;AACzC,yCAAyC;AAC5B,QAAA,qBAAqB,GAChC,cAAc,2CAA2C,EAAE,mCAAmC;AACnF,QAAA,qBAAqB,GAChC,cAAc,2CAA2C,EAAE,kCAAkC;AAClF,QAAA,aAAa,GAAW,cAAc,YAAY;AAC/D,sCAAsC;AACtC,sCAAsC;AACzB,QAAA,kBAAkB,GAC7B,cAAc,wCAAwC,EAAE,gCAAgC;AAC7E,QAAA,kBAAkB,GAC7B,cAAc,wCAAwC,EAAE,gCAAgC;AAC7E,QAAA,SAAS,GAAW,cAAc,+BAA+B;AAEjE,QAAA,aAAa,GAAG,cAAc,aAAa;AAC3C,QAAA,aAAa,GAAG,cAAc,aAAa;AAC3C,QAAA,cAAc,GAAG,cAAc,aAAa;AAC5C,QAAA,cAAc,GAAG,cAAc,aAAa;AAEzD,yCAAyC;AACzC,yCAAyC;AAC5B,QAAA,8BAA8B,GACzC,cAAc,oDAAoD;AACvD,QAAA,qBAAqB,GAChC,cAAc,2CAA2C;AAC9C,QAAA,8BAA8B,GACzC,cAAc,oDAAoD;AACvD,QAAA,sBAAsB,GACjC,cAAc,4CAA4C;AAC/C,QAAA,sBAAsB,GACjC,cAAc,4CAA4C;AAC/C,QAAA,aAAa,GACxB,cAAc,mCAAmC;AACtC,QAAA,uBAAuB,GAClC,cAAc,sBAAsB;AACzB,QAAA,iBAAiB,GAC5B,cAAc,uCAAuC;AAC1C,QAAA,iBAAiB,GAC5B,cAAc,uCAAuC;AAC1C,QAAA,QAAQ,GAAW,cAAc,gBAAgB;AACjD,QAAA,iBAAiB,GAAG,cAAc,WAAW;AAC7C,QAAA,kBAAkB,GAAG,cAAc,iBAAiB;AAEjE,yCAAyC;AACzC,wCAAwC;AAC3B,QAAA,+BAA+B,GAAG;AAClC,QAAA,2BAA2B,GAAG;AAC9B,QAAA,+BAA+B,GAAG;AAClC,QAAA,2BAA2B,GAAG;AAC9B,QAAA,4BAA4B,GAAG;AAC/B,QAAA,wBAAwB,GAAG;AAC3B,QAAA,mCAAmC,GAAG;AACtC,QAAA,4BAA4B,GAAG,qBAAA,4BAA4B;AAC3D,QAAA,qCAAqC,GAAG;AACxC,QAAA,qCAAqC,GAAG;AACxC,QAAA,wBAAwB,GAAG;IACtC,QAAA,+BAA+B;IAC/B,QAAA,4BAA4B;CAC7B;;;A;AEpGD;;;;;;;;;;;;;;;;;;;;;;CAsBG,G,O,c,C,S,c;I,O;A;A,Q,iB,G,Q,kB,G,Q,iB,G,Q,Q,G,Q,iB,G,Q,iB,G,Q,a,G,Q,W,G,Q,gB,G,Q,uC,G,Q,uC,G,Q,sB,G,Q,mC,G,Q,oD,G,Q,4C,G,Q,2C,G,Q,4C,G,Q,oD,G,Q,a,G,Q,a,G,Q,wC,G,Q,+B,G,Q,wC,G,Q,Y,G,Q,2C,G,Q,2C,G,Q,iC,G,Q,0C,G,Q,0C,G,Q,Y,G,Q,Y,G,K;AAEH,MAAA,oCAAA,QAAA;AAGa,QAAA,YAAY,GAAW;AACvB,QAAA,YAAY,GAAW;AAEpC,yCAAyC;AACzC,0CAA0C;AAC1C,0GAA0G;AAC7F,QAAA,0CAA0C,GAAW,kCAAA,4BAA4B;AACjF,QAAA,0CAA0C,GAAW;AACrD,QAAA,iCAAiC,GAAW;AACzD,0GAA0G;AAC1G,8FAA8F;AAC9F,8EAA8E;AAC9E,4GAA4G;AAC5G,mHAAmH;AACnH,2FAA2F;AAE3F;;CAEG,GACH,0HAA0H;AAC1H,0HAA0H;AAC1H,uEAAuE;AAEvE,yCAAyC;AACzC,yCAAyC;AAC5B,QAAA,2CAA2C,GAAW,kCAAA,4BAA4B;AAClF,QAAA,2CAA2C,GAAW;AACtD,QAAA,YAAY,GAAW;AAEpC,2GAA2G;AAC3G,qHAAqH;AACrH,qHAAqH;AACrH,oGAAoG;AACpG,kGAAkG;AAClG,wFAAwF;AAExF;;CAEG,GACH,gIAAgI;AAChI,+HAA+H;AAC/H,oEAAoE;AAGpE,sCAAsC;AACtC,sCAAsC;AACzB,QAAA,wCAAwC,GAAW,kCAAA,4BAA4B;AAC/E,QAAA,+BAA+B,GAAW;AAC1C,QAAA,wCAAwC,GAAW;AAChE,wGAAwG;AACxG,mGAAmG;AACnG,+GAA+G;AAC/G,+GAA+G;AAG/G;;CAEG,GACH,uHAAuH;AACvH,uHAAuH;AACvH,oEAAoE;AAGvD,QAAA,aAAa,GAAG;IAC3B,MAAM;IACN,OAAO;IACP,OAAO;AACR;AAEY,QAAA,aAAa,GAAiB;IACzC;QAAE,MAAM;QAAW,OAAO;QAAW,OAAO;IAAC;IAC7C;QAAE,MAAM;QAAU,OAAO;QAAW,OAAO;IAAC;IAC5C;QAAE,MAAM;QAAU,OAAO;QAAW,OAAO;IAAC;IAC5C,QAAA,aAAa;CACd;AAID,yCAAyC;AACzC,yCAAyC;AAC5B,QAAA,oDAAoD,GAAW,kCAAA,4BAA4B;AAC3F,QAAA,4CAA4C,GAAW,kCAAA,4BAA4B;AACnF,QAAA,2CAA2C,GAAW;AACtD,QAAA,4CAA4C,GAAW;AACvD,QAAA,oDAAoD,GAAW;AAC/D,QAAA,mCAAmC,GAAW;AAC9C,QAAA,sBAAsB,GAAW;AAC9C,gHAAgH;AAChH,oIAAoI;AAGpI,4FAA4F;AAC5F,sGAAsG;AACtG,mFAAmF;AAEnF,yCAAyC;AACzC,yCAAyC;AACzC,6FAA6F;AAC7F,mHAAmH;AACnH,4GAA4G;AAC5G,kFAAkF;AAElF,yCAAyC;AACzC,qCAAqC;AACxB,QAAA,uCAAuC,GAAW,kCAAA,4BAA4B;AAC9E,QAAA,uCAAuC,GAAW;AAClD,QAAA,gBAAgB,GAAW;AACxC,IAAY;AAAZ,CAAA,SAAY,WAAW;IACrB,WAAA,CAAA,WAAA,CAAA,WAAA,GAAA,EAAA,GAAA;IACA,WAAA,CAAA,WAAA,CAAA,aAAA,GAAA,EAAA,GAAA;IACA,WAAA,CAAA,WAAA,CAAA,iBAAA,GAAA,EAAA,GAAA;IACA,WAAA,CAAA,WAAA,CAAA,WAAA,GAAA,EAAA,GAAA;IACA,WAAA,CAAA,WAAA,CAAA,YAAA,GAAA,EAAA,GAAA;IACA,WAAA,CAAA,WAAA,CAAA,OAAA,GAAA,EAAA,GAAA;AACF,CAAA,EAPY,cAAA,QAAA,WAAW,IAAX,CAAA,QAAA,WAAW,GAAA,CAAA,CAAA;AASV,QAAA,aAAa,GAAG,OAAO,MAAM,CAAC;IACzC,GAAG;IACH,GAAG;IACH,GAAG;IACH,GAAG;IACH,GAAG;IACH,GAAG;AACJ;AAEY,QAAA,iBAAiB,GAAW,QAAA,uCAAuC;AACnE,QAAA,iBAAiB,GAAW,QAAA,uCAAuC;AACnE,QAAA,QAAQ,GAAW,QAAA,gBAAgB;AACnC,QAAA,iBAAiB,GAAG;AAGpB,QAAA,kBAAkB,GAAa;IAC1C;IACA;IACA;IACA;IACA;IACA;IACA;CACD;AAED,yCAAyC;AACzC,wCAAwC;AACxC,kGAAkG;AAClG,4GAA4G;AAE5G,yCAAyC;AACzC,yCAAyC;AACzC,qEAAqE;AACrE,0EAA0E;AAE1E,yCAAyC;AACzC,2CAA2C;AAC3C,uBAAuB;AAEV,QAAA,iBAAiB,GAA8B;IAC1D,cAAc;IACd,QAAQ;IACR,QAAQ;AACT","sources":["node_modules/spinal-env-viewer-plugin-analysis/index.js","node_modules/spinal-env-viewer-plugin-analysis/src/buttons/index.js","node_modules/spinal-env-viewer-plugin-analysis/src/buttons/createEntity.js","node_modules/spinal-env-viewer-panel-manager-service/index.js","node_modules/spinal-env-viewer-panel-manager-service/SpinalPanelManagerService.js","node_modules/spinal-env-viewer-panel-manager-service/SpinalPanelApp.js","node_modules/spinal-env-viewer-panel-manager-service/SpinalMountExtention.js","node_modules/spinal-model-analysis/dist/index.js","node_modules/spinal-model-analysis/src/index.ts","node_modules/spinal-model-analysis/dist/models/AnalyticModel.js","node_modules/spinal-model-analysis/src/models/AnalyticModel.ts","node_modules/spinal-model-analysis/dist/models/TrackingMethodModel.js","node_modules/spinal-model-analysis/src/models/TrackingMethodModel.ts","node_modules/spinal-model-analysis/dist/interfaces/IAnalyticResult.js","node_modules/spinal-model-analysis/src/interfaces/IAnalyticResult.ts","node_modules/spinal-model-analysis/dist/constants.js","node_modules/spinal-model-analysis/src/constants.ts","node_modules/spinal-model-analysis/dist/algorithms/algorithms.js","node_modules/spinal-model-analysis/src/algorithms/algorithms.ts","node_modules/spinal-model-analysis/dist/services/AnalyticService.js","node_modules/spinal-model-analysis/src/services/AnalyticService.ts","node_modules/spinal-model-analysis/dist/models/ConfigModel.js","node_modules/spinal-model-analysis/src/models/ConfigModel.ts","node_modules/spinal-model-analysis/dist/models/EntityModel.js","node_modules/spinal-model-analysis/src/models/EntityModel.ts","node_modules/spinal-model-analysis/dist/models/InputsModel.js","node_modules/spinal-model-analysis/src/models/InputsModel.ts","node_modules/spinal-model-analysis/dist/models/OutputsModel.js","node_modules/spinal-model-analysis/src/models/OutputsModel.ts","node_modules/spinal-model-analysis/dist/services/utils.js","node_modules/spinal-model-analysis/src/services/utils.ts","node_modules/spinal-model-analysis/dist/models/InputData/InputDataModel/InputDataEndpoint.js","node_modules/spinal-model-analysis/src/models/InputData/InputDataModel/InputDataEndpoint.ts","node_modules/spinal-model-analysis/dist/models/InputData/genUID.js","node_modules/spinal-model-analysis/src/models/InputData/genUID.ts","node_modules/spinal-model-analysis/dist/services/SingletonTimeSeries.js","node_modules/spinal-model-analysis/src/services/SingletonTimeSeries.ts","node_modules/qs/lib/index.js","node_modules/qs/lib/stringify.js","node_modules/side-channel/index.js","node_modules/get-intrinsic/index.js","node_modules/es-errors/index.js","node_modules/es-errors/eval.js","node_modules/es-errors/range.js","node_modules/es-errors/ref.js","node_modules/es-errors/syntax.js","node_modules/es-errors/type.js","node_modules/es-errors/uri.js","node_modules/has-symbols/index.js","node_modules/has-symbols/shams.js","node_modules/has-proto/index.js","node_modules/function-bind/index.js","node_modules/function-bind/implementation.js","node_modules/hasown/index.js","node_modules/call-bind/callBound.js","node_modules/call-bind/index.js","node_modules/set-function-length/index.js","node_modules/define-data-property/index.js","node_modules/es-define-property/index.js","node_modules/gopd/index.js","node_modules/has-property-descriptors/index.js","node_modules/object-inspect/index.js","node_modules/@parcel/node-resolver-core/lib/_empty.js","node_modules/qs/lib/utils.js","node_modules/qs/lib/formats.js","node_modules/qs/lib/parse.js","node_modules/spinal-env-viewer-plugin-analysis/src/buttons/createAnalytic.js","node_modules/spinal-env-viewer-plugin-analysis/src/buttons/modifyAnalytic.js","node_modules/spinal-env-viewer-plugin-analysis/src/buttons/createContext.js","node_modules/spinal-env-viewer-plugin-analysis/src/vues/dialogs/index.js","node_modules/spinal-env-viewer-plugin-analysis/src/vues/dialogs/createContextDialog.vue","node_modules/spinal-env-viewer-plugin-analysis/src/vues/dialogs/components/sortable-list.vue","node_modules/spinal-env-viewer-plugin-analysis/src/vues/dialogs/components/addItemsPopover.vue","node_modules/spinal-env-viewer-plugin-analysis/src/vues/dialogs/createEntityDialog.vue","node_modules/spinal-env-viewer-plugin-analysis/src/vues/dialogs/createAnalyticDialog.vue","node_modules/spinal-env-viewer-plugin-analysis/src/vues/dialogs/components/analyticSteps/analyticName.vue","node_modules/spinal-env-viewer-plugin-analysis/src/vues/dialogs/components/analyticSteps/followedEntity.vue","node_modules/spinal-env-viewer-plugin-analysis/src/vues/dialogs/components/linkToEntity.vue","node_modules/spinal-env-viewer-plugin-analysis/src/services/index.js","node_modules/spinal-env-viewer-plugin-analysis/src/services/classes/spinalAttributeService.js","node_modules/spinal-env-viewer-plugin-forge/dist/Constants.js","node_modules/spinal-env-viewer-bim-manager-service/dist/index.js","node_modules/spinal-env-viewer-bim-manager-service/src/index.ts","node_modules/spinal-env-viewer-bim-manager-service/dist/bimObjects/bimService.js","node_modules/spinal-env-viewer-bim-manager-service/src/bimObjects/bimService.ts","node_modules/spinal-env-viewer-plugin-analysis/src/services/classes/spinalConfigurationService.js","node_modules/spinal-env-viewer-plugin-analysis/src/vues/dialogs/components/linkerTemplate.vue","node_modules/spinal-env-viewer-plugin-analysis/src/vues/dialogs/components/linkToSpatialEntity.vue","node_modules/spinal-env-viewer-plugin-analysis/src/vues/dialogs/components/linkToContext.vue","node_modules/spinal-env-viewer-plugin-analysis/src/vues/dialogs/components/analyticSteps/inputConfiguration.vue","node_modules/spinal-env-viewer-plugin-analysis/src/vues/dialogs/components/previewDialog.vue","node_modules/spinal-env-viewer-plugin-analysis/src/vues/dialogs/components/analyticSteps/triggerConfiguration.vue","node_modules/spinal-env-viewer-plugin-analysis/src/vues/dialogs/components/cronHelpDialog.vue","node_modules/spinal-env-viewer-plugin-analysis/src/vues/dialogs/components/analyticSteps/algorithmConfiguration.vue","node_modules/spinal-env-viewer-plugin-analysis/src/vues/dialogs/components/analyticSteps/resultConfiguration.vue","node_modules/spinal-env-viewer-plugin-analysis/src/vues/dialogs/components/analyticSteps/IODependencies.vue","node_modules/spinal-env-viewer-plugin-analysis/src/vues/dialogs/components/analyticSteps/inputSelectionTable.vue","node_modules/spinal-env-viewer-plugin-analysis/src/vues/dialogs/components/analyticSteps/configuration.vue","node_modules/spinal-env-viewer-plugin-analysis/src/vues/dialogs/components/analyticSteps/summary.vue","node_modules/spinal-env-viewer-plugin-analysis/src/vues/dialogs/modifyAnalyticDialog.vue","node_modules/spinal-env-viewer-plugin-analysis/src/vues/panels/index.js","node_modules/spinal-env-viewer-panel-manager-service_spinalforgeextention/index.js","node_modules/spinal-env-viewer-panel-manager-service_spinalforgeextention/SpinalForgeExtention.js","node_modules/spinal-env-viewer-plugin-analysis/src/vues/panels/linkGroupToAnalytics.vue","node_modules/spinal-service-ticket/dist/Constants.js","node_modules/spinal-service-ticket/src/Constants.ts","node_modules/spinal-service-ticket/dist/old_constants.js","node_modules/spinal-service-ticket/src/old_constants.ts"],"sourcesContent":["import \"./src/buttons\";\nimport \"./src/vues/dialogs\";\nimport \"./src/vues/panels\";","import createEntity from \"./createEntity\";\nimport createAnalytic from \"./createAnalytic\";\nimport modifyAnalytic from \"./modifyAnalytic\";\n\nimport {\n   CreateContextButton\n } from \"./createContext\";\n\n import {\n   spinalContextMenuService\n } from \"spinal-env-viewer-context-menu-service\";\n \n /* Constants */\nconst HEADER_HOOK_NAME = \"GraphManagerTopBar\";\nconst SIDEBAR_HOOK_NAME = \"GraphManagerSideBar\";\nconst CIRCULAR_MENU_HOOK = \"circularMenu\";\n\n/* Headerbar Buttons*/\nspinalContextMenuService.registerApp(\n   HEADER_HOOK_NAME,\n   new CreateContextButton(),\n   [3]\n );\n\nexport {\n  createEntity,\n  createAnalytic,\n  modifyAnalytic\n}","import { SpinalContextApp } from \"spinal-env-viewer-context-menu-service\";\nconst { spinalPanelManagerService } = require(\"spinal-env-viewer-panel-manager-service\");\nimport { spinalContextMenuService } from \"spinal-env-viewer-context-menu-service\";\n\nimport { CONTEXT_TYPE } from \"spinal-model-analysis\";\n\nconst SIDEBAR = \"GraphManagerSideBar\";\n\nclass CreateEntity extends SpinalContextApp {\n   constructor() {\n      super(\"Create Entity\",\n        \"Create Entity\", {\n          icon: 'dashboard_customize',\n          icon_type: 'in',\n          backgroundColor: '#356BAB',\n          fontColor: '#FFFFFF'\n        })\n    }\n  \n    isShown(option) {  \n      const id = option.selectedNode.id.get();\n      const isAnalyticContext = option.selectedNode.type.get() === CONTEXT_TYPE;\n      return Promise.resolve(isAnalyticContext ? true : -1);\n    }\n  \n    action(option) {\n      spinalPanelManagerService.openPanel(\"createEntityDialog\", option);\n    }\n}\n\nconst createEntity = new CreateEntity();\nspinalContextMenuService.registerApp(SIDEBAR, createEntity, [3]);\nexport default createEntity;","/*\n * Copyright 2018 SpinalCom - www.spinalcom.com\n *\n * This file is part of SpinalCore.\n *\n * Please read all of the following terms and conditions\n * of the Free Software license Agreement (\"Agreement\")\n * carefully.\n *\n * This Agreement is a legally binding contract between\n * the Licensee (as defined below) and SpinalCom that\n * sets forth the terms and conditions that govern your\n * use of the Program. By installing and/or using the\n * Program, you agree to abide by all the terms and\n * conditions stated or referenced herein.\n *\n * If you do not agree to abide by these terms and\n * conditions, do not demonstrate your acceptance and do\n * not install or use the Program.\n * You should have received a copy of the license along\n * with this file. If not, see\n * <http://resources.spinalcom.com/licenses.pdf>.\n */\n\nconst G_root = typeof window == \"undefined\" ? global : window;\nconst SpinalPanelManagerService = require(\"./SpinalPanelManagerService\");\nconst SpinalPanelApp = require(\"./SpinalPanelApp\");\n\nif (typeof G_root.spinal === \"undefined\") G_root.spinal = {};\nif (typeof G_root.spinal.spinalPanelManagerService === \"undefined\")\n  G_root.spinal.spinalPanelManagerService = new SpinalPanelManagerService();\nconst SpinalMountExtention = require(\"./SpinalMountExtention.js\")(\n  G_root.spinal.spinalPanelManagerService,\n  SpinalPanelApp\n);\n\nmodule.exports = {\n  spinalPanelManagerService: G_root.spinal.spinalPanelManagerService,\n  SpinalPanelApp,\n  SpinalMountExtention,\n  install(Vue) {\n    Vue.prototype.$spinalPanelManagerService =\n      G_root.spinal.spinalPanelManagerService;\n  }\n};\n","/*\n * Copyright 2018 SpinalCom - www.spinalcom.com\n *\n * This file is part of SpinalCore.\n *\n * Please read all of the following terms and conditions\n * of the Free Software license Agreement (\"Agreement\")\n * carefully.\n *\n * This Agreement is a legally binding contract between\n * the Licensee (as defined below) and SpinalCom that\n * sets forth the terms and conditions that govern your\n * use of the Program. By installing and/or using the\n * Program, you agree to abide by all the terms and\n * conditions stated or referenced herein.\n *\n * If you do not agree to abide by these terms and\n * conditions, do not demonstrate your acceptance and do\n * not install or use the Program.\n * You should have received a copy of the license along\n * with this file. If not, see\n * <http://resources.spinalcom.com/licenses.pdf>.\n */\n\n/**\n *  Containter like service to register and get applications relative to a hookname\n *\n * @property {object} panels key = panelName, value = an instance of SpinalPanelApp\n * @class SpinalPanelManagerService\n */\nclass SpinalPanelManagerService {\n  /**\n   *Creates an instance of SpinalPanelManagerService.\n   * @memberof SpinalPanelManagerService\n   */\n  constructor() {\n    this.panels = {};\n  }\n\n  /**\n   * method to register an Panel Application\n   *\n   * @param {string} panelName the name of the panel\n   * @param {SpinalPanelApp} spinalPanelApp the application\n   * @memberof SpinalPanelManagerService\n   */\n  registerPanel(panelName, spinalPanelApp) {\n    this.panels[panelName] = spinalPanelApp;\n  }\n\n  /**\n   *\n   *\n   * @param {*} panelName\n   * @param {*} option\n   * @returns {bool}\n   * @memberof SpinalPanelManagerService\n   */\n  openPanel(panelName, option) {\n    if (typeof this.panels[panelName] !== \"undefined\")\n      return this.panels[panelName].openPanel(option);\n    return false;\n  }\n  /**\n   *\n   *\n   * @param {*} panelName\n   * @param {*} option\n   * @returns {bool}\n   * @memberof SpinalPanelManagerService\n   */\n  closePanel(panelName, option) {\n    if (typeof this.panels[panelName] !== \"undefined\")\n      return this.panels[panelName].closePanel(option);\n    return false;\n  }\n  /**\n   *\n   *\n   * @param {*} panelName\n   * @param {*} option\n   * @returns {bool}\n   * @memberof SpinalPanelManagerService\n   */\n  tooglePanel(panelName, option) {\n    if (typeof this.panels[panelName] !== \"undefined\")\n      return this.panels[panelName].tooglePanel(option);\n    return false;\n  }\n}\n\nmodule.exports = SpinalPanelManagerService;\n","/*\n * Copyright 2018 SpinalCom - www.spinalcom.com\n *\n * This file is part of SpinalCore.\n *\n * Please read all of the following terms and conditions\n * of the Free Software license Agreement (\"Agreement\")\n * carefully.\n *\n * This Agreement is a legally binding contract between\n * the Licensee (as defined below) and SpinalCom that\n * sets forth the terms and conditions that govern your\n * use of the Program. By installing and/or using the\n * Program, you agree to abide by all the terms and\n * conditions stated or referenced herein.\n *\n * If you do not agree to abide by these terms and\n * conditions, do not demonstrate your acceptance and do\n * not install or use the Program.\n * You should have received a copy of the license along\n * with this file. If not, see\n * <http://resources.spinalcom.com/licenses.pdf>.\n */\n\n/**\n * Base interface like class of a panel\n *\n * @class SpinalPanelApp\n */\nclass SpinalPanelApp {\n  constructor() {}\n\n  openPanel(option) {}\n  closePanel(option) {}\n  tooglePanel(option) {}\n}\n\nmodule.exports = SpinalPanelApp;\n","/*\n * Copyright 2018 SpinalCom - www.spinalcom.com\n *\n * This file is part of SpinalCore.\n *\n * Please read all of the following terms and conditions\n * of the Free Software license Agreement (\"Agreement\")\n * carefully.\n *\n * This Agreement is a legally binding contract between\n * the Licensee (as defined below) and SpinalCom that\n * sets forth the terms and conditions that govern your\n * use of the Program. By installing and/or using the\n * Program, you agree to abide by all the terms and\n * conditions stated or referenced herein.\n *\n * If you do not agree to abide by these terms and\n * conditions, do not demonstrate your acceptance and do\n * not install or use the Program.\n * You should have received a copy of the license along\n * with this file. If not, see\n * <http://resources.spinalcom.com/licenses.pdf>.\n */\n\nfunction configInit(option) {\n  const cfg = {};\n  if (!option.vueMountComponent) {\n    throw new Error(\"mount : missing option vueMountComponent\");\n  }\n\n  cfg.name = option.name || \"SpinalMount\";\n  cfg.vueMountComponent = option.vueMountComponent;\n  cfg.parentContainer = option.parentContainer || document.body;\n  return cfg;\n}\n\nfunction getDialog() {\n  if (!this.dialog) {\n    this.dialog = document.createElement(\"div\");\n    const _compo = document.createElement(\"div\");\n    this.dialog.className = \"spinal-modal-container\";\n    this.cfg.parentContainer.appendChild(this.dialog);\n    this.dialog.appendChild(_compo);\n    this.compoment = new this.cfg.vueMountComponent({\n      propsData: {\n        onFinised: this.onFinised.bind(this)\n      }\n    }).$mount(_compo);\n  }\n  return this.dialog;\n}\n\n/**\n *\n * @param {*} spinalPanelManagerService\n * @param {*} SpinalPanelApp\n * @returns {object} { mount }\n */\nmodule.exports = function(spinalPanelManagerService, SpinalPanelApp) {\n  return {\n    /**\n```js\n{\n  name: \"myCustomDialogName\",\n  vueMountComponent: Vue.extend(aVueCompomentDialog),\n  parentContainer: document.body\n}```\n     *\n     * @param {*} option\n     */\n    mount(option) {\n      let cfg = configInit(option);\n      const SpinalMount = class extends SpinalPanelApp {\n        constructor() {\n          super();\n          this.cfg = cfg;\n          this.dialog = null;\n          this.compoment = null;\n        }\n\n        openPanel(opt) {\n          getDialog.call(this);\n          this.compoment.opened(opt);\n        }\n        closePanel(opt) {\n          if (this.dialog !== null) {\n            this.compoment.removed(opt);\n            this.dialog.remove();\n            this.dialog = null;\n            this.compoment = null;\n          }\n        }\n\n        tooglePanel(opt) {\n          if (this.dialog !== null) {\n            this.closePanel(opt);\n          } else {\n            this.openPanel(opt);\n          }\n        }\n\n        /**\n         * called when dialog closed by the dialog itself\n         */\n        onFinised(closeResult) {\n          this.closePanel(closeResult);\n        }\n      };\n      let SpinalMountInstance = new SpinalMount();\n      spinalPanelManagerService.registerPanel(cfg.name, SpinalMountInstance);\n    }\n  };\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ANALYTIC_STATUS = exports.ALGORITHMS = exports.algos = exports.isGChatOrganCardResult = exports.isGChatMessageResult = exports.isResultSuccess = exports.getAvailableData = exports.getChoiceRelationsWithDepth = exports.getValueModelFromEntry = exports.ATTRIBUTE_VALUE_SEPARATOR = exports.ATTRIBUTE_ALARM_PRIORITY = exports.ATTRIBUTE_TICKET_PROCESS_ID = exports.ATTRIBUTE_TICKET_CONTEXT_ID = exports.ATTRIBUTE_TRIGGER_AT_START = exports.ATTRIBUTE_ANALYTIC_DESCRIPTION = exports.ATTRIBUTE_ANALYTIC_STATUS = exports.ATTRIBUTE_RESULT_TYPE = exports.ATTRIBUTE_RESULT_NAME = exports.ATTRIBUTE_SEPARATOR = exports.ATTRIBUTE_SEARCH_RELATIONS = exports.ATTRIBUTE_STRICT_DEPTH = exports.ATTRIBUTE_SEARCH_DEPTH = exports.ATTRIBUTE_TIMESERIES = exports.ATTRIBUTE_FILTER_VALUE = exports.ATTRIBUTE_TRACKING_METHOD = exports.ATTRIBUTE_PHONE_MESSAGE = exports.ATTRIBUTE_PHONE_NUMBER = exports.ATTRIBUTE_GCHAT_SPACE = exports.ATTRIBUTE_GCHAT_MESSAGE = exports.CATEGORY_ATTRIBUTE_GCHAT_PARAMETERS = exports.CATEGORY_ATTRIBUTE_ALGORITHM_INDEX_MAPPING = exports.CATEGORY_ATTRIBUTE_TRIGGER_PARAMETERS = exports.CATEGORY_ATTRIBUTE_IO_DEPENDENCIES = exports.CATEGORY_ATTRIBUTE_ANALYTIC_PARAMETERS = exports.CATEGORY_ATTRIBUTE_TWILIO_PARAMETERS = exports.CATEGORY_ATTRIBUTE_TRACKING_METHOD_PARAMETERS = exports.CATEGORY_ATTRIBUTE_RESULT_PARAMETERS = exports.CATEGORY_ATTRIBUTE_ALGORTHM_PARAMETERS = exports.CATEGORY_ATTRIBUTE_TICKET_LOCALIZATION_PARAMETERS = exports.ENTITY_TYPE = exports.CONTEXT_TYPE = exports.TRIGGER_TYPE = exports.TRACK_METHOD = exports.ANALYTIC_TYPE = exports.ANALYTIC_RESULT_TYPE = exports.ENTITY_TYPES = exports.TrackingMethodModel = exports.AnalyticModel = exports.spinalAnalyticService = exports.AnalyticService = void 0;\nconst AnalyticModel_1 = require(\"./models/AnalyticModel\");\nObject.defineProperty(exports, \"AnalyticModel\", { enumerable: true, get: function () { return AnalyticModel_1.AnalyticModel; } });\nconst TrackingMethodModel_1 = require(\"./models/TrackingMethodModel\");\nObject.defineProperty(exports, \"TrackingMethodModel\", { enumerable: true, get: function () { return TrackingMethodModel_1.TrackingMethodModel; } });\nconst IAnalyticResult_1 = require(\"./interfaces/IAnalyticResult\");\nObject.defineProperty(exports, \"isResultSuccess\", { enumerable: true, get: function () { return IAnalyticResult_1.isResultSuccess; } });\nObject.defineProperty(exports, \"isGChatMessageResult\", { enumerable: true, get: function () { return IAnalyticResult_1.isGChatMessageResult; } });\nObject.defineProperty(exports, \"isGChatOrganCardResult\", { enumerable: true, get: function () { return IAnalyticResult_1.isGChatOrganCardResult; } });\nconst constants_1 = require(\"./constants\");\nObject.defineProperty(exports, \"ANALYTIC_RESULT_TYPE\", { enumerable: true, get: function () { return constants_1.ANALYTIC_RESULT_TYPE; } });\nObject.defineProperty(exports, \"ANALYTIC_TYPE\", { enumerable: true, get: function () { return constants_1.ANALYTIC_TYPE; } });\nObject.defineProperty(exports, \"TRACK_METHOD\", { enumerable: true, get: function () { return constants_1.TRACK_METHOD; } });\nObject.defineProperty(exports, \"ENTITY_TYPES\", { enumerable: true, get: function () { return constants_1.ENTITY_TYPES; } });\nObject.defineProperty(exports, \"CONTEXT_TYPE\", { enumerable: true, get: function () { return constants_1.CONTEXT_TYPE; } });\nObject.defineProperty(exports, \"ENTITY_TYPE\", { enumerable: true, get: function () { return constants_1.ENTITY_TYPE; } });\nObject.defineProperty(exports, \"TRIGGER_TYPE\", { enumerable: true, get: function () { return constants_1.TRIGGER_TYPE; } });\nObject.defineProperty(exports, \"CATEGORY_ATTRIBUTE_TICKET_LOCALIZATION_PARAMETERS\", { enumerable: true, get: function () { return constants_1.CATEGORY_ATTRIBUTE_TICKET_LOCALIZATION_PARAMETERS; } });\nObject.defineProperty(exports, \"CATEGORY_ATTRIBUTE_ALGORTHM_PARAMETERS\", { enumerable: true, get: function () { return constants_1.CATEGORY_ATTRIBUTE_ALGORTHM_PARAMETERS; } });\nObject.defineProperty(exports, \"CATEGORY_ATTRIBUTE_RESULT_PARAMETERS\", { enumerable: true, get: function () { return constants_1.CATEGORY_ATTRIBUTE_RESULT_PARAMETERS; } });\nObject.defineProperty(exports, \"CATEGORY_ATTRIBUTE_TRACKING_METHOD_PARAMETERS\", { enumerable: true, get: function () { return constants_1.CATEGORY_ATTRIBUTE_TRACKING_METHOD_PARAMETERS; } });\nObject.defineProperty(exports, \"CATEGORY_ATTRIBUTE_TWILIO_PARAMETERS\", { enumerable: true, get: function () { return constants_1.CATEGORY_ATTRIBUTE_TWILIO_PARAMETERS; } });\nObject.defineProperty(exports, \"CATEGORY_ATTRIBUTE_ANALYTIC_PARAMETERS\", { enumerable: true, get: function () { return constants_1.CATEGORY_ATTRIBUTE_ANALYTIC_PARAMETERS; } });\nObject.defineProperty(exports, \"CATEGORY_ATTRIBUTE_IO_DEPENDENCIES\", { enumerable: true, get: function () { return constants_1.CATEGORY_ATTRIBUTE_IO_DEPENDENCIES; } });\nObject.defineProperty(exports, \"CATEGORY_ATTRIBUTE_TRIGGER_PARAMETERS\", { enumerable: true, get: function () { return constants_1.CATEGORY_ATTRIBUTE_TRIGGER_PARAMETERS; } });\nObject.defineProperty(exports, \"CATEGORY_ATTRIBUTE_ALGORITHM_INDEX_MAPPING\", { enumerable: true, get: function () { return constants_1.CATEGORY_ATTRIBUTE_ALGORITHM_INDEX_MAPPING; } });\nObject.defineProperty(exports, \"CATEGORY_ATTRIBUTE_GCHAT_PARAMETERS\", { enumerable: true, get: function () { return constants_1.CATEGORY_ATTRIBUTE_GCHAT_PARAMETERS; } });\nObject.defineProperty(exports, \"ATTRIBUTE_GCHAT_SPACE\", { enumerable: true, get: function () { return constants_1.ATTRIBUTE_GCHAT_SPACE; } });\nObject.defineProperty(exports, \"ATTRIBUTE_GCHAT_MESSAGE\", { enumerable: true, get: function () { return constants_1.ATTRIBUTE_GCHAT_MESSAGE; } });\nObject.defineProperty(exports, \"ATTRIBUTE_PHONE_NUMBER\", { enumerable: true, get: function () { return constants_1.ATTRIBUTE_PHONE_NUMBER; } });\nObject.defineProperty(exports, \"ATTRIBUTE_PHONE_MESSAGE\", { enumerable: true, get: function () { return constants_1.ATTRIBUTE_PHONE_MESSAGE; } });\nObject.defineProperty(exports, \"ATTRIBUTE_TRACKING_METHOD\", { enumerable: true, get: function () { return constants_1.ATTRIBUTE_TRACKING_METHOD; } });\nObject.defineProperty(exports, \"ATTRIBUTE_FILTER_VALUE\", { enumerable: true, get: function () { return constants_1.ATTRIBUTE_FILTER_VALUE; } });\nObject.defineProperty(exports, \"ATTRIBUTE_TIMESERIES\", { enumerable: true, get: function () { return constants_1.ATTRIBUTE_TIMESERIES; } });\nObject.defineProperty(exports, \"ATTRIBUTE_SEARCH_DEPTH\", { enumerable: true, get: function () { return constants_1.ATTRIBUTE_SEARCH_DEPTH; } });\nObject.defineProperty(exports, \"ATTRIBUTE_STRICT_DEPTH\", { enumerable: true, get: function () { return constants_1.ATTRIBUTE_STRICT_DEPTH; } });\nObject.defineProperty(exports, \"ATTRIBUTE_SEARCH_RELATIONS\", { enumerable: true, get: function () { return constants_1.ATTRIBUTE_SEARCH_RELATIONS; } });\nObject.defineProperty(exports, \"ATTRIBUTE_SEPARATOR\", { enumerable: true, get: function () { return constants_1.ATTRIBUTE_SEPARATOR; } });\nObject.defineProperty(exports, \"ATTRIBUTE_VALUE_SEPARATOR\", { enumerable: true, get: function () { return constants_1.ATTRIBUTE_VALUE_SEPARATOR; } });\nObject.defineProperty(exports, \"ATTRIBUTE_RESULT_NAME\", { enumerable: true, get: function () { return constants_1.ATTRIBUTE_RESULT_NAME; } });\nObject.defineProperty(exports, \"ATTRIBUTE_RESULT_TYPE\", { enumerable: true, get: function () { return constants_1.ATTRIBUTE_RESULT_TYPE; } });\nObject.defineProperty(exports, \"ATTRIBUTE_ANALYTIC_STATUS\", { enumerable: true, get: function () { return constants_1.ATTRIBUTE_ANALYTIC_STATUS; } });\nObject.defineProperty(exports, \"ATTRIBUTE_ANALYTIC_DESCRIPTION\", { enumerable: true, get: function () { return constants_1.ATTRIBUTE_ANALYTIC_DESCRIPTION; } });\nObject.defineProperty(exports, \"ATTRIBUTE_TRIGGER_AT_START\", { enumerable: true, get: function () { return constants_1.ATTRIBUTE_TRIGGER_AT_START; } });\nObject.defineProperty(exports, \"ATTRIBUTE_TICKET_CONTEXT_ID\", { enumerable: true, get: function () { return constants_1.ATTRIBUTE_TICKET_CONTEXT_ID; } });\nObject.defineProperty(exports, \"ATTRIBUTE_TICKET_PROCESS_ID\", { enumerable: true, get: function () { return constants_1.ATTRIBUTE_TICKET_PROCESS_ID; } });\nObject.defineProperty(exports, \"ATTRIBUTE_ALARM_PRIORITY\", { enumerable: true, get: function () { return constants_1.ATTRIBUTE_ALARM_PRIORITY; } });\nObject.defineProperty(exports, \"ANALYTIC_STATUS\", { enumerable: true, get: function () { return constants_1.ANALYTIC_STATUS; } });\nconst algos = require(\"./algorithms/algorithms\");\nexports.algos = algos;\nconst algorithms_1 = require(\"./algorithms/algorithms\");\nObject.defineProperty(exports, \"ALGORITHMS\", { enumerable: true, get: function () { return algorithms_1.ALGORITHMS; } });\nconst AnalyticService_1 = require(\"./services/AnalyticService\");\nObject.defineProperty(exports, \"AnalyticService\", { enumerable: true, get: function () { return AnalyticService_1.AnalyticService; } });\nconst utils_1 = require(\"./services/utils\");\nObject.defineProperty(exports, \"getValueModelFromEntry\", { enumerable: true, get: function () { return utils_1.getValueModelFromEntry; } });\nObject.defineProperty(exports, \"getChoiceRelationsWithDepth\", { enumerable: true, get: function () { return utils_1.getChoiceRelationsWithDepth; } });\nObject.defineProperty(exports, \"getAvailableData\", { enumerable: true, get: function () { return utils_1.getAvailableData; } });\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst globalRoot = typeof window === 'undefined' ? global : window;\nconst spinalAnalyticService = new AnalyticService_1.AnalyticService();\nexports.spinalAnalyticService = spinalAnalyticService;\nif (typeof globalRoot.spinal === 'undefined')\n    globalRoot.spinal = {};\nif (typeof globalRoot.spinal.spinalAnalyticService === 'undefined') {\n    globalRoot.spinal.spinalAnalyticService = spinalAnalyticService;\n}\nif (typeof globalRoot.spinal.spinalAnalyticService === 'undefined') {\n    globalRoot.spinal.spinalAnalyticService = spinalAnalyticService;\n}\nexports.default = spinalAnalyticService;\n//# sourceMappingURL=index.js.map","import { IAnalytic } from './interfaces/IAnalytic';\nimport { IEntity } from './interfaces/IEntity';\nimport { ITrackingMethod } from './interfaces/ITrackingMethod';\nimport { IConfig } from './interfaces/IConfig';\nimport { AnalyticModel } from './models/AnalyticModel';\nimport { TrackingMethodModel } from './models/TrackingMethodModel';\nimport {\n  isResultSuccess,\n  isGChatMessageResult,\n  isGChatOrganCardResult,\n  IResult,\n} from './interfaces/IAnalyticResult';\nimport {\n  ANALYTIC_RESULT_TYPE,\n  ANALYTIC_TYPE,\n  TRACK_METHOD,\n  ENTITY_TYPES,\n  CONTEXT_TYPE,\n  ENTITY_TYPE,\n  TRIGGER_TYPE,\n  CATEGORY_ATTRIBUTE_TICKET_LOCALIZATION_PARAMETERS,\n  CATEGORY_ATTRIBUTE_ALGORTHM_PARAMETERS,\n  CATEGORY_ATTRIBUTE_RESULT_PARAMETERS,\n  CATEGORY_ATTRIBUTE_TRACKING_METHOD_PARAMETERS,\n  CATEGORY_ATTRIBUTE_TWILIO_PARAMETERS,\n  CATEGORY_ATTRIBUTE_ANALYTIC_PARAMETERS,\n  CATEGORY_ATTRIBUTE_IO_DEPENDENCIES,\n  CATEGORY_ATTRIBUTE_TRIGGER_PARAMETERS,\n  CATEGORY_ATTRIBUTE_ALGORITHM_INDEX_MAPPING,\n  CATEGORY_ATTRIBUTE_GCHAT_PARAMETERS,\n  ATTRIBUTE_GCHAT_SPACE,\n  ATTRIBUTE_GCHAT_MESSAGE,\n  ATTRIBUTE_PHONE_NUMBER,\n  ATTRIBUTE_PHONE_MESSAGE,\n  ATTRIBUTE_TRACKING_METHOD,\n  ATTRIBUTE_FILTER_VALUE,\n  ATTRIBUTE_TIMESERIES,\n  ATTRIBUTE_SEARCH_DEPTH,\n  ATTRIBUTE_STRICT_DEPTH,\n  ATTRIBUTE_SEARCH_RELATIONS,\n  ATTRIBUTE_SEPARATOR,\n  ATTRIBUTE_VALUE_SEPARATOR,\n  ATTRIBUTE_RESULT_NAME,\n  ATTRIBUTE_RESULT_TYPE,\n  ATTRIBUTE_ANALYTIC_STATUS,\n  ATTRIBUTE_ANALYTIC_DESCRIPTION,\n  ATTRIBUTE_TRIGGER_AT_START,\n  ATTRIBUTE_TICKET_CONTEXT_ID,\n  ATTRIBUTE_TICKET_PROCESS_ID,\n  ATTRIBUTE_ALARM_PRIORITY,\n  ANALYTIC_STATUS,\n} from './constants';\n\nimport * as algos from './algorithms/algorithms';\nimport { ALGORITHMS } from './algorithms/algorithms';\nimport { AnalyticService } from './services/AnalyticService';\nimport {\n  getValueModelFromEntry,\n  getChoiceRelationsWithDepth,\n  getAvailableData,\n} from './services/utils';\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst globalRoot: any = typeof window === 'undefined' ? global : window;\n\nconst spinalAnalyticService = new AnalyticService();\n\nif (typeof globalRoot.spinal === 'undefined') globalRoot.spinal = {};\n\nif (typeof globalRoot.spinal.spinalAnalyticService === 'undefined') {\n  globalRoot.spinal.spinalAnalyticService = spinalAnalyticService;\n}\n\nif (typeof globalRoot.spinal.spinalAnalyticService === 'undefined') {\n  globalRoot.spinal.spinalAnalyticService = spinalAnalyticService;\n}\n\nexport {\n  AnalyticService,\n  spinalAnalyticService,\n  IAnalytic,\n  ITrackingMethod,\n  IEntity,\n  IConfig,\n  IResult,\n  AnalyticModel,\n  TrackingMethodModel,\n  ENTITY_TYPES,\n  ANALYTIC_RESULT_TYPE,\n  ANALYTIC_TYPE,\n  TRACK_METHOD,\n  TRIGGER_TYPE,\n  CONTEXT_TYPE,\n  ENTITY_TYPE,\n  CATEGORY_ATTRIBUTE_TICKET_LOCALIZATION_PARAMETERS,\n  CATEGORY_ATTRIBUTE_ALGORTHM_PARAMETERS,\n  CATEGORY_ATTRIBUTE_RESULT_PARAMETERS,\n  CATEGORY_ATTRIBUTE_TRACKING_METHOD_PARAMETERS,\n  CATEGORY_ATTRIBUTE_TWILIO_PARAMETERS,\n  CATEGORY_ATTRIBUTE_ANALYTIC_PARAMETERS,\n  CATEGORY_ATTRIBUTE_IO_DEPENDENCIES,\n  CATEGORY_ATTRIBUTE_TRIGGER_PARAMETERS,\n  CATEGORY_ATTRIBUTE_ALGORITHM_INDEX_MAPPING,\n  CATEGORY_ATTRIBUTE_GCHAT_PARAMETERS,\n  ATTRIBUTE_GCHAT_MESSAGE,\n  ATTRIBUTE_GCHAT_SPACE,\n  ATTRIBUTE_PHONE_NUMBER,\n  ATTRIBUTE_PHONE_MESSAGE,\n  ATTRIBUTE_TRACKING_METHOD,\n  ATTRIBUTE_FILTER_VALUE,\n  ATTRIBUTE_TIMESERIES,\n  ATTRIBUTE_SEARCH_DEPTH,\n  ATTRIBUTE_STRICT_DEPTH,\n  ATTRIBUTE_SEARCH_RELATIONS,\n  ATTRIBUTE_SEPARATOR,\n  ATTRIBUTE_RESULT_NAME,\n  ATTRIBUTE_RESULT_TYPE,\n  ATTRIBUTE_ANALYTIC_STATUS,\n  ATTRIBUTE_ANALYTIC_DESCRIPTION,\n  ATTRIBUTE_TRIGGER_AT_START,\n  ATTRIBUTE_TICKET_CONTEXT_ID,\n  ATTRIBUTE_TICKET_PROCESS_ID,\n  ATTRIBUTE_ALARM_PRIORITY,\n  ATTRIBUTE_VALUE_SEPARATOR,\n  getValueModelFromEntry,\n  getChoiceRelationsWithDepth,\n  getAvailableData,\n  isResultSuccess,\n  isGChatMessageResult,\n  isGChatOrganCardResult,\n  algos,\n  ALGORITHMS,\n  ANALYTIC_STATUS,\n};\n\nexport default spinalAnalyticService;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AnalyticModel = void 0;\nconst spinal_core_connectorjs_type_1 = require(\"spinal-core-connectorjs_type\");\nclass AnalyticModel extends spinal_core_connectorjs_type_1.Model {\n    constructor(analytic) {\n        super();\n        this.add_attr(analytic);\n    }\n}\nexports.AnalyticModel = AnalyticModel;\nspinal_core_connectorjs_type_1.spinalCore.register_models(AnalyticModel);\nexports.default = AnalyticModel;\n//# sourceMappingURL=AnalyticModel.js.map","import { spinalCore, Model } from \"spinal-core-connectorjs_type\";\nimport { IAnalytic } from \"../interfaces/IAnalytic\";\n\nclass AnalyticModel extends Model {\n   constructor(analytic: IAnalytic) {\n      super();\n      this.add_attr(analytic);\n\n   }\n}\n\n\n\nspinalCore.register_models(AnalyticModel);\nexport default AnalyticModel;\nexport {\n   AnalyticModel\n}","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TrackingMethodModel = void 0;\nconst spinal_core_connectorjs_type_1 = require(\"spinal-core-connectorjs_type\");\nclass TrackingMethodModel extends spinal_core_connectorjs_type_1.Model {\n    constructor(trackingMethod) {\n        super();\n        this.add_attr(trackingMethod);\n    }\n}\nexports.TrackingMethodModel = TrackingMethodModel;\nspinal_core_connectorjs_type_1.spinalCore.register_models(TrackingMethodModel);\nexports.default = TrackingMethodModel;\n//# sourceMappingURL=TrackingMethodModel.js.map","import { spinalCore, Model } from \"spinal-core-connectorjs_type\";\nimport { ITrackingMethod } from \"../interfaces/ITrackingMethod\";\n\n\n\nclass TrackingMethodModel extends Model {\n   constructor(trackingMethod: any) {\n      super();\n      this.add_attr(trackingMethod);\n   }\n}\n\n\n\nspinalCore.register_models(TrackingMethodModel);\nexport default TrackingMethodModel;\nexport {\n   TrackingMethodModel\n}","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isGChatOrganCardResult = exports.isGChatMessageResult = exports.isResultSuccess = void 0;\nconst constants_1 = require(\"../constants\");\nfunction isResultSuccess(result) {\n    return (result.success = true);\n}\nexports.isResultSuccess = isResultSuccess;\nfunction isGChatMessageResult(result) {\n    return result.resultType === constants_1.ANALYTIC_RESULT_TYPE.GCHAT_MESSAGE;\n}\nexports.isGChatMessageResult = isGChatMessageResult;\nfunction isGChatOrganCardResult(result) {\n    return result.resultType === constants_1.ANALYTIC_RESULT_TYPE.GCHAT_ORGAN_CARD;\n}\nexports.isGChatOrganCardResult = isGChatOrganCardResult;\n//# sourceMappingURL=IAnalyticResult.js.map","import { ANALYTIC_RESULT_TYPE } from '../constants';\n\nexport function isResultSuccess(result: IResult): result is IResultSuccess {\n  return (result.success = true);\n}\n\nexport function isGChatMessageResult(\n  result: IResultSuccess\n): result is IGChatMessageResult {\n  return result.resultType === ANALYTIC_RESULT_TYPE.GCHAT_MESSAGE;\n}\n\nexport function isGChatOrganCardResult(\n  result: IResultSuccess\n): result is IGChatOrganCardResult {\n  return result.resultType === ANALYTIC_RESULT_TYPE.GCHAT_ORGAN_CARD;\n}\n\nexport interface IResultResponse {\n  success: boolean;\n  error: string;\n}\n\nexport interface IResultSuccess extends IResultResponse {\n  success: true;\n  resultValue: number | string | boolean;\n  resultType: ANALYTIC_RESULT_TYPE;\n}\n\nexport interface IGChatMessageResult extends IResultSuccess {\n  resultValue: boolean;\n  resultType: ANALYTIC_RESULT_TYPE.GCHAT_MESSAGE;\n  spaceName: string;\n  message: string;\n}\n\nexport interface IGChatCardResult extends IResultSuccess {\n  resultValue: boolean;\n  spaceName: string;\n  card: IGChatCard;\n}\n\nexport interface IGChatOrganCardResult extends IGChatCardResult {\n  resultType: ANALYTIC_RESULT_TYPE.GCHAT_ORGAN_CARD;\n}\n\nexport type IResult =\n  | IResultResponse\n  | IResultSuccess\n  | IGChatMessageResult\n  | IGChatCardResult;\n\nexport interface IGChatCard {\n  header: IGChatCardHeader;\n  sections: IGChatCardSection[];\n}\n\ninterface IGChatCardHeader {\n  title: string;\n  subtitle: string;\n}\n\ninterface IGChatCardSection {\n  header: string;\n  widgets: IGChatCardWidget[];\n}\n\ninterface IGChatCardWidget {\n  keyValue: IGChatCardKeyValue;\n}\n\ninterface IGChatCardKeyValue {\n  topLabel: string;\n  content: string;\n}\n","\"use strict\";\n/*\n * Copyright 2022 SpinalCom - www.spinalcom.com\n *\n * This file is part of SpinalCore.\n *\n * Please read all of the following terms and conditions\n * of the Free Software license Agreement (\"Agreement\")\n * carefully.\n *\n * This Agreement is a legally binding contract between\n * the Licensee (as defined below) and SpinalCom that\n * sets forth the terms and conditions that govern your\n * use of the Program. By installing and/or using the\n * Program, you agree to abide by all the terms and\n * conditions stated or referenced herein.\n *\n * If you do not agree to abide by these terms and\n * conditions, do not demonstrate your acceptance and do\n * not install or use the Program.\n * You should have received a copy of the license along\n * with this file. If not, see\n * <http://resources.spinalcom.com/licenses.pdf>.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ANALYTIC_RESULT_TYPE = exports.ENDPOINT_NODE_TYPE = exports.CONTROL_ENDPOINT_RELATIONS = exports.ENDPOINT_RELATIONS = exports.ATTRIBUTE_TRIGGER_AT_START = exports.ATTRIBUTE_ANALYTIC_DESCRIPTION = exports.ATTRIBUTE_ANALYTIC_STATUS = exports.ATTRIBUTE_ALARM_PRIORITY = exports.ATTRIBUTE_TICKET_PROCESS_ID = exports.ATTRIBUTE_TICKET_CONTEXT_ID = exports.ATTRIBUTE_GCHAT_MESSAGE = exports.ATTRIBUTE_GCHAT_SPACE = exports.ATTRIBUTE_PHONE_MESSAGE = exports.ATTRIBUTE_PHONE_NUMBER = exports.ATTRIBUTE_RESULT_NAME = exports.ATTRIBUTE_RESULT_TYPE = exports.ATTRIBUTE_SEARCH_RELATIONS = exports.ATTRIBUTE_STRICT_DEPTH = exports.ATTRIBUTE_SEARCH_DEPTH = exports.ATTRIBUTE_TIMESERIES = exports.ATTRIBUTE_FILTER_VALUE = exports.ATTRIBUTE_TRACKING_METHOD = exports.ATTRIBUTE_VALUE_SEPARATOR = exports.ATTRIBUTE_SEPARATOR = exports.CATEGORY_ATTRIBUTE_ALGORITHM_INDEX_MAPPING = exports.CATEGORY_ATTRIBUTE_ANALYTIC_PARAMETERS = exports.CATEGORY_ATTRIBUTE_IO_DEPENDENCIES = exports.CATEGORY_ATTRIBUTE_TRIGGER_PARAMETERS = exports.CATEGORY_ATTRIBUTE_GCHAT_PARAMETERS = exports.CATEGORY_ATTRIBUTE_TWILIO_PARAMETERS = exports.CATEGORY_ATTRIBUTE_TRACKING_METHOD_PARAMETERS = exports.CATEGORY_ATTRIBUTE_RESULT_PARAMETERS = exports.CATEGORY_ATTRIBUTE_TICKET_LOCALIZATION_PARAMETERS = exports.CATEGORY_ATTRIBUTE_ALGORTHM_PARAMETERS = exports.TARGET_NODE_TYPES = exports.GROUP_RELATION_PREFIX = exports.ANALYTIC_INPUTS_TO_TRACKING_METHOD_RELATION = exports.ANALYTIC_INPUTS_TO_FOLLOWED_ENTITY_RELATION = exports.ANALYTIC_TO_CONFIG_RELATION = exports.ANALYTIC_TO_OUTPUTS_RELATION = exports.ANALYTIC_TO_INPUTS_RELATION = exports.ENTITY_TO_ANALYTIC_RELATION = exports.CONTEXT_TO_ENTITY_RELATION = exports.CONFIG_TYPE = exports.OUTPUTS_TYPE = exports.INPUTS_TYPE = exports.TRACKING_METHOD_TYPE = exports.ANALYTIC_TYPE = exports.ENTITY_TYPE = exports.CONTEXT_TYPE = void 0;\nexports.ENTITY_TYPES = exports.ANALYTIC_STATUS = exports.TRIGGER_TYPE = exports.TRACK_METHOD = void 0;\nexports.CONTEXT_TYPE = 'analysisContext';\nexports.ENTITY_TYPE = 'entity';\nexports.ANALYTIC_TYPE = 'analytic';\nexports.TRACKING_METHOD_TYPE = 'trackingMethod';\nexports.INPUTS_TYPE = 'analyticInputs';\nexports.OUTPUTS_TYPE = 'analyticOutputs';\nexports.CONFIG_TYPE = 'analyticConfig';\nexports.CONTEXT_TO_ENTITY_RELATION = 'hasEntity';\nexports.ENTITY_TO_ANALYTIC_RELATION = 'hasAnalytics';\nexports.ANALYTIC_TO_INPUTS_RELATION = 'hasInputs';\nexports.ANALYTIC_TO_OUTPUTS_RELATION = 'hasOutputs';\nexports.ANALYTIC_TO_CONFIG_RELATION = 'hasConfig';\nexports.ANALYTIC_INPUTS_TO_FOLLOWED_ENTITY_RELATION = 'hasEntity';\nexports.ANALYTIC_INPUTS_TO_TRACKING_METHOD_RELATION = 'hasTrackingMethod';\nexports.GROUP_RELATION_PREFIX = 'groupHas';\nexports.TARGET_NODE_TYPES = Object.freeze({\n    Building: 'geographicBuilding',\n    Floor: 'geographicFloor',\n    Room: 'geographicRoom',\n    Equipment: 'BIMObject',\n    'Floor Group': 'geographicFloorGroup',\n    'Room Group': 'geographicRoomGroup',\n    'Equipment Group': 'BIMObjectGroup',\n    Other: undefined,\n});\n// *** Categories ***\nexports.CATEGORY_ATTRIBUTE_ALGORTHM_PARAMETERS = 'Algorithm parameters';\nexports.CATEGORY_ATTRIBUTE_TICKET_LOCALIZATION_PARAMETERS = 'Ticket localization parameters';\nexports.CATEGORY_ATTRIBUTE_RESULT_PARAMETERS = 'Result parameters';\nexports.CATEGORY_ATTRIBUTE_TRACKING_METHOD_PARAMETERS = 'Tracking parameters';\nexports.CATEGORY_ATTRIBUTE_TWILIO_PARAMETERS = 'Twilio parameters';\nexports.CATEGORY_ATTRIBUTE_GCHAT_PARAMETERS = 'Google chat parameters';\nexports.CATEGORY_ATTRIBUTE_TRIGGER_PARAMETERS = 'Trigger parameters';\nexports.CATEGORY_ATTRIBUTE_IO_DEPENDENCIES = 'IO dependencies';\nexports.CATEGORY_ATTRIBUTE_ANALYTIC_PARAMETERS = 'Analytic parameters';\nexports.CATEGORY_ATTRIBUTE_ALGORITHM_INDEX_MAPPING = 'Algorithm index mapping';\nexports.ATTRIBUTE_SEPARATOR = '_';\nexports.ATTRIBUTE_VALUE_SEPARATOR = ',';\nexports.ATTRIBUTE_TRACKING_METHOD = 'Tracking method';\nexports.ATTRIBUTE_FILTER_VALUE = 'Filter value';\nexports.ATTRIBUTE_TIMESERIES = 'Timeseries intervalTime';\nexports.ATTRIBUTE_SEARCH_DEPTH = 'Search depth';\nexports.ATTRIBUTE_STRICT_DEPTH = 'Strict depth';\nexports.ATTRIBUTE_SEARCH_RELATIONS = 'Search relations';\nexports.ATTRIBUTE_RESULT_TYPE = 'Result type';\nexports.ATTRIBUTE_RESULT_NAME = 'Result name';\nexports.ATTRIBUTE_PHONE_NUMBER = 'Phone number';\nexports.ATTRIBUTE_PHONE_MESSAGE = 'Phone message';\nexports.ATTRIBUTE_GCHAT_SPACE = 'Google chat space name/id';\nexports.ATTRIBUTE_GCHAT_MESSAGE = 'Google chat message';\nexports.ATTRIBUTE_TICKET_CONTEXT_ID = 'Ticket context id';\nexports.ATTRIBUTE_TICKET_PROCESS_ID = 'Ticket category id';\nexports.ATTRIBUTE_ALARM_PRIORITY = 'Alarm priority';\nexports.ATTRIBUTE_ANALYTIC_STATUS = 'Status';\nexports.ATTRIBUTE_ANALYTIC_DESCRIPTION = 'Description';\nexports.ATTRIBUTE_TRIGGER_AT_START = 'Trigger at start';\nexports.ENDPOINT_RELATIONS = [\n    'hasBmsEndpoint',\n    'hasBmsDevice',\n    'hasBmsEndpointGroup',\n    'hasEndPoint',\n];\nexports.CONTROL_ENDPOINT_RELATIONS = [\n    'hasControlPoints',\n    'hasBmsEndpoint',\n];\nexports.ENDPOINT_NODE_TYPE = 'BmsEndpoint';\n/**\n * The different types of results that an analytic can lead to.\n *\n * If you add a new type, you must also add it to the ANALYTIC_RESULT_TYPE enum in the spinal-model-analysis/src/constants.ts file\n *\n * A ticket result type will lead to a ticket being created (with the resultName as the title of the ticket or occurence  of already existing ticket incremented by 1)\n * This type of result works well with Change Of Value triggers since we usually want event based tickets\n *\n * A controlEndpoint result type will lead to a controlEndpoint being updated\n * (with the resultName as the name of the controlEndpoint and it has to be linked to the followed entity)\n *\n *\n */\nvar ANALYTIC_RESULT_TYPE;\n(function (ANALYTIC_RESULT_TYPE) {\n    ANALYTIC_RESULT_TYPE[\"TICKET\"] = \"ticket\";\n    ANALYTIC_RESULT_TYPE[\"CONTROL_ENDPOINT\"] = \"controlEndpoint\";\n    ANALYTIC_RESULT_TYPE[\"ENDPOINT\"] = \"endpoint\";\n    ANALYTIC_RESULT_TYPE[\"ALARM\"] = \"alarm\";\n    ANALYTIC_RESULT_TYPE[\"SMS\"] = \"sms\";\n    ANALYTIC_RESULT_TYPE[\"LOG\"] = \"log\";\n    ANALYTIC_RESULT_TYPE[\"GCHAT_MESSAGE\"] = \"gChatMessage\";\n    ANALYTIC_RESULT_TYPE[\"GCHAT_ORGAN_CARD\"] = \"gChatOrganCard\";\n    ANALYTIC_RESULT_TYPE[\"GCHAT_PLATFORM_CARD\"] = \"gChatPlatformCard\";\n})(ANALYTIC_RESULT_TYPE = exports.ANALYTIC_RESULT_TYPE || (exports.ANALYTIC_RESULT_TYPE = {}));\nvar TRACK_METHOD;\n(function (TRACK_METHOD) {\n    TRACK_METHOD[\"ENDPOINT_NAME_FILTER\"] = \"endpointFilter\";\n    TRACK_METHOD[\"CONTROL_ENDPOINT_NAME_FILTER\"] = \"controlEndpointFilter\";\n    TRACK_METHOD[\"ATTRIBUTE_NAME_FILTER\"] = \"attributeFilter\";\n})(TRACK_METHOD = exports.TRACK_METHOD || (exports.TRACK_METHOD = {}));\nvar TRIGGER_TYPE;\n(function (TRIGGER_TYPE) {\n    TRIGGER_TYPE[\"CHANGE_OF_VALUE\"] = \"changeOfValue\";\n    TRIGGER_TYPE[\"CHANGE_OF_VALUE_WITH_THRESHOLD\"] = \"changeOfValueWithThreshold\";\n    TRIGGER_TYPE[\"INTERVAL_TIME\"] = \"intervalTime\";\n    TRIGGER_TYPE[\"CRON\"] = \"cron\";\n})(TRIGGER_TYPE = exports.TRIGGER_TYPE || (exports.TRIGGER_TYPE = {}));\nvar ANALYTIC_STATUS;\n(function (ANALYTIC_STATUS) {\n    ANALYTIC_STATUS[\"ACTIVE\"] = \"Active\";\n    ANALYTIC_STATUS[\"INACTIVE\"] = \"Inactive\";\n})(ANALYTIC_STATUS = exports.ANALYTIC_STATUS || (exports.ANALYTIC_STATUS = {}));\nvar ENTITY_TYPES;\n(function (ENTITY_TYPES) {\n    ENTITY_TYPES[\"BUILDING\"] = \"geographicBuilding\";\n    ENTITY_TYPES[\"FLOOR\"] = \"geographicFloor\";\n    ENTITY_TYPES[\"ROOM\"] = \"geographicRoom\";\n    ENTITY_TYPES[\"EQUIPMENT\"] = \"BIMObject\";\n    ENTITY_TYPES[\"FLOOR_GROUP\"] = \"geographicFloorGroup\";\n    ENTITY_TYPES[\"ROOM_GROUP\"] = \"geographicRoomGroup\";\n    ENTITY_TYPES[\"EQUIPMENT_GROUP\"] = \"BIMObjectGroup\";\n    ENTITY_TYPES[\"ORGAN\"] = \"MonitoringServiceOrgan\";\n    ENTITY_TYPES[\"OTHER\"] = \"other\";\n})(ENTITY_TYPES = exports.ENTITY_TYPES || (exports.ENTITY_TYPES = {}));\n//# sourceMappingURL=constants.js.map","/*\n * Copyright 2022 SpinalCom - www.spinalcom.com\n *\n * This file is part of SpinalCore.\n *\n * Please read all of the following terms and conditions\n * of the Free Software license Agreement (\"Agreement\")\n * carefully.\n *\n * This Agreement is a legally binding contract between\n * the Licensee (as defined below) and SpinalCom that\n * sets forth the terms and conditions that govern your\n * use of the Program. By installing and/or using the\n * Program, you agree to abide by all the terms and\n * conditions stated or referenced herein.\n *\n * If you do not agree to abide by these terms and\n * conditions, do not demonstrate your acceptance and do\n * not install or use the Program.\n * You should have received a copy of the license along\n * with this file. If not, see\n * <http://resources.spinalcom.com/licenses.pdf>.\n */\n\nexport const CONTEXT_TYPE = 'analysisContext';\nexport const ENTITY_TYPE = 'entity';\nexport const ANALYTIC_TYPE = 'analytic';\nexport const TRACKING_METHOD_TYPE = 'trackingMethod';\nexport const INPUTS_TYPE = 'analyticInputs';\nexport const OUTPUTS_TYPE = 'analyticOutputs';\nexport const CONFIG_TYPE = 'analyticConfig';\n\nexport const CONTEXT_TO_ENTITY_RELATION = 'hasEntity';\nexport const ENTITY_TO_ANALYTIC_RELATION = 'hasAnalytics';\n\nexport const ANALYTIC_TO_INPUTS_RELATION = 'hasInputs';\nexport const ANALYTIC_TO_OUTPUTS_RELATION = 'hasOutputs';\nexport const ANALYTIC_TO_CONFIG_RELATION = 'hasConfig';\n\nexport const ANALYTIC_INPUTS_TO_FOLLOWED_ENTITY_RELATION = 'hasEntity';\nexport const ANALYTIC_INPUTS_TO_TRACKING_METHOD_RELATION = 'hasTrackingMethod';\n\nexport const GROUP_RELATION_PREFIX = 'groupHas';\n\nexport const TARGET_NODE_TYPES = Object.freeze({\n  Building: 'geographicBuilding',\n  Floor: 'geographicFloor',\n  Room: 'geographicRoom',\n  Equipment: 'BIMObject',\n  'Floor Group': 'geographicFloorGroup',\n  'Room Group': 'geographicRoomGroup',\n  'Equipment Group': 'BIMObjectGroup',\n  Other: undefined,\n});\n\n// *** Categories ***\nexport const CATEGORY_ATTRIBUTE_ALGORTHM_PARAMETERS = 'Algorithm parameters';\nexport const CATEGORY_ATTRIBUTE_TICKET_LOCALIZATION_PARAMETERS =\n  'Ticket localization parameters';\nexport const CATEGORY_ATTRIBUTE_RESULT_PARAMETERS = 'Result parameters';\nexport const CATEGORY_ATTRIBUTE_TRACKING_METHOD_PARAMETERS =\n  'Tracking parameters';\nexport const CATEGORY_ATTRIBUTE_TWILIO_PARAMETERS = 'Twilio parameters';\nexport const CATEGORY_ATTRIBUTE_GCHAT_PARAMETERS = 'Google chat parameters';\nexport const CATEGORY_ATTRIBUTE_TRIGGER_PARAMETERS = 'Trigger parameters';\nexport const CATEGORY_ATTRIBUTE_IO_DEPENDENCIES = 'IO dependencies';\nexport const CATEGORY_ATTRIBUTE_ANALYTIC_PARAMETERS = 'Analytic parameters';\nexport const CATEGORY_ATTRIBUTE_ALGORITHM_INDEX_MAPPING =\n  'Algorithm index mapping';\n\nexport const ATTRIBUTE_SEPARATOR = '_';\nexport const ATTRIBUTE_VALUE_SEPARATOR = ',';\n\nexport const ATTRIBUTE_TRACKING_METHOD = 'Tracking method';\nexport const ATTRIBUTE_FILTER_VALUE = 'Filter value';\nexport const ATTRIBUTE_TIMESERIES = 'Timeseries intervalTime';\nexport const ATTRIBUTE_SEARCH_DEPTH = 'Search depth';\nexport const ATTRIBUTE_STRICT_DEPTH = 'Strict depth';\nexport const ATTRIBUTE_SEARCH_RELATIONS = 'Search relations';\n\nexport const ATTRIBUTE_RESULT_TYPE = 'Result type';\nexport const ATTRIBUTE_RESULT_NAME = 'Result name';\nexport const ATTRIBUTE_PHONE_NUMBER = 'Phone number';\nexport const ATTRIBUTE_PHONE_MESSAGE = 'Phone message';\nexport const ATTRIBUTE_GCHAT_SPACE = 'Google chat space name/id';\nexport const ATTRIBUTE_GCHAT_MESSAGE = 'Google chat message';\nexport const ATTRIBUTE_TICKET_CONTEXT_ID = 'Ticket context id';\nexport const ATTRIBUTE_TICKET_PROCESS_ID = 'Ticket category id';\nexport const ATTRIBUTE_ALARM_PRIORITY = 'Alarm priority';\n\nexport const ATTRIBUTE_ANALYTIC_STATUS = 'Status';\nexport const ATTRIBUTE_ANALYTIC_DESCRIPTION = 'Description';\nexport const ATTRIBUTE_TRIGGER_AT_START = 'Trigger at start';\n\nexport const ENDPOINT_RELATIONS = [\n  'hasBmsEndpoint',\n  'hasBmsDevice',\n  'hasBmsEndpointGroup',\n  'hasEndPoint',\n];\nexport const CONTROL_ENDPOINT_RELATIONS = [\n  'hasControlPoints',\n  'hasBmsEndpoint',\n];\nexport const ENDPOINT_NODE_TYPE = 'BmsEndpoint';\n\n/**\n * The different types of results that an analytic can lead to.\n *\n * If you add a new type, you must also add it to the ANALYTIC_RESULT_TYPE enum in the spinal-model-analysis/src/constants.ts file\n *\n * A ticket result type will lead to a ticket being created (with the resultName as the title of the ticket or occurence  of already existing ticket incremented by 1)\n * This type of result works well with Change Of Value triggers since we usually want event based tickets\n *\n * A controlEndpoint result type will lead to a controlEndpoint being updated\n * (with the resultName as the name of the controlEndpoint and it has to be linked to the followed entity)\n *\n *\n */\nexport enum ANALYTIC_RESULT_TYPE {\n  TICKET = 'ticket',\n  CONTROL_ENDPOINT = 'controlEndpoint',\n  ENDPOINT = 'endpoint',\n  ALARM = 'alarm',\n  SMS = 'sms',\n  LOG = 'log',\n  GCHAT_MESSAGE = 'gChatMessage',\n  GCHAT_ORGAN_CARD = 'gChatOrganCard',\n  GCHAT_PLATFORM_CARD = 'gChatPlatformCard',\n}\n\nexport enum TRACK_METHOD {\n  ENDPOINT_NAME_FILTER = 'endpointFilter',\n  CONTROL_ENDPOINT_NAME_FILTER = 'controlEndpointFilter',\n  ATTRIBUTE_NAME_FILTER = 'attributeFilter',\n}\n\nexport enum TRIGGER_TYPE {\n  CHANGE_OF_VALUE = 'changeOfValue',\n  CHANGE_OF_VALUE_WITH_THRESHOLD = 'changeOfValueWithThreshold',\n  INTERVAL_TIME = 'intervalTime',\n  CRON = 'cron',\n}\n\nexport enum ANALYTIC_STATUS {\n  ACTIVE = 'Active',\n  INACTIVE = 'Inactive',\n}\n\nexport enum ENTITY_TYPES {\n  BUILDING = 'geographicBuilding',\n  FLOOR = 'geographicFloor',\n  ROOM = 'geographicRoom',\n  EQUIPMENT = 'BIMObject',\n  FLOOR_GROUP = 'geographicFloorGroup',\n  ROOM_GROUP = 'geographicRoomGroup',\n  EQUIPMENT_GROUP = 'BIMObjectGroup',\n  ORGAN = 'MonitoringServiceOrgan',\n  OTHER = 'other',\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ALGORITHMS = exports.SUBTRACT_BY = exports.SUBTRACT = exports.CURRENT_EPOCH_TIME = exports.CONV_NUMBER_TO_BOOLEAN = exports.CONV_BOOLEAN_TO_NUMBER = exports.IS_EMPTY = exports.EQUAL_TO = exports.STANDARD_DEVIATION = exports.INTEGRAL_BOOLEAN = exports.DIFFERENCE_THRESHOLD = exports.NOT = exports.OR = exports.AND = exports.TIMESERIES_AVERAGE = exports.AVERAGE = exports.THRESHOLD_ZSCORE = exports.THRESHOLD_BETWEEN_OUT = exports.THRESHOLD_BETWEEN_IN = exports.THRESHOLD_BELOW = exports.THRESHOLD_ABOVE = exports.DIVIDE_BY = exports.DIVIDE = exports.COPY = exports.PUTVALUE = void 0;\nclass Algorithm {\n    constructor(name, description, inputTypes, outputType, requiredParams, run) {\n        this.name = name;\n        this.inputTypes = inputTypes;\n        this.outputType = outputType;\n        this.description = description;\n        this.requiredParams = requiredParams;\n        this.run = run;\n    }\n}\nexports.PUTVALUE = new Algorithm('PUTVALUE', 'This algorithm returns the value set by the user (p1) if the input is true or if the input is empty. Otherwise, it throws an error.', ['number'], 'number', [{ name: 'p1', type: 'number', description: 'the value to inject' }], (input, params) => {\n    if (!params)\n        throw new Error('No parameters provided');\n    if (params['p1'] === undefined)\n        throw new Error('No value provided');\n    if (input[0] === true || input.length === 0)\n        return params['p1'];\n    else\n        throw new Error('PUTVALUE Input is false');\n});\nexports.COPY = new Algorithm('COPY', 'This algorithm returns the value of first input', ['number'], 'number', [], (input) => {\n    return input[0];\n});\nexports.DIVIDE = new Algorithm('DIVIDE', 'This algorithm returns the result of the division of the first input by the second input', ['number'], 'number', [], (input) => {\n    if (input.length < 2)\n        throw new Error('Not enough inputs');\n    if (input[1] === 0)\n        throw new Error('Division by zero');\n    return input[0] / input[1];\n});\nexports.DIVIDE_BY = new Algorithm('DIVIDE_BY', 'This algorithm returns the result of the division of the first input by the value set by the user (p1)', ['number'], 'number', [{ name: 'p1', type: 'number', description: 'the value to divide by' }], (input, params) => {\n    if (!params)\n        throw new Error('No parameters provided');\n    if (params['p1'] === 0)\n        throw new Error('Division by zero');\n    if (typeof params['p1'] !== 'number')\n        throw new Error(`Invalid parameter type. Expected number, got ${typeof params['p1']}`);\n    return input[0] / params['p1'];\n});\nexports.THRESHOLD_ABOVE = new Algorithm('THRESHOLD_ABOVE', 'This algorithm returns true if the input is above the threshold set by the user', ['number'], 'boolean', [{ name: 'p1', type: 'number', description: 'the threshold value' }], (input, params) => {\n    if (!params)\n        throw new Error('No parameters provided');\n    if (typeof params['p1'] !== 'number')\n        throw new Error(`Invalid parameter type. Expected number, got ${typeof params['p1']}`);\n    const treshold = params['p1'];\n    for (const n of input) {\n        if (n > treshold)\n            return true;\n    }\n    return false;\n});\nexports.THRESHOLD_BELOW = new Algorithm('THRESHOLD_BELOW', 'This algorithm returns true if the input is below the threshold set by the user', ['number'], 'boolean', [{ name: 'p1', type: 'number', description: 'the threshold value' }], (input, params) => {\n    if (!params)\n        throw new Error('No parameters provided');\n    if (typeof params['p1'] !== 'number')\n        throw new Error(`Invalid parameter type. Expected number, got ${typeof params['p1']}`);\n    const treshold = params['p1'];\n    for (const n of input) {\n        if (n < treshold)\n            return true;\n    }\n    return false;\n});\nexports.THRESHOLD_BETWEEN_IN = new Algorithm('THRESHOLD_BETWEEN_IN', 'This algorithm returns true if the input is between the two thresholds set by the user', ['number'], 'boolean', [\n    { name: 'p1', type: 'number', description: 'the first threshold value' },\n    { name: 'p2', type: 'number', description: 'the second threshold value' },\n], (input, params) => {\n    if (!params)\n        throw new Error('No parameters provided');\n    if (typeof params['p1'] !== 'number')\n        throw new Error(`Invalid p1 parameter type. Expected number, got ${typeof params['p1']}`);\n    if (typeof params['p2'] !== 'number')\n        throw new Error(`Invalid p2 parameter type. Expected number, got ${typeof params['p2']}`);\n    const p1 = params['p1'];\n    const p2 = params['p2'];\n    const min = Math.min(p1, p2);\n    const max = Math.max(p1, p2);\n    for (const n of input) {\n        if (n >= min && n <= max)\n            return true;\n    }\n    return false;\n});\nexports.THRESHOLD_BETWEEN_OUT = new Algorithm('THRESHOLD_BETWEEN_OUT', 'This algorithm returns true if the input is outside the two thresholds set by the user', ['number'], 'boolean', [\n    { name: 'p1', type: 'number', description: 'the first threshold value' },\n    { name: 'p2', type: 'number', description: 'the second threshold value' },\n], (input, params) => {\n    if (!params)\n        throw new Error('No parameters provided');\n    if (typeof params['p1'] !== 'number')\n        throw new Error(`Invalid p1 parameter type. Expected number, got ${typeof params['p1']}`);\n    if (typeof params['p2'] !== 'number')\n        throw new Error(`Invalid p2 parameter type. Expected number, got ${typeof params['p2']}`);\n    const p1 = params['p1'];\n    const p2 = params['p2'];\n    const min = Math.min(p1, p2);\n    const max = Math.max(p1, p2);\n    for (const n of input) {\n        if (n <= min || n >= max)\n            return true;\n    }\n    return false;\n});\nexports.THRESHOLD_ZSCORE = new Algorithm('THRESHOLD_ZSCORE', `This algorithm is used to detect anomalies in a timeseries. \n   The Z-score is a measure of how many standard deviations an element is from the mean.\n   It's calculated as Z = (X - mean) / stdDev \n   where X is the value, mean is the average of the timeserie and stdDev is the standard deviation of the timeserie.\n   The threshold is a number set by the user. If the Z-score of the last value of the timeserie is above the threshold,\n   the algorithm returns true, otherwise it returns false.`, ['Timeseries'], 'boolean', [{ name: 'p1', type: 'number', description: 'the threshold value' }], (input, params) => {\n    if (!params)\n        throw new Error('No parameters provided');\n    if (typeof params['p1'] !== 'number')\n        throw new Error(`Invalid p1 parameter type. Expected number, got ${typeof params['p1']}`);\n    const dataInput = input.reduce((acc, curr) => acc.concat(...curr), []);\n    if (dataInput.length === 0)\n        throw new Error('Timeseries is empty');\n    const threshold = params['p1'];\n    const mean = dataInput.reduce((acc, current) => acc + current.value, 0) / dataInput.length;\n    const variance = dataInput.reduce((acc, current) => acc + Math.pow(current.value - mean, 2), 0) / dataInput.length;\n    const stdDev = Math.sqrt(variance);\n    const zScore = (dataInput[dataInput.length - 1].value - mean) / stdDev;\n    return zScore > threshold;\n});\nexports.AVERAGE = new Algorithm('AVERAGE', 'This algorithm returns the average of the inputs', ['number'], 'number', [], (input) => {\n    return input.reduce((acc, current) => acc + current, 0) / input.length;\n});\nexports.TIMESERIES_AVERAGE = new Algorithm('TIMESERIES_AVERAGE', 'This algorithm returns the average of the timeseries', ['Timeseries'], 'number', [], (input) => {\n    const dataInput = input.reduce((acc, curr) => acc.concat(...curr), []);\n    if (dataInput.length === 0)\n        throw new Error('Timeseries is empty');\n    return dataInput.reduce((acc, current) => acc + current.value, 0) / dataInput.length;\n});\nexports.AND = new Algorithm('AND', 'This algorithm returns true if all the inputs are true', ['boolean'], 'boolean', [], (input) => {\n    return !input.includes(false);\n});\nexports.OR = new Algorithm('OR', 'This algorithm returns true if at least one of the inputs is true', ['boolean'], 'boolean', [], (input) => {\n    return input.includes(true);\n});\nexports.NOT = new Algorithm('NOT', 'This algorithm returns true if all the inputs are false', ['boolean'], 'boolean', [], (input) => {\n    return !input.includes(true);\n});\nexports.DIFFERENCE_THRESHOLD = new Algorithm('DIFFERENCE_THRESHOLD', 'This algorithm returns true if the difference between the first and any other input is above the threshold set by the user', ['number'], 'boolean', [{ name: 'p1', type: 'number', description: 'the threshold value' }], (input, params) => {\n    if (!params)\n        throw new Error('No parameters provided');\n    if (typeof params['p1'] !== 'number')\n        throw new Error(`Invalid p1 parameter type. Expected number, got ${typeof params['p1']}`);\n    const treshold = params['p1'];\n    const first = input[0];\n    for (const n of input) {\n        if (Math.abs(n - first) > treshold)\n            return true;\n    }\n    return false;\n});\nexports.INTEGRAL_BOOLEAN = new Algorithm('INTEGRAL_BOOLEAN', 'This algorithm calculates the integral of timeseries.', ['Timeseries'], 'number', [\n    {\n        name: 'p1',\n        type: 'number',\n        description: 'intervalTime, please copy paste the timeseries interval time',\n    },\n    {\n        name: 'p2',\n        type: 'string',\n        description: 'Ratio || Percentage   (write one of the two, Ratio will be used by default)',\n    },\n], (input, params) => {\n    if (!params)\n        throw new Error('No parameters provided');\n    if (typeof params['p1'] !== 'number')\n        throw new Error(`Invalid p1 parameter type. Expected number, got ${typeof params['p1']}`);\n    if (typeof params['p2'] !== 'string')\n        throw new Error(`Invalid p2 parameter type. Expected string, got ${typeof params['p2']}`);\n    const percentageResult = params['p2'] === 'Percentage';\n    const dataInput = input.reduce((acc, curr) => acc.concat(...curr), []);\n    if (dataInput.length === 0)\n        throw new Error('Timeseries is empty');\n    const invertBool = (bool) => (bool ? 0 : 1);\n    dataInput.unshift({\n        date: dataInput[dataInput.length - 1].date - params['p1'],\n        value: invertBool(dataInput[0].value),\n    });\n    // Ensure input is sorted by time\n    dataInput.sort((a, b) => a.date - b.date);\n    let integral = 0;\n    for (let i = 1; i < dataInput.length; i++) {\n        // Calculate the difference in time\n        const deltaTime = dataInput[i].date - dataInput[i - 1].date;\n        // Calculate the average value between two points\n        const avgValue = (dataInput[i].value + dataInput[i - 1].value) / 2;\n        // Add the area of the trapezoid to the total integral\n        integral += avgValue * deltaTime;\n    }\n    if (!percentageResult)\n        return (integral / (dataInput[dataInput.length - 1].date - dataInput[0].date));\n    else\n        return ((integral /\n            (dataInput[dataInput.length - 1].date - dataInput[0].date)) *\n            100);\n});\nexports.STANDARD_DEVIATION = new Algorithm('STANDARD_DEVIATION', 'This algorithm returns the standard deviation of the inputs', ['number'], 'number', [], (input) => {\n    const n = input.length;\n    const mean = input.reduce((a, b) => a + b) / n;\n    return Math.sqrt(input.map((x) => Math.pow(x - mean, 2)).reduce((a, b) => a + b) / n);\n});\nexports.EQUAL_TO = new Algorithm('EQUAL_TO', 'This algorithm returns true if all inputs are equal to the parameter', ['number', 'string', 'boolean'], 'boolean', [{ name: 'p1', type: 'number', description: 'the value to compare to' }], (input, params) => {\n    if (!params)\n        throw new Error('No parameters provided');\n    for (const i of input) {\n        if (i !== params['p1'])\n            return false;\n    }\n    return true;\n});\nexports.IS_EMPTY = new Algorithm('IS_EMPTY', 'This algorithm returns true if the input is an empty list', ['number', 'string', 'boolean'], 'boolean', [], (input) => {\n    return input.length === 0;\n});\nexports.CONV_BOOLEAN_TO_NUMBER = new Algorithm('CONV_BOOLEAN_TO_NUMBER', 'This algorithm converts a boolean to a number. True becomes 1, false becomes 0', ['boolean'], 'number', [], (input) => {\n    return input[0] ? 1 : 0;\n});\nexports.CONV_NUMBER_TO_BOOLEAN = new Algorithm('CONV_NUMBER_TO_BOOLEAN', 'This algorithm converts a number to a boolean (0 is false, everything else is true)', ['number'], 'boolean', [], (input) => {\n    return input[0] !== 0;\n});\nexports.CURRENT_EPOCH_TIME = new Algorithm('CURRENT_EPOCH_TIME', 'This algorithm returns the current epoch time', [], 'number', [], \n// eslint-disable-next-line @typescript-eslint/no-unused-vars\n(input) => {\n    return Date.now();\n});\nexports.SUBTRACT = new Algorithm('SUBTRACT', 'This algorithm returns the result of the subtraction of the first input by the second input', ['number'], 'number', [], (input) => {\n    return input[0] - input[1];\n});\nexports.SUBTRACT_BY = new Algorithm('SUBTRACT_BY', 'This algorithm returns the result of the subtraction of the first input by the value set by the user (p1)', ['number'], 'number', [{ name: 'p1', type: 'number', description: 'the value to subtract by' }], (input, params) => {\n    if (!params)\n        throw new Error('No parameters provided');\n    if (typeof params['p1'] !== 'number')\n        throw new Error(`Invalid p1 parameter type. Expected number, got ${typeof params['p1']}`);\n    return input[0] - params['p1'];\n});\nexports.ALGORITHMS = {\n    PUTVALUE: exports.PUTVALUE,\n    COPY: exports.COPY,\n    DIVIDE: exports.DIVIDE,\n    DIVIDE_BY: exports.DIVIDE_BY,\n    THRESHOLD_ABOVE: exports.THRESHOLD_ABOVE,\n    THRESHOLD_BELOW: exports.THRESHOLD_BELOW,\n    THRESHOLD_BETWEEN_IN: exports.THRESHOLD_BETWEEN_IN,\n    THRESHOLD_BETWEEN_OUT: exports.THRESHOLD_BETWEEN_OUT,\n    THRESHOLD_ZSCORE: exports.THRESHOLD_ZSCORE,\n    AVERAGE: exports.AVERAGE,\n    TIMESERIES_AVERAGE: exports.TIMESERIES_AVERAGE,\n    AND: exports.AND,\n    OR: exports.OR,\n    NOT: exports.NOT,\n    DIFFERENCE_THRESHOLD: exports.DIFFERENCE_THRESHOLD,\n    INTEGRAL_BOOLEAN: exports.INTEGRAL_BOOLEAN,\n    STANDARD_DEVIATION: exports.STANDARD_DEVIATION,\n    EQUAL_TO: exports.EQUAL_TO,\n    IS_EMPTY: exports.IS_EMPTY,\n    CONV_BOOLEAN_TO_NUMBER: exports.CONV_BOOLEAN_TO_NUMBER,\n    CONV_NUMBER_TO_BOOLEAN: exports.CONV_NUMBER_TO_BOOLEAN,\n    CURRENT_EPOCH_TIME: exports.CURRENT_EPOCH_TIME,\n    SUBTRACT: exports.SUBTRACT,\n    SUBTRACT_BY: exports.SUBTRACT_BY,\n};\n//# sourceMappingURL=algorithms.js.map","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { IAlgorithm } from '../interfaces/IAlgorithm';\nimport { IRequiredParameter } from '../interfaces/IRequiredParameter';\nimport { SpinalDateValue } from 'spinal-model-timeseries';\n\ninterface IParameters {\n  [key: string]: string | number | boolean;\n}\n\ntype PrivimitiveInput = number | string | boolean;\ntype IInput = PrivimitiveInput | SpinalDateValue[];\n\nclass Algorithm implements IAlgorithm {\n  name: string;\n  inputTypes: string[];\n  outputType: string;\n  description: string;\n  requiredParams: IRequiredParameter[] | 'boolean' | 'number' | 'string';\n  run: (input: IInput, params?: IParameters) => string | number | boolean;\n\n  constructor(\n    name: string,\n    description: string,\n    inputTypes: string[],\n    outputType: string,\n    requiredParams: IRequiredParameter[] | 'boolean' | 'number' | 'string',\n    run: (input: any | any[], params?: IParameters) => string | number | boolean\n  ) {\n    this.name = name;\n    this.inputTypes = inputTypes;\n    this.outputType = outputType;\n    this.description = description;\n    this.requiredParams = requiredParams;\n    this.run = run;\n  }\n}\n\nexport const PUTVALUE = new Algorithm(\n  'PUTVALUE',\n  'This algorithm returns the value set by the user (p1) if the input is true or if the input is empty. Otherwise, it throws an error.',\n  ['number'],\n  'number',\n  [{ name: 'p1', type: 'number', description: 'the value to inject' }],\n  (\n    input: boolean[],\n    params: IParameters | undefined\n  ): string | number | boolean => {\n    if (!params) throw new Error('No parameters provided');\n    if(params['p1'] === undefined) throw new Error('No value provided');\n    if(input[0] === true || input.length === 0) return params['p1'];\n    else throw new Error('PUTVALUE Input is false');\n  }\n);\n\nexport const COPY = new Algorithm(\n  'COPY',\n  'This algorithm returns the value of first input',\n  ['number'],\n  'number',\n  [],\n  (input: IInput[]): any => {\n    return input[0];\n  }\n);\n\nexport const DIVIDE = new Algorithm(\n  'DIVIDE',\n  'This algorithm returns the result of the division of the first input by the second input',\n  ['number'],\n  'number',\n  [],\n  (input: number[]): number => {\n    if (input.length < 2) throw new Error('Not enough inputs');\n    if (input[1] === 0) throw new Error('Division by zero');\n    return input[0] / input[1];\n  }\n);\n\nexport const DIVIDE_BY = new Algorithm(\n  'DIVIDE_BY',\n  'This algorithm returns the result of the division of the first input by the value set by the user (p1)',\n  ['number'],\n  'number',\n  [{ name: 'p1', type: 'number', description: 'the value to divide by' }],\n  (input: number[], params: IParameters | undefined): number => {\n    if (!params) throw new Error('No parameters provided');\n    if (params['p1'] === 0) throw new Error('Division by zero');\n    if (typeof params['p1'] !== 'number')\n      throw new Error(\n        `Invalid parameter type. Expected number, got ${typeof params['p1']}`\n      );\n    return input[0] / params['p1'];\n  }\n);\n\nexport const THRESHOLD_ABOVE = new Algorithm(\n  'THRESHOLD_ABOVE',\n  'This algorithm returns true if the input is above the threshold set by the user',\n  ['number'],\n  'boolean',\n  [{ name: 'p1', type: 'number', description: 'the threshold value' }],\n  (input: number[], params: IParameters | undefined): boolean => {\n    if (!params) throw new Error('No parameters provided');\n    if (typeof params['p1'] !== 'number')\n      throw new Error(\n        `Invalid parameter type. Expected number, got ${typeof params['p1']}`\n      );\n    const treshold = params['p1'];\n    for (const n of input) {\n      if (n > treshold) return true;\n    }\n    return false;\n  }\n);\n\nexport const THRESHOLD_BELOW = new Algorithm(\n  'THRESHOLD_BELOW',\n  'This algorithm returns true if the input is below the threshold set by the user',\n  ['number'],\n  'boolean',\n  [{ name: 'p1', type: 'number', description: 'the threshold value' }],\n  (input: number[], params: IParameters | undefined): boolean => {\n    if (!params) throw new Error('No parameters provided');\n    if (typeof params['p1'] !== 'number')\n      throw new Error(\n        `Invalid parameter type. Expected number, got ${typeof params['p1']}`\n      );\n    const treshold = params['p1'];\n    for (const n of input) {\n      if (n < treshold) return true;\n    }\n    return false;\n  }\n);\n\nexport const THRESHOLD_BETWEEN_IN = new Algorithm(\n  'THRESHOLD_BETWEEN_IN',\n  'This algorithm returns true if the input is between the two thresholds set by the user',\n  ['number'],\n  'boolean',\n  [\n    { name: 'p1', type: 'number', description: 'the first threshold value' },\n    { name: 'p2', type: 'number', description: 'the second threshold value' },\n  ],\n  (input: number[], params: IParameters | undefined): boolean => {\n    if (!params) throw new Error('No parameters provided');\n    if (typeof params['p1'] !== 'number')\n      throw new Error(\n        `Invalid p1 parameter type. Expected number, got ${typeof params['p1']}`\n      );\n    if (typeof params['p2'] !== 'number')\n      throw new Error(\n        `Invalid p2 parameter type. Expected number, got ${typeof params['p2']}`\n      );\n    const p1 = params['p1'];\n    const p2 = params['p2'];\n    const min = Math.min(p1, p2);\n    const max = Math.max(p1, p2);\n    for (const n of input) {\n      if (n >= min && n <= max) return true;\n    }\n    return false;\n  }\n);\n\nexport const THRESHOLD_BETWEEN_OUT = new Algorithm(\n  'THRESHOLD_BETWEEN_OUT',\n  'This algorithm returns true if the input is outside the two thresholds set by the user',\n  ['number'],\n  'boolean',\n  [\n    { name: 'p1', type: 'number', description: 'the first threshold value' },\n    { name: 'p2', type: 'number', description: 'the second threshold value' },\n  ],\n  (input: number[], params: IParameters | undefined): boolean => {\n    if (!params) throw new Error('No parameters provided');\n    if (typeof params['p1'] !== 'number')\n      throw new Error(\n        `Invalid p1 parameter type. Expected number, got ${typeof params['p1']}`\n      );\n    if (typeof params['p2'] !== 'number')\n      throw new Error(\n        `Invalid p2 parameter type. Expected number, got ${typeof params['p2']}`\n      );\n    const p1 = params['p1'];\n    const p2 = params['p2'];\n    const min = Math.min(p1, p2);\n    const max = Math.max(p1, p2);\n    for (const n of input) {\n      if (n <= min || n >= max) return true;\n    }\n    return false;\n  }\n);\n\nexport const THRESHOLD_ZSCORE = new Algorithm(\n  'THRESHOLD_ZSCORE',\n  `This algorithm is used to detect anomalies in a timeseries. \n   The Z-score is a measure of how many standard deviations an element is from the mean.\n   It's calculated as Z = (X - mean) / stdDev \n   where X is the value, mean is the average of the timeserie and stdDev is the standard deviation of the timeserie.\n   The threshold is a number set by the user. If the Z-score of the last value of the timeserie is above the threshold,\n   the algorithm returns true, otherwise it returns false.`,\n  ['Timeseries'],\n  'boolean',\n  [{ name: 'p1', type: 'number', description: 'the threshold value' }],\n  (input: SpinalDateValue[][], params: IParameters | undefined): boolean => {\n    if (!params) throw new Error('No parameters provided');\n    if (typeof params['p1'] !== 'number')\n      throw new Error(\n        `Invalid p1 parameter type. Expected number, got ${typeof params['p1']}`\n      );\n    const dataInput = input.reduce((acc, curr) => acc.concat(...curr), []);\n    if(dataInput.length === 0) throw new Error('Timeseries is empty');\n    const threshold = params['p1'];\n    const mean =\n    dataInput.reduce((acc, current) => acc + current.value, 0) / dataInput.length;\n    const variance =\n    dataInput.reduce(\n        (acc, current) => acc + Math.pow(current.value - mean, 2),\n        0\n      ) / dataInput.length;\n    const stdDev = Math.sqrt(variance);\n    const zScore = (dataInput[dataInput.length - 1].value - mean) / stdDev;\n    return zScore > threshold;\n  }\n);\n\n\nexport const AVERAGE = new Algorithm(\n  'AVERAGE',\n  'This algorithm returns the average of the inputs',\n  ['number'],\n  'number',\n  [],\n  (input: number[]): number => {\n    return input.reduce((acc, current) => acc + current, 0) / input.length;\n  }\n);\n\nexport const TIMESERIES_AVERAGE = new Algorithm(\n  'TIMESERIES_AVERAGE',\n  'This algorithm returns the average of the timeseries',\n  ['Timeseries'],\n  'number',\n  [],\n  (input: SpinalDateValue[][]): number => {\n    const dataInput = input.reduce((acc, curr) => acc.concat(...curr), []);\n    if(dataInput.length === 0) throw new Error('Timeseries is empty');\n    return dataInput.reduce((acc, current) => acc + current.value, 0) / dataInput.length;\n  }\n);\n\nexport const AND = new Algorithm(\n  'AND',\n  'This algorithm returns true if all the inputs are true',\n  ['boolean'],\n  'boolean',\n  [],\n  (input: boolean[]): boolean => {\n    return !input.includes(false);\n  }\n);\n\nexport const OR = new Algorithm(\n  'OR',\n  'This algorithm returns true if at least one of the inputs is true',\n  ['boolean'],\n  'boolean',\n  [],\n  (input: boolean[]): boolean => {\n    return input.includes(true);\n  }\n);\n\nexport const NOT = new Algorithm(\n  'NOT',\n  'This algorithm returns true if all the inputs are false',\n  ['boolean'],\n  'boolean',\n  [],\n  (input: boolean[]): boolean => {\n    return !input.includes(true);\n  }\n);\n\nexport const DIFFERENCE_THRESHOLD = new Algorithm(\n  'DIFFERENCE_THRESHOLD',\n  'This algorithm returns true if the difference between the first and any other input is above the threshold set by the user',\n  ['number'],\n  'boolean',\n  [{ name: 'p1', type: 'number', description: 'the threshold value' }],\n  (input: number[], params: IParameters | undefined): boolean => {\n    if (!params) throw new Error('No parameters provided');\n    if (typeof params['p1'] !== 'number')\n      throw new Error(\n        `Invalid p1 parameter type. Expected number, got ${typeof params['p1']}`\n      );\n    const treshold = params['p1'];\n    const first = input[0];\n    for (const n of input) {\n      if (Math.abs(n - first) > treshold) return true;\n    }\n    return false;\n  }\n);\n\nexport const INTEGRAL_BOOLEAN = new Algorithm(\n  'INTEGRAL_BOOLEAN',\n  'This algorithm calculates the integral of timeseries.',\n  ['Timeseries'],\n  'number',\n  [\n    {\n      name: 'p1',\n      type: 'number',\n      description:\n        'intervalTime, please copy paste the timeseries interval time',\n    },\n    {\n      name: 'p2',\n      type: 'string',\n      description:\n        'Ratio || Percentage   (write one of the two, Ratio will be used by default)',\n    },\n  ],\n  (input: SpinalDateValue[][], params: IParameters | undefined): number => {\n    if (!params) throw new Error('No parameters provided');\n    if (typeof params['p1'] !== 'number')\n      throw new Error(\n        `Invalid p1 parameter type. Expected number, got ${typeof params['p1']}`\n      );\n    if (typeof params['p2'] !== 'string')\n      throw new Error(\n        `Invalid p2 parameter type. Expected string, got ${typeof params['p2']}`\n      );\n    const percentageResult = params['p2'] === 'Percentage';\n    const dataInput = input.reduce((acc, curr) => acc.concat(...curr), []);\n    if(dataInput.length === 0) throw new Error('Timeseries is empty');\n    const invertBool = (bool) => (bool ? 0 : 1);\n    dataInput.unshift({\n      date: dataInput[dataInput.length - 1].date - params['p1'],\n      value: invertBool(dataInput[0].value),\n    });\n    // Ensure input is sorted by time\n    dataInput.sort((a, b) => a.date - b.date);\n\n    let integral = 0;\n\n    for (let i = 1; i < dataInput.length; i++) {\n      // Calculate the difference in time\n      const deltaTime = dataInput[i].date - dataInput[i - 1].date;\n\n      // Calculate the average value between two points\n      const avgValue = (dataInput[i].value + dataInput[i - 1].value) / 2;\n\n      // Add the area of the trapezoid to the total integral\n      integral += avgValue * deltaTime;\n    }\n\n    if (!percentageResult)\n      return (\n        integral / (dataInput[dataInput.length - 1].date - dataInput[0].date)\n      );\n    else\n      return (\n        (integral /\n          (dataInput[dataInput.length - 1].date - dataInput[0].date)) *\n        100\n      );\n  }\n);\n\nexport const STANDARD_DEVIATION = new Algorithm(\n  'STANDARD_DEVIATION',\n  'This algorithm returns the standard deviation of the inputs',\n  ['number'],\n  'number',\n  [],\n  (input: number[]): number => {\n    const n = input.length;\n    const mean = input.reduce((a, b) => a + b) / n;\n    return Math.sqrt(\n      input.map((x) => Math.pow(x - mean, 2)).reduce((a, b) => a + b) / n\n    );\n  }\n);\n\nexport const EQUAL_TO = new Algorithm(\n  'EQUAL_TO',\n  'This algorithm returns true if all inputs are equal to the parameter',\n  ['number', 'string', 'boolean'],\n  'boolean',\n  [{ name: 'p1', type: 'number', description: 'the value to compare to' }],\n  (input: PrivimitiveInput[], params: IParameters | undefined): boolean => {\n    if (!params) throw new Error('No parameters provided');\n    for (const i of input) {\n      if (i !== params['p1']) return false;\n    }\n    return true;\n  }\n);\n\nexport const IS_EMPTY = new Algorithm(\n  'IS_EMPTY',\n  'This algorithm returns true if the input is an empty list',\n  ['number', 'string', 'boolean'],\n  'boolean',\n  [],\n  (input: IInput[]): boolean => {\n    return input.length === 0;\n  }\n);\n\nexport const CONV_BOOLEAN_TO_NUMBER = new Algorithm(\n  'CONV_BOOLEAN_TO_NUMBER',\n  'This algorithm converts a boolean to a number. True becomes 1, false becomes 0',\n  ['boolean'],\n  'number',\n  [],\n  (input: boolean[]): number => {\n    return input[0] ? 1 : 0;\n  }\n);\n\nexport const CONV_NUMBER_TO_BOOLEAN = new Algorithm(\n  'CONV_NUMBER_TO_BOOLEAN',\n  'This algorithm converts a number to a boolean (0 is false, everything else is true)',\n  ['number'],\n  'boolean',\n  [],\n  (input: number[]): boolean => {\n    return input[0] !== 0;\n  }\n);\n\nexport const CURRENT_EPOCH_TIME = new Algorithm(\n  'CURRENT_EPOCH_TIME',\n  'This algorithm returns the current epoch time',\n  [],\n  'number',\n  [],\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  (input: IInput[]): number => {\n    return Date.now();\n  }\n);\n\nexport const SUBTRACT = new Algorithm(\n  'SUBTRACT',\n  'This algorithm returns the result of the subtraction of the first input by the second input',\n  ['number'],\n  'number',\n  [],\n  (input: number[]): number => {\n    return input[0] - input[1];\n  }\n);\n\nexport const SUBTRACT_BY = new Algorithm(\n  'SUBTRACT_BY',\n  'This algorithm returns the result of the subtraction of the first input by the value set by the user (p1)',\n  ['number'],\n  'number',\n  [{ name: 'p1', type: 'number', description: 'the value to subtract by' }],\n  (input: number[], params: IParameters | undefined): number => {\n    if (!params) throw new Error('No parameters provided');\n    if (typeof params['p1'] !== 'number')\n      throw new Error(\n        `Invalid p1 parameter type. Expected number, got ${typeof params['p1']}`\n      );\n    return input[0] - params['p1'];\n  }\n);\n\nexport const ALGORITHMS: { [key: string]: Algorithm } = {\n  PUTVALUE,\n  COPY,\n  DIVIDE,\n  DIVIDE_BY,\n  THRESHOLD_ABOVE,\n  THRESHOLD_BELOW,\n  THRESHOLD_BETWEEN_IN,\n  THRESHOLD_BETWEEN_OUT,\n  THRESHOLD_ZSCORE,\n  AVERAGE,\n  TIMESERIES_AVERAGE,\n  AND,\n  OR,\n  NOT,\n  DIFFERENCE_THRESHOLD,\n  INTEGRAL_BOOLEAN,\n  STANDARD_DEVIATION,\n  EQUAL_TO,\n  IS_EMPTY,\n  CONV_BOOLEAN_TO_NUMBER,\n  CONV_NUMBER_TO_BOOLEAN,\n  CURRENT_EPOCH_TIME,\n  SUBTRACT,\n  SUBTRACT_BY,\n};\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AnalyticService = void 0;\n/* eslint-disable @typescript-eslint/no-explicit-any */\nconst spinal_env_viewer_graph_service_1 = require(\"spinal-env-viewer-graph-service\");\nconst CONSTANTS = require(\"../constants\");\nconst ConfigModel_1 = require(\"../models/ConfigModel\");\nconst AnalyticModel_1 = require(\"../models/AnalyticModel\");\nconst EntityModel_1 = require(\"../models/EntityModel\");\nconst TrackingMethodModel_1 = require(\"../models/TrackingMethodModel\");\nconst InputsModel_1 = require(\"../models/InputsModel\");\nconst OutputsModel_1 = require(\"../models/OutputsModel\");\nconst spinal_env_viewer_plugin_documentation_service_1 = require(\"spinal-env-viewer-plugin-documentation-service\");\nconst utils_1 = require(\"./utils\");\nconst SingletonTimeSeries_1 = require(\"./SingletonTimeSeries\");\nconst algorithms_1 = require(\"../algorithms/algorithms\");\nconst axios_1 = require(\"axios\");\nconst qs_1 = require(\"qs\");\n/**\n * This class handles most of the logic for analytics. It provides methods for creating and retrieving analytics, entities, and contexts.\n * It also provides methods for applying tracking methods to followed entities and applying algorithms to inputs.\n *\n * @export\n * @class AnalyticService\n */\nclass AnalyticService {\n    //private googleChatService: GoogleChatService;\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    constructor() {\n        /**\n         * The singleton instance of the Timeseries service.\n         *\n         * @private\n         * @type {SpinalServiceTimeseries}\n         * @memberof AnalyticService\n         */\n        this.spinalServiceTimeseries = SingletonTimeSeries_1.SingletonServiceTimeseries.getInstance();\n    }\n    /**\n     * Initialize private attributes with necessary information to use the the messaging service.\n     *\n     * @param {string} accountSid\n     * @param {string} authToken\n     * @param {string} fromNumber\n     * @return {*}  {void}\n     * @memberof AnalyticService\n     */\n    initTwilioCredentials(accountSid, authToken, fromNumber) {\n        if (!accountSid || !authToken || !fromNumber) {\n            console.error('Twilio credentials not set, Messaging services will not work');\n            return;\n        }\n        console.log('Init connection to messaging services...');\n        this.twilioFromNumber = fromNumber;\n        this.twilioAccountSid = accountSid;\n        this.twilioAuthToken = authToken;\n        console.log('Done.');\n    }\n    /**\n     * This method creates a new context and returns the info of the newly created context.\n     * If the context already exists (same name), it just returns the info of that context instead of creating a new one.\n     * @param {string} contextName\n     * @return {*}  {Promise<SpinalNodeRef>}\n     * @memberof AnalyticService\n     */\n    createContext(contextName) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const alreadyExists = this.getContext(contextName);\n            if (alreadyExists) {\n                console.error(`Context ${contextName} already exists`);\n                return alreadyExists;\n            }\n            return spinal_env_viewer_graph_service_1.SpinalGraphService.addContext(contextName, CONSTANTS.CONTEXT_TYPE, undefined).then((context) => {\n                const contextId = context.getId().get();\n                return spinal_env_viewer_graph_service_1.SpinalGraphService.getInfo(contextId);\n            });\n        });\n    }\n    /**\n     * Retrieves and returns all contexts\n     * handled by this service (type analysisContext)\n     * @return {*}  {(SpinalNodeRef[] | undefined)}\n     * @memberof AnalyticService\n     */\n    getContexts() {\n        const contexts = spinal_env_viewer_graph_service_1.SpinalGraphService.getContextWithType(CONSTANTS.CONTEXT_TYPE);\n        const argContexts = contexts.map((el) => spinal_env_viewer_graph_service_1.SpinalGraphService.getInfo(el.info.id.get()));\n        return argContexts;\n    }\n    /**\n     * This method use the context name to find and return the info of that context. If the context does not exist, it returns undefined.\n     * If multiple contexts have the same name, it returns the first one.\n     * @param {string} contextName\n     * @return {*}  {(SpinalNodeRef | undefined)}\n     * @memberof AnalyticService\n     */\n    getContext(contextName) {\n        const contexts = this.getContexts();\n        if (!contexts)\n            return undefined;\n        return contexts.find((context) => context.name.get() === contextName);\n    }\n    getContextIdOfAnalytic(analyticId) {\n        const contexts = this.getContexts();\n        if (!contexts)\n            return undefined;\n        const analyticNode = spinal_env_viewer_graph_service_1.SpinalGraphService.getRealNode(analyticId);\n        const contextId = analyticNode.getContextIds()[0];\n        return contextId;\n    }\n    ////////////////////////////////////////////////////\n    /////////////////// ENTITY /////////////////////////\n    ////////////////////////////////////////////////////\n    /**\n     * This method creates a new entity and returns the info of the newly created entity.\n     *\n     * @param {IEntity} entityInfo\n     * @param {string} contextId\n     * @return {*}  {Promise<SpinalNodeRef>}\n     * @memberof AnalyticService\n     */\n    addEntity(entityInfo, contextId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            entityInfo.type = CONSTANTS.ENTITY_TYPE;\n            const entityModel = new EntityModel_1.EntityModel(entityInfo);\n            const entityNodeId = spinal_env_viewer_graph_service_1.SpinalGraphService.createNode(entityInfo, entityModel);\n            yield spinal_env_viewer_graph_service_1.SpinalGraphService.addChildInContext(contextId, entityNodeId, contextId, CONSTANTS.CONTEXT_TO_ENTITY_RELATION, spinal_env_viewer_graph_service_1.SPINAL_RELATION_PTR_LST_TYPE);\n            return spinal_env_viewer_graph_service_1.SpinalGraphService.getInfo(entityNodeId);\n        });\n    }\n    /**\n     * Returns all the entities withing a context that have the specified type.\n     *\n     * @param {SpinalContext<any>} context\n     * @param {string} targetType\n     * @return {*}  {(Promise<SpinalNode<any> | undefined>)}\n     * @memberof AnalyticService\n     */\n    findEntityByTargetType(context, targetType) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const entities = yield context.getChildren(CONSTANTS.CONTEXT_TO_ENTITY_RELATION);\n            const result = entities.find((e) => e.info.entityType.get() == targetType);\n            spinal_env_viewer_graph_service_1.SpinalGraphService._addNode(result);\n            return result;\n        });\n    }\n    /**\n     * Retrieves a SpinalNodeRef for the specified entity within the specified context.\n     * @async\n     * @param {string} contextName - The name of the context to search within.\n     * @param {string} entityName - The name of the entity to retrieve.\n     * @returns {Promise<SpinalNodeRef|undefined>} A Promise that resolves to the SpinalNodeRef for the entity, or undefined if the context or entity cannot be found.\n     * @memberof AnalyticService\n     */\n    getEntity(contextName, entityName) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const context = this.getContext(contextName);\n            if (!context)\n                return undefined;\n            const contextNode = spinal_env_viewer_graph_service_1.SpinalGraphService.getRealNode(context.id.get());\n            const entities = yield contextNode.getChildren(CONSTANTS.CONTEXT_TO_ENTITY_RELATION);\n            const entitiesModels = entities.map((el) => spinal_env_viewer_graph_service_1.SpinalGraphService.getInfo(el.info.id.get()));\n            return entitiesModels.find((entity) => entity.name.get() === entityName);\n        });\n    }\n    /**\n     * Retrieves the parent entity of the specified analytic.\n     * @async\n     * @param {string} analyticId - The ID of the analytic for which to retrieve the parent entity.\n     * @returns {Promise<SpinalNodeRef|undefined>} A Promise that resolves to the parent entity, or undefined if the parent entity cannot be found.\n     * @memberof AnalyticService\n     */\n    getEntityFromAnalytic(analyticId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const nodes = yield spinal_env_viewer_graph_service_1.SpinalGraphService.getParents(analyticId, [\n                CONSTANTS.ENTITY_TO_ANALYTIC_RELATION,\n            ]);\n            if (nodes.length != 0) {\n                return nodes[0];\n            }\n            return undefined;\n        });\n    }\n    ////////////////////////////////////////////////////\n    //////////////// Analytic //////////////////////////\n    ////////////////////////////////////////////////////\n    /**\n     * Adds a new analytic to the specified entity within the specified context.\n     * @async\n     * @param {IAnalytic} analyticInfo - The information for the new analytic to add.\n     * @param {string} contextId - The ID of the context in which to add the analytic.\n     * @param {string} entityId - The ID of the entity to which to add the analytic.\n     * @returns {Promise<SpinalNodeRef>} A Promise that resolves to the newly created analytic info.\n     * @memberof AnalyticService\n     */\n    addAnalytic(analyticInfo, contextId, entityId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            analyticInfo.type = CONSTANTS.ANALYTIC_TYPE;\n            const analyticModel = new AnalyticModel_1.AnalyticModel(analyticInfo);\n            const analyticNodeId = spinal_env_viewer_graph_service_1.SpinalGraphService.createNode(analyticInfo, analyticModel);\n            yield spinal_env_viewer_graph_service_1.SpinalGraphService.addChildInContext(entityId, analyticNodeId, contextId, CONSTANTS.ENTITY_TO_ANALYTIC_RELATION, spinal_env_viewer_graph_service_1.SPINAL_RELATION_PTR_LST_TYPE);\n            yield this.addInputsNode(analyticNodeId, contextId);\n            yield this.addOutputsNode(analyticNodeId, contextId);\n            return spinal_env_viewer_graph_service_1.SpinalGraphService.getInfo(analyticNodeId);\n        });\n    }\n    /**\n     * Retrieves all analytics within the specified context.\n     * @async\n     * @param {string} contextId - The ID of the context in which to retrieve analytics.\n     * @returns {Promise<SpinalNodeRef[]>} A Promise that resolves to an array of SpinalNodeRefs for all analytics in the context.\n     * @memberof AnalyticService\n     */\n    getAllAnalytics(contextId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const analytics = yield spinal_env_viewer_graph_service_1.SpinalGraphService.findInContext(contextId, contextId, (node) => {\n                if (node.getType().get() === CONSTANTS.ANALYTIC_TYPE) {\n                    spinal_env_viewer_graph_service_1.SpinalGraphService._addNode(node);\n                    return true;\n                }\n                return false;\n            });\n            return analytics;\n        });\n    }\n    /**\n     * Retrieves the SpinalNodeRef for the specified analytic within the specified context.\n     * @async\n     * @param {string} contextId - The ID of the context in which to search for the analytic.\n     * @param {string} analyticName - The name of the analytic to retrieve.\n     * @returns {Promise<SpinalNodeRef|undefined>} A Promise that resolves to the SpinalNodeRef for the analytic, or undefined if the analytic cannot be found.\n     * @memberof AnalyticService\n     */\n    getAnalytic(contextId, analyticName) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const analytics = yield spinal_env_viewer_graph_service_1.SpinalGraphService.findInContext(contextId, contextId, (node) => {\n                if (node.getType().get() === CONSTANTS.ANALYTIC_TYPE) {\n                    spinal_env_viewer_graph_service_1.SpinalGraphService._addNode(node);\n                    return true;\n                }\n                return false;\n            });\n            const analytic = analytics.find((el) => el.info.name.get() == analyticName);\n            return spinal_env_viewer_graph_service_1.SpinalGraphService.getInfo(analytic.id.get());\n        });\n    }\n    /**\n     * Adds an Inputs node to the specified analytic within the specified context.\n     * @async\n     * @param {string} analyticId - The ID of the analytic to which to add the Inputs node.\n     * @param {string} contextId - The ID of the context in which to add the Inputs node.\n     * @returns {Promise<SpinalNodeRef>} A Promise that resolves to the newly created Inputs node.\n     * @memberof AnalyticService\n     */\n    addInputsNode(analyticId, contextId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const inputsInfo = {\n                name: 'Inputs',\n                description: '',\n                type: CONSTANTS.INPUTS_TYPE,\n            };\n            const inputsModel = new InputsModel_1.InputsModel(inputsInfo);\n            const inputsId = spinal_env_viewer_graph_service_1.SpinalGraphService.createNode(inputsInfo, inputsModel);\n            yield spinal_env_viewer_graph_service_1.SpinalGraphService.addChildInContext(analyticId, inputsId, contextId, CONSTANTS.ANALYTIC_TO_INPUTS_RELATION, spinal_env_viewer_graph_service_1.SPINAL_RELATION_PTR_LST_TYPE);\n            return spinal_env_viewer_graph_service_1.SpinalGraphService.getInfo(inputsId);\n        });\n    }\n    /**\n     * Adds an Outputs node to the specified analytic within the specified context.\n     * @async\n     * @param {string} analyticId - The ID of the analytic to which to add the Outputs node.\n     * @param {string} contextId - The ID of the context in which to add the Outputs node.\n     * @returns {Promise<SpinalNodeRef>} A Promise that resolves to the newly created Outputs node.\n     * @memberof AnalyticService\n     */\n    addOutputsNode(analyticId, contextId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const outputsInfo = {\n                name: 'Outputs',\n                description: '',\n                type: CONSTANTS.OUTPUTS_TYPE,\n            };\n            const outputsModel = new OutputsModel_1.OutputsModel(outputsInfo);\n            const outputsId = spinal_env_viewer_graph_service_1.SpinalGraphService.createNode(outputsInfo, outputsModel);\n            yield spinal_env_viewer_graph_service_1.SpinalGraphService.addChildInContext(analyticId, outputsId, contextId, CONSTANTS.ANALYTIC_TO_OUTPUTS_RELATION, spinal_env_viewer_graph_service_1.SPINAL_RELATION_PTR_LST_TYPE);\n            return spinal_env_viewer_graph_service_1.SpinalGraphService.getInfo(outputsId);\n        });\n    }\n    /**\n     * Adds a new Config node to the specified analytic within the specified context, with the specified attributes.\n     *\n     * @param {INodeDocumentation} configAttributes - The attributes to add to the Config node.\n     * @param {string} analyticId - The ID of the analytic to which to add the Config node.\n     * @param {string} contextId - The ID of the context in which to add the Config node.\n     * @return {*}  {Promise<SpinalNodeRef>}\n     * @memberof AnalyticService\n     */\n    addConfig(configAttributes, analyticId, contextId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const configNodeInfo = { name: 'Config', type: CONSTANTS.CONFIG_TYPE };\n            const configModel = new ConfigModel_1.ConfigModel(configNodeInfo);\n            const configId = spinal_env_viewer_graph_service_1.SpinalGraphService.createNode(configNodeInfo, configModel);\n            const configNode = yield spinal_env_viewer_graph_service_1.SpinalGraphService.addChildInContext(analyticId, configId, contextId, CONSTANTS.ANALYTIC_TO_CONFIG_RELATION, spinal_env_viewer_graph_service_1.SPINAL_RELATION_PTR_LST_TYPE);\n            this.addAttributesToNode(configNode, configAttributes);\n            return spinal_env_viewer_graph_service_1.SpinalGraphService.getInfo(configId);\n        });\n    }\n    /**\n     * Retrieves the Config node for the specified analytic\n     *\n     * @async\n     * @param {string} analyticId - The ID of the analytic for which to retrieve the Config node.\n     * @return {*}  {(Promise<SpinalNodeRef | undefined>)} A Promise that resolves to the Config node, or undefined if the Config node cannot be found.\n     * @memberof AnalyticService\n     */\n    getConfig(analyticId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const nodes = yield spinal_env_viewer_graph_service_1.SpinalGraphService.getChildren(analyticId, [\n                CONSTANTS.ANALYTIC_TO_CONFIG_RELATION,\n            ]);\n            if (nodes.length === 0)\n                return undefined;\n            return spinal_env_viewer_graph_service_1.SpinalGraphService.getInfo(nodes[0].id.get());\n        });\n    }\n    /**\n     * Retrieves the Inputs node for the specified analytic.\n     * @async\n     * @param {string} analyticId - The ID of the analytic for which to retrieve the Inputs node.\n     * @return {*}  {(Promise<SpinalNodeRef | undefined>)} - A Promise that resolves to the Inputs node, or undefined if the Inputs node cannot be found.\n     * @memberof AnalyticService\n     */\n    getInputsNode(analyticId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const nodes = yield spinal_env_viewer_graph_service_1.SpinalGraphService.getChildren(analyticId, [\n                CONSTANTS.ANALYTIC_TO_INPUTS_RELATION,\n            ]);\n            if (nodes.length === 0)\n                return undefined;\n            return spinal_env_viewer_graph_service_1.SpinalGraphService.getInfo(nodes[0].id.get());\n        });\n    }\n    /**\n     * Retrieves the Outputs node for the specified analytic.\n     * @async\n     * @param {string} analyticId - The ID of the analytic for which to retrieve the Outputs node.\n     * @returns {*} {(Promise<SpinalNodeRef | undefined>)} - A Promise that resolves to the Outputs node, or undefined if the Outputs node cannot be found.\n     * @memberof AnalyticService\n     */\n    getOutputsNode(analyticId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const nodes = yield spinal_env_viewer_graph_service_1.SpinalGraphService.getChildren(analyticId, [\n                CONSTANTS.ANALYTIC_TO_OUTPUTS_RELATION,\n            ]);\n            if (nodes.length === 0)\n                return undefined;\n            return spinal_env_viewer_graph_service_1.SpinalGraphService.getInfo(nodes[0].id.get());\n        });\n    }\n    deleteInputsNode(analyticId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const inputsNode = yield this.getInputsNode(analyticId);\n            if (inputsNode)\n                yield (0, utils_1.safeDeleteNode)(inputsNode.id.get(), false);\n        });\n    }\n    deleteOutputsNode(analyticId, shouldDeleteChildren = false) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const outputsNode = yield this.getOutputsNode(analyticId);\n            if (outputsNode)\n                yield (0, utils_1.safeDeleteNode)(outputsNode.id.get(), shouldDeleteChildren);\n        });\n    }\n    deleteAnalytic(analyticId, shouldDeleteChildren = false) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const inputsNode = yield this.getInputsNode(analyticId);\n            const outputsNode = yield this.getOutputsNode(analyticId);\n            if (inputsNode)\n                yield (0, utils_1.safeDeleteNode)(inputsNode.id.get());\n            if (outputsNode)\n                yield (0, utils_1.safeDeleteNode)(outputsNode.id.get(), shouldDeleteChildren);\n            yield (0, utils_1.safeDeleteNode)(analyticId);\n        });\n    }\n    ////////////////////////////////////////////////////\n    //////////////// TRACKED VARIABLE //////////////////\n    ////////////////////////////////////////////////////\n    /**\n     * Adds a new Tracking Method node to the specified Input node within the specified context.\n     * @async\n     * @param {INodeDocumentation} trackingMethodAttributes\n     * @param {string} contextId - The ID of the context in which to add the Tracking Method node.\n     * @param {string} inputId - The ID of the Input node to which to add the Tracking Method node.\n     * @return {*}  {Promise<SpinalNodeRef>} - A Promise that resolves to the newly created Tracking Method node.\n     * @memberof AnalyticService\n     */\n    addTrackingMethod(trackingMethodAttributes, contextId, inputId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const trackingMethodNodeInfo = {\n                name: 'TrackingMethod',\n                type: CONSTANTS.TRACKING_METHOD_TYPE,\n            };\n            const trackingMethodModel = new TrackingMethodModel_1.TrackingMethodModel(trackingMethodNodeInfo);\n            const trackingMethodNodeId = spinal_env_viewer_graph_service_1.SpinalGraphService.createNode(trackingMethodNodeInfo, trackingMethodModel);\n            const createdNode = yield spinal_env_viewer_graph_service_1.SpinalGraphService.addChildInContext(inputId, trackingMethodNodeId, contextId, CONSTANTS.ANALYTIC_INPUTS_TO_TRACKING_METHOD_RELATION, spinal_env_viewer_graph_service_1.SPINAL_RELATION_PTR_LST_TYPE);\n            this.addAttributesToNode(createdNode, trackingMethodAttributes);\n            return spinal_env_viewer_graph_service_1.SpinalGraphService.getInfo(trackingMethodNodeId);\n        });\n    }\n    /**\n     * Adds a new Tracking Method node to the Inputs node of the specified analytic within the specified context.\n     *\n     * @async\n     * @param {INodeDocumentation} trackingMethodAttributes - The attributes to add to the Tracking Method node.\n     * @param {string} contextId - The ID of the context in which to add the Tracking Method node.\n     * @param {string} analyticId - The ID of the analytic for which to add the Tracking Method node.\n     * @return {*}  {Promise<SpinalNodeRef>} - A Promise that resolves to the newly created Tracking Method node.\n     * @memberof AnalyticService\n     */\n    addInputTrackingMethod(trackingMethodAttributes, contextId, analyticId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const inputs = yield this.getInputsNode(analyticId);\n            if (inputs === undefined)\n                throw Error('Inputs node not found');\n            return this.addTrackingMethod(trackingMethodAttributes, contextId, inputs.id.get());\n        });\n    }\n    /**\n     * Retrieves all Tracking Method nodes associated with the Inputs node of the specified analytic.\n     * @async\n     * @param {string} analyticId - The ID of the analytic for which to retrieve the Tracking Method nodes.\n     * @returns {Promise<SpinalNodeRef[]|undefined>} A Promise that resolves to an array of Tracking Method nodes, or undefined if the Inputs node or Tracking Method nodes cannot be found.\n     * @memberof AnalyticService\n     */\n    getTrackingMethods(analyticId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const inputs = yield this.getInputsNode(analyticId);\n            if (inputs === undefined)\n                return undefined;\n            const nodes = yield spinal_env_viewer_graph_service_1.SpinalGraphService.getChildren(inputs.id.get(), [\n                CONSTANTS.ANALYTIC_INPUTS_TO_TRACKING_METHOD_RELATION,\n            ]);\n            return nodes;\n        });\n    }\n    /**\n     * Retrieves the first Tracking Method node associated with the Inputs node of the specified analytic.\n     * @async\n     * @param {string} analyticId - The ID of the analytic for which to retrieve the Tracking Method node.\n     * @returns {Promise<SpinalNodeRef|undefined>} A Promise that resolves to the first Tracking Method node, or undefined if the Inputs node or Tracking Method nodes cannot be found.\n     * @memberof AnalyticService\n     */\n    getTrackingMethod(analyticId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const trackingMethods = yield this.getTrackingMethods(analyticId);\n            if (trackingMethods === undefined)\n                return undefined;\n            return trackingMethods[0];\n        });\n    }\n    /**\n     * Removes the specified Tracking Method node from the specified Inputs node and deletes it from the graph.\n     * @async\n     * @param {string} inputId - The ID of the Inputs node from which to remove the Tracking Method node.\n     * @param {string} trackingMethodId - The ID of the Tracking Method node to remove and delete.\n     * @returns {Promise<void>} A Promise that resolves when the Tracking Method node has been removed and deleted.\n     * @memberof AnalyticService\n     */\n    removeTrackingMethod(inputId, trackingMethodId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield spinal_env_viewer_graph_service_1.SpinalGraphService.removeChild(inputId, trackingMethodId, CONSTANTS.ANALYTIC_INPUTS_TO_FOLLOWED_ENTITY_RELATION, spinal_env_viewer_graph_service_1.SPINAL_RELATION_PTR_LST_TYPE);\n            yield spinal_env_viewer_graph_service_1.SpinalGraphService.removeFromGraph(trackingMethodId);\n        });\n    }\n    /**\n     * Removes the specified Tracking Method node from the Inputs node of the specified analytic and deletes it from the graph.\n     * @async\n     * @param {string} analyticId - The ID of the analytic from which to remove the Tracking Method node.\n     * @param {string} trackingMethodId - The ID of the Tracking Method node to remove and delete.\n     * @throws {Error} Throws an error if the Inputs node cannot be found.\n     * @returns {Promise<void>} A Promise that resolves when the Tracking Method node has been removed and deleted.\n     * @memberof AnalyticService\n     */\n    removeInputTrackingMethod(analyticId, trackingMethodId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const inputs = yield this.getInputsNode(analyticId);\n            if (inputs === undefined)\n                throw Error('Inputs node not found');\n            yield this.removeTrackingMethod(inputs.id.get(), trackingMethodId);\n        });\n    }\n    /**\n     *\n     * @async\n     * @param {string} trackMethod - The type of filter.\n     * @param {string} filterValue - The filter value to use.\n     * @param {SpinalNodeRef} followedEntity - The SpinalNodeRef object representing the Followed Entity to which the Tracking Method should be applied.\n     * @returns {*} {Promise<SpinalNodeRef[] | SpinalNodeRef | undefined>} - A Promise that resolves with the results of the applied Tracking Method.\n     * @memberof AnalyticService\n     */\n    applyTrackingMethodWithParams(followedEntity, trackMethod, filterValue, depth, strictDepth, authorizedRelations) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (followedEntity) {\n                switch (trackMethod) {\n                    case CONSTANTS.TRACK_METHOD.ENDPOINT_NAME_FILTER: {\n                        const endpoint = yield (0, utils_1.findEndpoint)(followedEntity.id.get(), filterValue, depth, strictDepth, authorizedRelations, CONSTANTS.ENDPOINT_RELATIONS, CONSTANTS.ENDPOINT_NODE_TYPE);\n                        return endpoint;\n                    }\n                    case CONSTANTS.TRACK_METHOD.CONTROL_ENDPOINT_NAME_FILTER: {\n                        const controlEndpoint = yield (0, utils_1.findEndpoint)(followedEntity.id.get(), filterValue, depth, strictDepth, authorizedRelations, CONSTANTS.CONTROL_ENDPOINT_RELATIONS, CONSTANTS.ENDPOINT_NODE_TYPE);\n                        return controlEndpoint;\n                    }\n                    case CONSTANTS.TRACK_METHOD.ATTRIBUTE_NAME_FILTER: {\n                        const [first, second] = filterValue.split(':');\n                        const foundAttribute = yield (0, utils_1.findAttribute)(followedEntity.id.get(), first, second, depth, strictDepth, authorizedRelations);\n                        if (foundAttribute == -1)\n                            return undefined;\n                        return foundAttribute;\n                        //}\n                    }\n                    default:\n                        console.log('Track method not recognized');\n                }\n            }\n        });\n    }\n    ////////////////////////////////////////////////////\n    //////////////// FOLLOWED ENTITY ///////////////////\n    ////////////////////////////////////////////////////\n    /**\n     * Adds a link between an input and a followed entity.\n     * @param {string} contextId - The id of the context where the link will be created.\n     * @param {string} inputId - The id of the input node.\n     * @param {string} followedEntityId - The id of the followed entity node.\n     * @returns {Promise<SpinalNodeRef>} The linked node.\n     * @memberof AnalyticService\n     */\n    addLinkToFollowedEntity(contextId, inputId, followedEntityId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const link = yield spinal_env_viewer_graph_service_1.SpinalGraphService.addChildInContext(inputId, followedEntityId, contextId, CONSTANTS.ANALYTIC_INPUTS_TO_FOLLOWED_ENTITY_RELATION, spinal_env_viewer_graph_service_1.SPINAL_RELATION_PTR_LST_TYPE);\n            const id = link.info.id.get();\n            return spinal_env_viewer_graph_service_1.SpinalGraphService.getInfo(id);\n        });\n    }\n    /**\n     * Adds a link between the input node of the specified analytic and a followed entity.\n     * @param {string} contextId - The id of the context where the link will be created.\n     * @param {string} analyticId - The id of the analytic node.\n     * @param {string} followedEntityId - The id of the followed entity node.\n     * @returns {Promise<SpinalNodeRef>} The linked node.\n     * @memberof AnalyticService\n     */\n    addInputLinkToFollowedEntity(contextId, analyticId, followedEntityId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const inputs = yield this.getInputsNode(analyticId);\n            if (inputs === undefined)\n                throw Error('Inputs node not found');\n            return this.addLinkToFollowedEntity(contextId, inputs.id.get(), followedEntityId);\n        });\n    }\n    /**\n     * Removes the link between an input node and a followed entity node.\n     *\n     * @async\n     * @param {string} analyticId - The ID of the analytic node.\n     * @param {string} followedEntityId - The ID of the followed entity node.\n     * @returns {Promise<void>}\n     * @memberof AnalyticService\n     */\n    removeLinkToFollowedEntity(analyticId, followedEntityId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const inputNodeRef = yield this.getInputsNode(analyticId);\n            if (inputNodeRef === undefined)\n                throw Error('Inputs node not found');\n            yield spinal_env_viewer_graph_service_1.SpinalGraphService.removeChild(inputNodeRef.id.get(), followedEntityId, CONSTANTS.ANALYTIC_INPUTS_TO_FOLLOWED_ENTITY_RELATION, spinal_env_viewer_graph_service_1.SPINAL_RELATION_PTR_LST_TYPE);\n        });\n    }\n    /**\n     * Get the followed entity node of an analytic.\n     * @async\n     * @param {string} analyticId - The id of the analytic.\n     * @returns {Promise<SpinalNodeRef|undefined>} The followed entity node or undefined if it does not exist.\n     * @memberof AnalyticService\n     */\n    getFollowedEntity(analyticId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const inputsNode = yield this.getInputsNode(analyticId);\n            if (inputsNode === undefined)\n                return undefined;\n            const nodes = yield spinal_env_viewer_graph_service_1.SpinalGraphService.getChildren(inputsNode.id.get(), [\n                CONSTANTS.ANALYTIC_INPUTS_TO_FOLLOWED_ENTITY_RELATION,\n            ]);\n            if (nodes === undefined)\n                return undefined;\n            return nodes[0];\n        });\n    }\n    ///////////////////////////////////////////////////\n    ///////////////////// GLOBAL //////////////////////\n    ///////////////////////////////////////////////////\n    /**\n     * Adds the specified attributes to the node with the specified ID.\n     * @async\n     * @param {SpinalNode<any>} node - The node to which to add the attributes.\n     * @param {INodeDocumentation} attributes - An array of objects representing the attributes to add to the node.\n     * @returns {Promise<void>} A Promise that resolves when the attributes have been added.\n     * @memberof AnalyticService\n     */\n    addAttributesToNode(node, attributes) {\n        return __awaiter(this, void 0, void 0, function* () {\n            for (const categoryName of Object.keys(attributes)) {\n                for (const attribute of attributes[categoryName]) {\n                    yield spinal_env_viewer_plugin_documentation_service_1.default.addAttributeByCategoryName(node, categoryName, attribute.name, attribute.value, attribute.type, '');\n                }\n            }\n        });\n    }\n    /**\n     * Gets the attributes from a node.\n     *\n     * @param {string} nodeId - The ID of the node from which to retrieve the attributes.\n     * @param {string} category - The category of the attributes to retrieve.\n     * @return {*}  {Promise<any>} An object containing the attributes.\n     * @memberof AnalyticService\n     */\n    getAttributesFromNode(nodeId, category) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const node = spinal_env_viewer_graph_service_1.SpinalGraphService.getRealNode(nodeId);\n            const res = {};\n            const parameters = yield spinal_env_viewer_plugin_documentation_service_1.attributeService.getAttributesByCategory(node, category);\n            for (const param of parameters) {\n                const obj = param.get();\n                res[obj.label] = obj.value;\n            }\n            return res;\n        });\n    }\n    /**\n     * Gets the attribute from a node.\n     *\n     * @param {string} nodeId - The ID of the node from which to retrieve the attribute.\n     * @param {string} category - The category of the attribute to retrieve.\n     * @param {string} label - The label of the attribute to retrieve.\n     * @return {*}  {Promise<any>}  An object containing the attribute { label: value}.\n     * @memberof AnalyticService\n     */\n    getAttributeFromNode(nodeId, category, label) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const node = spinal_env_viewer_graph_service_1.SpinalGraphService.getRealNode(nodeId);\n            const parameters = yield spinal_env_viewer_plugin_documentation_service_1.attributeService.getAttributesByCategory(node, category);\n            for (const param of parameters) {\n                const obj = param.get();\n                if (obj.label === label)\n                    return { [obj.label]: obj.value };\n            }\n            return undefined;\n        });\n    }\n    getAllCategoriesAndAttributesFromNode(nodeId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const node = spinal_env_viewer_graph_service_1.SpinalGraphService.getRealNode(nodeId);\n            const res = {};\n            const categories = yield spinal_env_viewer_plugin_documentation_service_1.attributeService.getCategory(node);\n            for (const cat of categories) {\n                const categoryName = cat.nameCat;\n                res[categoryName] = {};\n                const attributes = yield spinal_env_viewer_plugin_documentation_service_1.attributeService.getAttributesByCategory(node, categoryName);\n                for (const attribute of attributes) {\n                    const obj = attribute.get();\n                    res[categoryName][obj.label] = obj.value;\n                }\n            }\n            return res;\n        });\n    }\n    /**\n     * Gets the targeted entities for an analytic.\n     *\n     * @param {string} analyticId The ID of the analytic.\n     * @return {*}  {(Promise<SpinalNodeRef[]|undefined>)} An array of SpinalNodeRefs for the entities\n     * @memberof AnalyticService\n     */\n    getWorkingFollowedEntities(analyticId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const followedEntity = yield this.getFollowedEntity(analyticId);\n            const trackingMethod = yield this.getTrackingMethod(analyticId);\n            const config = yield this.getConfig(analyticId);\n            const entityInfo = yield this.getEntityFromAnalytic(analyticId);\n            if (!entityInfo)\n                return;\n            const entityType = entityInfo.entityType.get();\n            if (followedEntity && trackingMethod && config) {\n                if (entityType == followedEntity.type.get()) {\n                    // we can continue as planned\n                    return [followedEntity];\n                }\n                if (followedEntity.type.get().includes('group') ||\n                    followedEntity.type.get().includes('Group')) {\n                    console.log('Anchor entity is a group, trying to find the correct entities with the relation name: ', CONSTANTS.GROUP_RELATION_PREFIX + entityType);\n                    return yield spinal_env_viewer_graph_service_1.SpinalGraphService.getChildren(followedEntity.id.get(), [\n                        CONSTANTS.GROUP_RELATION_PREFIX + entityType,\n                    ]);\n                }\n                if (followedEntity.type.get().includes('context') ||\n                    followedEntity.type.get().includes('Context')) {\n                    console.log('Anchor entity is a context, trying to find the correct entities');\n                    return yield spinal_env_viewer_graph_service_1.SpinalGraphService.findInContextByType(followedEntity.id.get(), followedEntity.id.get(), entityType);\n                }\n                console.log('Failed to deduct the correct entities from the anchor entity');\n                return [];\n            }\n        });\n    }\n    getWorkingFollowedEntitiesWithParam(followedEntity, entityType) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (entityType == followedEntity.type.get()) {\n                // we can continue as planned\n                return [followedEntity];\n            }\n            if (followedEntity.type.get().includes('group') ||\n                followedEntity.type.get().includes('Group')) {\n                console.log('Anchor entity is a group, trying to find the correct entities with the relation name: ', CONSTANTS.GROUP_RELATION_PREFIX + entityType);\n                return yield spinal_env_viewer_graph_service_1.SpinalGraphService.getChildren(followedEntity.id.get(), [\n                    CONSTANTS.GROUP_RELATION_PREFIX + entityType,\n                ]);\n            }\n            if (followedEntity.type.get().includes('context') ||\n                followedEntity.type.get().includes('Context')) {\n                console.log('Anchor entity is a context, trying to find the correct entities');\n                return yield spinal_env_viewer_graph_service_1.SpinalGraphService.findInContextByType(followedEntity.id.get(), followedEntity.id.get(), entityType);\n            }\n            console.log('Failed to deduct the correct entities from the anchor entity');\n            return [];\n        });\n    }\n    getEntryDataModelByInputIndex(analyticId, followedEntity, inputIndex) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const trackingMethod = yield this.getTrackingMethod(analyticId);\n            if (!trackingMethod)\n                return undefined;\n            const inputParams = yield this.getAttributesFromNode(trackingMethod.id.get(), inputIndex);\n            return yield this.applyTrackingMethodWithParams(followedEntity, inputParams[CONSTANTS.ATTRIBUTE_TRACKING_METHOD], inputParams[CONSTANTS.ATTRIBUTE_FILTER_VALUE], inputParams[CONSTANTS.ATTRIBUTE_SEARCH_DEPTH], inputParams[CONSTANTS.ATTRIBUTE_STRICT_DEPTH], inputParams[CONSTANTS.ATTRIBUTE_SEARCH_RELATIONS].split(CONSTANTS.ATTRIBUTE_VALUE_SEPARATOR));\n        });\n    }\n    getFormattedInputDataByIndex(analyticId, followedEntity, inputIndex) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const entryDataModel = yield this.getEntryDataModelByInputIndex(analyticId, followedEntity, inputIndex);\n            if (!entryDataModel)\n                return undefined;\n            const trackingMethod = yield this.getTrackingMethod(analyticId);\n            if (!trackingMethod)\n                return undefined;\n            const trackingParams = yield this.getAttributesFromNode(trackingMethod.id.get(), inputIndex);\n            if (!trackingParams[CONSTANTS.ATTRIBUTE_TIMESERIES] ||\n                trackingParams[CONSTANTS.ATTRIBUTE_TIMESERIES] == 0) {\n                const currentValue = yield (0, utils_1.getValueModelFromEntry)(entryDataModel);\n                const assertedValue = currentValue.get();\n                return assertedValue;\n            }\n            else {\n                const spinalTs = yield this.spinalServiceTimeseries.getOrCreateTimeSeries(entryDataModel.id.get());\n                const end = Date.now();\n                const start = end - trackingParams[CONSTANTS.ATTRIBUTE_TIMESERIES];\n                const data = yield spinalTs.getFromIntervalTime(start, end);\n                //add fictive data copying last value to currentTime.\n                if (data.length != 0) {\n                    data.push({ date: end, value: data[data.length - 1].value });\n                }\n                //const dataValues = data.map((el) => el.value);\n                return data;\n            }\n        });\n    }\n    findExecutionOrder(dependencies) {\n        const graph = {};\n        const visited = {};\n        const stack = [];\n        // Create graph from dependency map\n        for (const algo of Object.keys(dependencies)) {\n            graph[algo] = graph[algo] || [];\n            const dependency = dependencies[algo];\n            graph[dependency] = graph[dependency] || [];\n            graph[dependency].push(algo);\n        }\n        const visit = (node) => {\n            if (!visited[node]) {\n                visited[node] = true;\n                if (graph[node]) {\n                    for (const neighbor of graph[node]) {\n                        visit(neighbor);\n                    }\n                }\n                stack.push(node);\n            }\n        };\n        for (const node of Object.keys(graph)) {\n            if (!visited[node]) {\n                visit(node);\n            }\n        }\n        // Check for circular dependencies (not handled in this simple implementation)\n        for (const node of Object.keys(graph)) {\n            if (stack.indexOf(node) > stack.indexOf(dependencies[node])) {\n                return null; // Circular dependency detected\n            }\n        }\n        return stack.filter((x) => x.startsWith('A'));\n    }\n    filterAlgorithmParametersAttributesByIndex(algoParams, indexName) {\n        const result = {};\n        for (const key in algoParams) {\n            if (key.startsWith(indexName)) {\n                const newKey = key.replace(indexName + CONSTANTS.ATTRIBUTE_SEPARATOR, '');\n                result[newKey] = algoParams[key];\n            }\n        }\n        return result;\n    }\n    recExecuteAlgorithm(analyticId, entity, algoIndexName, ioDependencies, algoIndexMapping, algoParams) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const inputs = [];\n            const myDependencies = ioDependencies[algoIndexName].split(CONSTANTS.ATTRIBUTE_VALUE_SEPARATOR);\n            for (const dependency of myDependencies) {\n                // if dependency is an algorithm then rec call with that algorithm\n                if (dependency.startsWith('A')) {\n                    // save the result of the algorithm in the inputs array\n                    const res = yield this.recExecuteAlgorithm(analyticId, entity, dependency, ioDependencies, algoIndexMapping, algoParams);\n                    inputs.push(res);\n                }\n                else {\n                    // if dependency is an input then get the value of the input\n                    const inputData = yield this.getFormattedInputDataByIndex(analyticId, entity, dependency);\n                    if (inputData == undefined) {\n                        throw new Error(`Input data ${dependency} could not be retrieved`);\n                    }\n                    inputs.push(inputData);\n                }\n            }\n            // after the inputs are ready we can execute the algorithm\n            const algorithm_name = algoIndexMapping[algoIndexName];\n            const algorithmParameters = this.filterAlgorithmParametersAttributesByIndex(algoParams, algoIndexName);\n            const result = algorithms_1.ALGORITHMS[algorithm_name].run(inputs, algorithmParameters);\n            return result;\n        });\n    }\n    /**\n     * Performs an analysis on an entity for an analytic.\n     * @param {string} analyticId The ID of the analytic.\n     * @param {SpinalNodeRef} entity The SpinalNodeRef for the entity to analyze.\n     * @returns {*} {Promise<void>}\n     * @memberof AnalyticService\n     */\n    doAnalysisOnEntity(analyticId, entity) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                // Get the io dependencies of the analytic\n                const configNode = yield this.getConfig(analyticId);\n                if (!configNode)\n                    return { success: false, error: 'No config node found' };\n                const ioDependencies = yield this.getAttributesFromNode(configNode.id.get(), CONSTANTS.CATEGORY_ATTRIBUTE_IO_DEPENDENCIES);\n                const algoIndexMapping = yield this.getAttributesFromNode(configNode.id.get(), CONSTANTS.CATEGORY_ATTRIBUTE_ALGORITHM_INDEX_MAPPING);\n                const algoParams = yield this.getAttributesFromNode(configNode.id.get(), CONSTANTS.CATEGORY_ATTRIBUTE_ALGORTHM_PARAMETERS);\n                const R = ioDependencies['R'];\n                const result = yield this.recExecuteAlgorithm(analyticId, entity, R, ioDependencies, algoIndexMapping, algoParams);\n                return yield this.applyResult(result, analyticId, configNode, entity);\n            }\n            catch (error) {\n                const analyticInfo = spinal_env_viewer_graph_service_1.SpinalGraphService.getInfo(analyticId);\n                const positionString = ' on ' + entity.name.get() + ' in analytic : ' + analyticInfo.name.get();\n                if (error instanceof Error) {\n                    return { success: false, error: error.message + positionString };\n                }\n                else {\n                    return {\n                        success: false,\n                        error: 'An unknown error occurred' + positionString,\n                    };\n                }\n            }\n        });\n    }\n    /**\n     * Performs an analysis on all entities for an analytic.\n     * @param {string} analyticId The ID of the analytic.\n     * @return {*}  {Promise<void>}\n     * @memberof AnalyticService\n     */\n    doAnalysis(analyticId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const entities = yield this.getWorkingFollowedEntities(analyticId);\n            if (!entities)\n                return [{ success: false, error: 'No entities found' }];\n            //const results: IResult[] = [];\n            const analysisPromises = entities.map((entity) => this.doAnalysisOnEntity(analyticId, entity));\n            const results = yield Promise.all(analysisPromises);\n            return results;\n        });\n    }\n    ///////////////////////////////////////////////////\n    ///////////////// RESULT HANDLING /////////////////\n    ///////////////////////////////////////////////////\n    /**\n     * Applies the result of an algorithm.\n     *\n     * @param {*} result The result of the algorithm used.\n     * @param {string} analyticId The ID of the analytic.\n     * @param {SpinalNodeRef} configNode The SpinalNodeRef of the configuration of the analytic.\n     * @param {SpinalNodeRef} followedEntityNode The SpinalNodeRef of the entity.\n     * @return {*}\n     * @memberof AnalyticService\n     */\n    applyResult(result, analyticId, configNode, followedEntityNode) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (result === undefined)\n                return { success: false, error: 'Result is undefined' };\n            const params = yield this.getAttributesFromNode(configNode.id.get(), CONSTANTS.CATEGORY_ATTRIBUTE_RESULT_PARAMETERS);\n            switch (params[CONSTANTS.ATTRIBUTE_RESULT_TYPE]) {\n                case CONSTANTS.ANALYTIC_RESULT_TYPE.TICKET:\n                    yield this.handleTicketResult(result, analyticId, configNode, followedEntityNode, params, 'Ticket');\n                    return {\n                        success: true,\n                        resultValue: result,\n                        error: '',\n                        resultType: CONSTANTS.ANALYTIC_RESULT_TYPE.TICKET,\n                    };\n                case CONSTANTS.ANALYTIC_RESULT_TYPE.CONTROL_ENDPOINT:\n                    yield this.handleControlEndpointResult(result, followedEntityNode, params);\n                    return {\n                        success: true,\n                        resultValue: result,\n                        error: '',\n                        resultType: CONSTANTS.ANALYTIC_RESULT_TYPE.CONTROL_ENDPOINT,\n                    };\n                case CONSTANTS.ANALYTIC_RESULT_TYPE.ENDPOINT:\n                    yield this.handleEndpointResult(result, followedEntityNode, params);\n                    return {\n                        success: true,\n                        resultValue: result,\n                        error: '',\n                        resultType: CONSTANTS.ANALYTIC_RESULT_TYPE.ENDPOINT,\n                    };\n                case CONSTANTS.ANALYTIC_RESULT_TYPE.ALARM:\n                    return yield this.handleTicketResult(result, analyticId, configNode, followedEntityNode, params, 'Alarm');\n                case CONSTANTS.ANALYTIC_RESULT_TYPE.SMS:\n                    return yield this.handleSMSResult(result, analyticId, configNode, followedEntityNode);\n                case CONSTANTS.ANALYTIC_RESULT_TYPE.LOG:\n                    console.log(`LOG : ${params[CONSTANTS.ATTRIBUTE_RESULT_NAME]} \\t|\\t Result : ${result}`);\n                    return {\n                        success: true,\n                        resultValue: result,\n                        error: '',\n                        resultType: CONSTANTS.ANALYTIC_RESULT_TYPE.LOG,\n                    };\n                case CONSTANTS.ANALYTIC_RESULT_TYPE.GCHAT_MESSAGE:\n                    return this.handleGChatMessageResult(result, analyticId, configNode, followedEntityNode);\n                case CONSTANTS.ANALYTIC_RESULT_TYPE.GCHAT_ORGAN_CARD:\n                    return this.handleGChatOrganCardResult(result, analyticId, configNode, followedEntityNode);\n                default:\n                    return { success: false, error: 'Result type not recognized' };\n            }\n        });\n    }\n    /**\n     * Handles the result of an algorithm that creates a ticket or an alarm.\n     *\n     * @private\n     * @param {*} result\n     * @param {string} analyticId\n     * @param {SpinalNodeRef} configNode\n     * @param {SpinalNodeRef} followedEntityNode\n     * @param {*} params\n     * @param {string} ticketType\n     * @return {*}  {Promise<void>}\n     * @memberof AnalyticService\n     */\n    handleTicketResult(result, analyticId, configNode, followedEntityNode, params, ticketType // Alarm or Ticket\n    ) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (result == false)\n                return {\n                    success: true,\n                    error: '',\n                    resultValue: result,\n                    resultType: CONSTANTS.ANALYTIC_RESULT_TYPE.TICKET,\n                };\n            const outputNode = yield this.getOutputsNode(analyticId);\n            if (!outputNode)\n                return { success: false, error: ' Output Node not found' };\n            const analyticContextId = this.getContextIdOfAnalytic(analyticId);\n            if (!analyticContextId)\n                return { success: false, error: ' Analytic context id not found' };\n            const ticketInfo = {\n                name: `${params[CONSTANTS.ATTRIBUTE_RESULT_NAME]} : ${followedEntityNode.name.get()}`,\n            };\n            (0, utils_1.addTicketAlarm)(ticketInfo, configNode, analyticContextId, outputNode.id.get(), followedEntityNode.id.get(), ticketType);\n            return {\n                success: true,\n                error: '',\n                resultValue: result,\n                resultType: CONSTANTS.ANALYTIC_RESULT_TYPE.TICKET,\n            };\n        });\n    }\n    /**\n     * Handles the result of an algorithm that modifies a control point.\n     *\n     * @private\n     * @param {*} result\n     * @param {SpinalNodeRef} followedEntityNode\n     * @param {*} params\n     * @return {*}  {Promise<void>}\n     * @memberof AnalyticService\n     */\n    handleControlEndpointResult(result, followedEntityNode, params) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const controlEndpointNode = yield (0, utils_1.findEndpoint)(followedEntityNode.id.get(), params[CONSTANTS.ATTRIBUTE_RESULT_NAME], 0, true, [], CONSTANTS.CONTROL_ENDPOINT_RELATIONS, CONSTANTS.ENDPOINT_NODE_TYPE);\n            if (!controlEndpointNode)\n                return { success: false, error: ' Control endpoint node not found' };\n            const controlEndpoint = yield controlEndpointNode.element.load();\n            controlEndpoint.currentValue.set(result);\n            this.spinalServiceTimeseries.pushFromEndpoint(controlEndpointNode.id.get(), result);\n            return {\n                success: true,\n                resultValue: result,\n                error: '',\n                resultType: CONSTANTS.ANALYTIC_RESULT_TYPE.CONTROL_ENDPOINT,\n            };\n        });\n    }\n    /**\n     * Handles the result of an algorithm that modifies an Endpoint.\n     *\n     * @private\n     * @param {*} result\n     * @param {SpinalNodeRef} followedEntityNode\n     * @param {*} params\n     * @return {*}  {Promise<void>}\n     * @memberof AnalyticService\n     */\n    handleEndpointResult(result, followedEntityNode, params) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const controlEndpointNode = yield (0, utils_1.findEndpoint)(followedEntityNode.id.get(), params[CONSTANTS.ATTRIBUTE_RESULT_NAME], 0, true, [], CONSTANTS.ENDPOINT_RELATIONS, CONSTANTS.ENDPOINT_NODE_TYPE);\n            if (!controlEndpointNode)\n                return { success: false, error: 'Endpoint node not found' };\n            const controlEndpoint = yield controlEndpointNode.element.load();\n            controlEndpoint.currentValue.set(result);\n            this.spinalServiceTimeseries.pushFromEndpoint(controlEndpointNode.id.get(), result);\n            return {\n                success: true,\n                resultValue: result,\n                error: '',\n                resultType: CONSTANTS.ANALYTIC_RESULT_TYPE.ENDPOINT,\n            };\n        });\n    }\n    /**\n     * Handles the result of an algorithm that sends an SMS.\n     *\n     * @private\n     * @param {*} result\n     * @param {SpinalNodeRef} configNode\n     * @param {SpinalNodeRef} followedEntityNode\n     * @return {*}  {Promise<void>}\n     * @memberof AnalyticService\n     */\n    handleSMSResult(result, analyticId, configNode, followedEntityNode) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!this.twilioAccountSid ||\n                !this.twilioAuthToken ||\n                !this.twilioFromNumber)\n                return { success: false, error: 'Twilio parameters not found' };\n            if (result == false)\n                return {\n                    success: true,\n                    resultValue: result,\n                    error: '',\n                    resultType: CONSTANTS.ANALYTIC_RESULT_TYPE.SMS,\n                };\n            console.log('SMS result');\n            const twilioParams = yield this.getAttributesFromNode(configNode.id.get(), CONSTANTS.CATEGORY_ATTRIBUTE_TWILIO_PARAMETERS);\n            const toNumber = twilioParams[CONSTANTS.ATTRIBUTE_PHONE_NUMBER];\n            let message = twilioParams[CONSTANTS.ATTRIBUTE_PHONE_MESSAGE];\n            const variables = message.match(/[^{}]+(?=\\})/g);\n            if (variables) {\n                for (const variable of variables) {\n                    const value = yield this.getFormattedInputDataByIndex(analyticId, followedEntityNode, variable);\n                    message = message.replace(`{${variable}}`, \"\" + value);\n                }\n            }\n            const url = `https://api.twilio.com/2010-04-01/Accounts/${this.twilioAccountSid}/Messages.json`;\n            const entityName = followedEntityNode.name\n                .get()\n                .replace(/[0-9]/g, '*');\n            const data = {\n                Body: `Analytic on ${entityName} triggered with the following message : ${message}`,\n                From: this.twilioFromNumber,\n                To: toNumber,\n            };\n            const config = {\n                method: 'POST',\n                headers: { 'content-type': 'application/x-www-form-urlencoded' },\n                auth: {\n                    username: this.twilioAccountSid,\n                    password: this.twilioAuthToken,\n                },\n                data: (0, qs_1.stringify)(data),\n                url,\n            };\n            const axiosResult = yield (0, axios_1.default)(config);\n            console.log({ status: axiosResult.status, data: axiosResult.data });\n            return {\n                success: true,\n                resultValue: result,\n                error: '',\n                resultType: CONSTANTS.ANALYTIC_RESULT_TYPE.SMS,\n            };\n        });\n    }\n    handleGChatMessageResult(result, analyticId, configNode, followedEntityNode) {\n        return __awaiter(this, void 0, void 0, function* () {\n            console.log('Handling Google chat message result');\n            if (result == false)\n                return {\n                    success: true,\n                    resultValue: result,\n                    error: '',\n                    resultType: CONSTANTS.ANALYTIC_RESULT_TYPE.GCHAT_MESSAGE,\n                };\n            const analyticParams = yield this.getAttributesFromNode(configNode.id.get(), CONSTANTS.CATEGORY_ATTRIBUTE_ANALYTIC_PARAMETERS);\n            const gChatParams = yield this.getAttributesFromNode(configNode.id.get(), CONSTANTS.CATEGORY_ATTRIBUTE_GCHAT_PARAMETERS);\n            const spaceName = gChatParams[CONSTANTS.ATTRIBUTE_GCHAT_SPACE];\n            let message = gChatParams[CONSTANTS.ATTRIBUTE_GCHAT_MESSAGE];\n            const analyticDescription = analyticParams[CONSTANTS.ATTRIBUTE_ANALYTIC_DESCRIPTION];\n            const variables = message.match(/[^{}]+(?=\\})/g);\n            if (variables) {\n                for (const variable of variables) {\n                    const value = yield this.getFormattedInputDataByIndex(analyticId, followedEntityNode, variable);\n                    message = message.replace(`{${variable}}`, '' + value);\n                }\n            }\n            const resultInfo = {\n                success: true,\n                resultValue: result,\n                error: '',\n                spaceName: spaceName,\n                message: 'The following message has been triggered by an analytic.\\n ' +\n                    '\\nAnalysis on item : ' +\n                    followedEntityNode.name.get() +\n                    '\\nDescription : ' +\n                    analyticDescription +\n                    '\\nMessage : ' +\n                    message,\n                resultType: CONSTANTS.ANALYTIC_RESULT_TYPE.GCHAT_MESSAGE,\n            };\n            return resultInfo;\n        });\n    }\n    handleGChatOrganCardResult(result, analyticId, configNode, followedEntityNode) {\n        var _a, _b, _c, _d, _e;\n        return __awaiter(this, void 0, void 0, function* () {\n            console.log('Handling Google chat organ card result');\n            if (result == false)\n                return {\n                    success: true,\n                    resultValue: result,\n                    error: '',\n                    resultType: CONSTANTS.ANALYTIC_RESULT_TYPE.GCHAT_MESSAGE,\n                };\n            const analyticParams = yield this.getAttributesFromNode(configNode.id.get(), CONSTANTS.CATEGORY_ATTRIBUTE_ANALYTIC_PARAMETERS);\n            const resultParams = yield this.getAttributesFromNode(configNode.id.get(), CONSTANTS.CATEGORY_ATTRIBUTE_RESULT_PARAMETERS);\n            const gChatParams = yield this.getAttributesFromNode(configNode.id.get(), CONSTANTS.CATEGORY_ATTRIBUTE_GCHAT_PARAMETERS);\n            const title = resultParams[CONSTANTS.ATTRIBUTE_RESULT_NAME];\n            const spaceName = gChatParams[CONSTANTS.ATTRIBUTE_GCHAT_SPACE];\n            let message = gChatParams[CONSTANTS.ATTRIBUTE_GCHAT_MESSAGE];\n            const variables = message.match(/[^{}]+(?=\\})/g);\n            if (variables) {\n                for (const variable of variables) {\n                    const value = yield this.getFormattedInputDataByIndex(analyticId, followedEntityNode, variable);\n                    message = message.replace(`{${variable}}`, \"\" + value);\n                }\n            }\n            const analyticDescription = analyticParams[CONSTANTS.ATTRIBUTE_ANALYTIC_DESCRIPTION];\n            const lastPing = yield (0, utils_1.findEndpoint)(followedEntityNode.id.get(), 'last_ping', 0, true, [], CONSTANTS.ENDPOINT_RELATIONS, CONSTANTS.ENDPOINT_NODE_TYPE);\n            if (!lastPing)\n                return {\n                    success: false,\n                    error: 'endpoint lastPing not found on organ node',\n                };\n            const lastPingValue = yield (0, utils_1.getValueModelFromEntry)(lastPing);\n            const lastPingDate = new Date(lastPingValue.get()).toString();\n            const parents = yield spinal_env_viewer_graph_service_1.SpinalGraphService.getParents(followedEntityNode.id.get(), 'HasOrgan');\n            let platformName = \"Couldn't find the platform name\";\n            let ipAddress = \"Couldn't find the ip adress\";\n            for (const parent of parents) {\n                if (parent.id.get() == ((_a = followedEntityNode.platformId) === null || _a === void 0 ? void 0 : _a.get())) {\n                    platformName = (_b = parent.name) === null || _b === void 0 ? void 0 : _b.get();\n                    ipAddress = (_c = parent.ipAdress) === null || _c === void 0 ? void 0 : _c.get();\n                }\n            }\n            const card = {\n                header: {\n                    title: title,\n                    subtitle: new Date().toLocaleDateString(),\n                },\n                sections: [\n                    {\n                        header: 'Analytic details',\n                        widgets: [\n                            {\n                                keyValue: {\n                                    topLabel: 'Analytic description',\n                                    content: analyticDescription,\n                                },\n                            },\n                            {\n                                keyValue: {\n                                    topLabel: 'Message',\n                                    content: message,\n                                },\n                            },\n                        ],\n                    },\n                    {\n                        header: 'Organ details',\n                        widgets: [\n                            {\n                                keyValue: {\n                                    topLabel: 'Organ name',\n                                    content: followedEntityNode.name.get(),\n                                },\n                            },\n                            {\n                                keyValue: {\n                                    topLabel: 'Organ type',\n                                    content: (_d = followedEntityNode.organType) === null || _d === void 0 ? void 0 : _d.get(),\n                                },\n                            },\n                            {\n                                keyValue: {\n                                    topLabel: 'Last ping',\n                                    content: lastPingDate,\n                                },\n                            },\n                        ],\n                    },\n                    {\n                        header: 'Platform details',\n                        widgets: [\n                            {\n                                keyValue: {\n                                    topLabel: 'Platform name',\n                                    content: platformName,\n                                },\n                            },\n                            {\n                                keyValue: {\n                                    topLabel: 'Platform id',\n                                    content: (_e = followedEntityNode.platformId) === null || _e === void 0 ? void 0 : _e.get(),\n                                },\n                            },\n                            {\n                                keyValue: {\n                                    topLabel: 'Ip Address',\n                                    content: ipAddress,\n                                },\n                            },\n                        ],\n                    },\n                ],\n            };\n            const resultInfo = {\n                success: true,\n                resultValue: result,\n                error: '',\n                spaceName: spaceName,\n                resultType: CONSTANTS.ANALYTIC_RESULT_TYPE.GCHAT_ORGAN_CARD,\n                card: card,\n            };\n            return resultInfo;\n        });\n    }\n}\nexports.default = AnalyticService;\nexports.AnalyticService = AnalyticService;\n//# sourceMappingURL=AnalyticService.js.map","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport {\n  SpinalGraphService,\n  SpinalNodeRef,\n  SpinalNode,\n  SpinalContext,\n  SPINAL_RELATION_PTR_LST_TYPE,\n} from 'spinal-env-viewer-graph-service';\nimport * as CONSTANTS from '../constants';\nimport { ConfigModel } from '../models/ConfigModel';\nimport { AnalyticModel } from '../models/AnalyticModel';\nimport { IAnalytic } from '../interfaces/IAnalytic';\nimport { EntityModel } from '../models/EntityModel';\nimport { IEntity } from '../interfaces/IEntity';\nimport { TrackingMethodModel } from '../models/TrackingMethodModel';\nimport {\n  IGChatMessageResult,\n  IResult,\n  IGChatOrganCardResult,\n  IGChatCard,\n} from '../interfaces/IAnalyticResult';\nimport { IInputs } from '../interfaces/IInputs';\nimport { InputsModel } from '../models/InputsModel';\nimport { IOutputs } from '../interfaces/IOutputs';\nimport { OutputsModel } from '../models/OutputsModel';\nimport { INodeDocumentation } from '../interfaces/IAttribute';\nimport AttributeService, {\n  attributeService,\n} from 'spinal-env-viewer-plugin-documentation-service';\nimport {\n  SpinalDateValue,\n  SpinalServiceTimeseries,\n} from 'spinal-model-timeseries';\n\nimport {\n  findEndpoint,\n  findAttribute,\n  addTicketAlarm,\n  getValueModelFromEntry,\n  safeDeleteNode,\n} from './utils';\nimport { SingletonServiceTimeseries } from './SingletonTimeSeries';\nimport { SpinalAttribute } from 'spinal-models-documentation';\nimport { ALGORITHMS } from '../algorithms/algorithms';\nimport axios from 'axios';\nimport { stringify } from 'qs';\n\n/**\n * This class handles most of the logic for analytics. It provides methods for creating and retrieving analytics, entities, and contexts.\n * It also provides methods for applying tracking methods to followed entities and applying algorithms to inputs.\n *\n * @export\n * @class AnalyticService\n */\nexport default class AnalyticService {\n  /**\n   * The singleton instance of the Timeseries service.\n   *\n   * @private\n   * @type {SpinalServiceTimeseries}\n   * @memberof AnalyticService\n   */\n  private spinalServiceTimeseries: SpinalServiceTimeseries =\n    SingletonServiceTimeseries.getInstance();\n  /**\n   * The Twilio phone number to use for sending SMS messages.\n   *\n   * @private\n   * @type {(string | undefined)}\n   * @memberof AnalyticService\n   */\n  private twilioFromNumber: string | undefined;\n  /**\n   * The Twilio account SID to use for sending SMS messages.\n   *\n   * @private\n   * @type {(string | undefined)}\n   * @memberof AnalyticService\n   */\n  private twilioAccountSid: string | undefined;\n  /**\n   * The Twilio auth token to use for sending SMS messages.\n   *\n   * @private\n   * @type {(string | undefined)}\n   * @memberof AnalyticService\n   */\n  private twilioAuthToken: string | undefined;\n\n  //private googleChatService: GoogleChatService;\n\n  // eslint-disable-next-line @typescript-eslint/no-empty-function\n  constructor() {}\n\n  /**\n   * Initialize private attributes with necessary information to use the the messaging service.\n   *\n   * @param {string} accountSid\n   * @param {string} authToken\n   * @param {string} fromNumber\n   * @return {*}  {void}\n   * @memberof AnalyticService\n   */\n  public initTwilioCredentials(\n    accountSid: string,\n    authToken: string,\n    fromNumber: string\n  ): void {\n    if (!accountSid || !authToken || !fromNumber) {\n      console.error(\n        'Twilio credentials not set, Messaging services will not work'\n      );\n      return;\n    }\n    console.log('Init connection to messaging services...');\n    this.twilioFromNumber = fromNumber;\n    this.twilioAccountSid = accountSid;\n    this.twilioAuthToken = authToken;\n    console.log('Done.');\n  }\n\n  /**\n   * This method creates a new context and returns the info of the newly created context.\n   * If the context already exists (same name), it just returns the info of that context instead of creating a new one.\n   * @param {string} contextName\n   * @return {*}  {Promise<SpinalNodeRef>}\n   * @memberof AnalyticService\n   */\n  public async createContext(contextName: string): Promise<SpinalNodeRef> {\n    const alreadyExists = this.getContext(contextName);\n    if (alreadyExists) {\n      console.error(`Context ${contextName} already exists`);\n      return alreadyExists;\n    }\n    return SpinalGraphService.addContext(\n      contextName,\n      CONSTANTS.CONTEXT_TYPE,\n      undefined\n    ).then((context) => {\n      const contextId = context.getId().get();\n      return SpinalGraphService.getInfo(contextId);\n    });\n  }\n\n  /**\n   * Retrieves and returns all contexts\n   * handled by this service (type analysisContext)\n   * @return {*}  {(SpinalNodeRef[] | undefined)}\n   * @memberof AnalyticService\n   */\n  public getContexts(): SpinalNodeRef[] | undefined {\n    const contexts = SpinalGraphService.getContextWithType(\n      CONSTANTS.CONTEXT_TYPE\n    );\n    const argContexts = contexts.map((el) =>\n      SpinalGraphService.getInfo(el.info.id.get())\n    );\n    return argContexts;\n  }\n\n  /**\n   * This method use the context name to find and return the info of that context. If the context does not exist, it returns undefined.\n   * If multiple contexts have the same name, it returns the first one.\n   * @param {string} contextName\n   * @return {*}  {(SpinalNodeRef | undefined)}\n   * @memberof AnalyticService\n   */\n  public getContext(contextName: string): SpinalNodeRef | undefined {\n    const contexts = this.getContexts();\n    if (!contexts) return undefined;\n    return contexts.find((context) => context.name.get() === contextName);\n  }\n\n  public getContextIdOfAnalytic(analyticId: string): string | undefined {\n    const contexts = this.getContexts();\n    if (!contexts) return undefined;\n    const analyticNode = SpinalGraphService.getRealNode(analyticId);\n\n    const contextId = analyticNode.getContextIds()[0];\n    return contextId;\n  }\n\n  ////////////////////////////////////////////////////\n  /////////////////// ENTITY /////////////////////////\n  ////////////////////////////////////////////////////\n\n  /**\n   * This method creates a new entity and returns the info of the newly created entity.\n   *\n   * @param {IEntity} entityInfo\n   * @param {string} contextId\n   * @return {*}  {Promise<SpinalNodeRef>}\n   * @memberof AnalyticService\n   */\n  public async addEntity(\n    entityInfo: IEntity,\n    contextId: string\n  ): Promise<SpinalNodeRef> {\n    entityInfo.type = CONSTANTS.ENTITY_TYPE;\n    const entityModel = new EntityModel(entityInfo);\n    const entityNodeId = SpinalGraphService.createNode(entityInfo, entityModel);\n    await SpinalGraphService.addChildInContext(\n      contextId,\n      entityNodeId,\n      contextId,\n      CONSTANTS.CONTEXT_TO_ENTITY_RELATION,\n      SPINAL_RELATION_PTR_LST_TYPE\n    );\n    return SpinalGraphService.getInfo(entityNodeId);\n  }\n\n  /**\n   * Returns all the entities withing a context that have the specified type.\n   *\n   * @param {SpinalContext<any>} context\n   * @param {string} targetType\n   * @return {*}  {(Promise<SpinalNode<any> | undefined>)}\n   * @memberof AnalyticService\n   */\n  public async findEntityByTargetType(\n    context: SpinalContext<any>,\n    targetType: string\n  ): Promise<SpinalNode<any> | undefined> {\n    const entities = await context.getChildren(\n      CONSTANTS.CONTEXT_TO_ENTITY_RELATION\n    );\n    const result = entities.find((e) => e.info.entityType.get() == targetType);\n    (<any>SpinalGraphService)._addNode(result);\n    return result;\n  }\n\n  /**\n   * Retrieves a SpinalNodeRef for the specified entity within the specified context.\n   * @async\n   * @param {string} contextName - The name of the context to search within.\n   * @param {string} entityName - The name of the entity to retrieve.\n   * @returns {Promise<SpinalNodeRef|undefined>} A Promise that resolves to the SpinalNodeRef for the entity, or undefined if the context or entity cannot be found.\n   * @memberof AnalyticService\n   */\n  public async getEntity(\n    contextName: string,\n    entityName: string\n  ): Promise<SpinalNodeRef | undefined> {\n    const context = this.getContext(contextName);\n    if (!context) return undefined;\n    const contextNode = SpinalGraphService.getRealNode(context.id.get());\n    const entities = await contextNode.getChildren(\n      CONSTANTS.CONTEXT_TO_ENTITY_RELATION\n    );\n    const entitiesModels = entities.map((el) =>\n      SpinalGraphService.getInfo(el.info.id.get())\n    );\n    return entitiesModels.find((entity) => entity.name.get() === entityName);\n  }\n\n  /**\n   * Retrieves the parent entity of the specified analytic.\n   * @async\n   * @param {string} analyticId - The ID of the analytic for which to retrieve the parent entity.\n   * @returns {Promise<SpinalNodeRef|undefined>} A Promise that resolves to the parent entity, or undefined if the parent entity cannot be found.\n   * @memberof AnalyticService\n   */\n  public async getEntityFromAnalytic(\n    analyticId: string\n  ): Promise<SpinalNodeRef | undefined> {\n    const nodes = await SpinalGraphService.getParents(analyticId, [\n      CONSTANTS.ENTITY_TO_ANALYTIC_RELATION,\n    ]);\n    if (nodes.length != 0) {\n      return nodes[0];\n    }\n    return undefined;\n  }\n\n  ////////////////////////////////////////////////////\n  //////////////// Analytic //////////////////////////\n  ////////////////////////////////////////////////////\n\n  /**\n   * Adds a new analytic to the specified entity within the specified context.\n   * @async\n   * @param {IAnalytic} analyticInfo - The information for the new analytic to add.\n   * @param {string} contextId - The ID of the context in which to add the analytic.\n   * @param {string} entityId - The ID of the entity to which to add the analytic.\n   * @returns {Promise<SpinalNodeRef>} A Promise that resolves to the newly created analytic info.\n   * @memberof AnalyticService\n   */\n  public async addAnalytic(\n    analyticInfo: IAnalytic,\n    contextId: string,\n    entityId: string\n  ): Promise<SpinalNodeRef> {\n    analyticInfo.type = CONSTANTS.ANALYTIC_TYPE;\n    const analyticModel = new AnalyticModel(analyticInfo);\n    const analyticNodeId = SpinalGraphService.createNode(\n      analyticInfo,\n      analyticModel\n    );\n    await SpinalGraphService.addChildInContext(\n      entityId,\n      analyticNodeId,\n      contextId,\n      CONSTANTS.ENTITY_TO_ANALYTIC_RELATION,\n      SPINAL_RELATION_PTR_LST_TYPE\n    );\n\n    await this.addInputsNode(analyticNodeId, contextId);\n    await this.addOutputsNode(analyticNodeId, contextId);\n\n    return SpinalGraphService.getInfo(analyticNodeId);\n  }\n\n  /**\n   * Retrieves all analytics within the specified context.\n   * @async\n   * @param {string} contextId - The ID of the context in which to retrieve analytics.\n   * @returns {Promise<SpinalNodeRef[]>} A Promise that resolves to an array of SpinalNodeRefs for all analytics in the context.\n   * @memberof AnalyticService\n   */\n  public async getAllAnalytics(contextId: string): Promise<SpinalNodeRef[]> {\n    const analytics = await SpinalGraphService.findInContext(\n      contextId,\n      contextId,\n      (node: SpinalNode<any>) => {\n        if (node.getType().get() === CONSTANTS.ANALYTIC_TYPE) {\n          (<any>SpinalGraphService)._addNode(node);\n          return true;\n        }\n        return false;\n      }\n    );\n    return analytics;\n  }\n\n  /**\n   * Retrieves the SpinalNodeRef for the specified analytic within the specified context.\n   * @async\n   * @param {string} contextId - The ID of the context in which to search for the analytic.\n   * @param {string} analyticName - The name of the analytic to retrieve.\n   * @returns {Promise<SpinalNodeRef|undefined>} A Promise that resolves to the SpinalNodeRef for the analytic, or undefined if the analytic cannot be found.\n   * @memberof AnalyticService\n   */\n  public async getAnalytic(\n    contextId: string,\n    analyticName: string\n  ): Promise<SpinalNodeRef | undefined> {\n    const analytics = await SpinalGraphService.findInContext(\n      contextId,\n      contextId,\n      (node: SpinalNode<any>) => {\n        if (node.getType().get() === CONSTANTS.ANALYTIC_TYPE) {\n          (<any>SpinalGraphService)._addNode(node);\n          return true;\n        }\n        return false;\n      }\n    );\n    const analytic = analytics.find(\n      (el: SpinalNode<any>) => el.info.name.get() == analyticName\n    );\n    return SpinalGraphService.getInfo(analytic.id.get());\n  }\n\n  /**\n   * Adds an Inputs node to the specified analytic within the specified context.\n   * @async\n   * @param {string} analyticId - The ID of the analytic to which to add the Inputs node.\n   * @param {string} contextId - The ID of the context in which to add the Inputs node.\n   * @returns {Promise<SpinalNodeRef>} A Promise that resolves to the newly created Inputs node.\n   * @memberof AnalyticService\n   */\n  private async addInputsNode(\n    analyticId: string,\n    contextId: string\n  ): Promise<SpinalNodeRef> {\n    const inputsInfo: IInputs = {\n      name: 'Inputs',\n      description: '',\n      type: CONSTANTS.INPUTS_TYPE,\n    };\n    const inputsModel = new InputsModel(inputsInfo);\n    const inputsId = SpinalGraphService.createNode(inputsInfo, inputsModel);\n    await SpinalGraphService.addChildInContext(\n      analyticId,\n      inputsId,\n      contextId,\n      CONSTANTS.ANALYTIC_TO_INPUTS_RELATION,\n      SPINAL_RELATION_PTR_LST_TYPE\n    );\n    return SpinalGraphService.getInfo(inputsId);\n  }\n\n  /**\n   * Adds an Outputs node to the specified analytic within the specified context.\n   * @async\n   * @param {string} analyticId - The ID of the analytic to which to add the Outputs node.\n   * @param {string} contextId - The ID of the context in which to add the Outputs node.\n   * @returns {Promise<SpinalNodeRef>} A Promise that resolves to the newly created Outputs node.\n   * @memberof AnalyticService\n   */\n  private async addOutputsNode(\n    analyticId: string,\n    contextId: string\n  ): Promise<SpinalNodeRef> {\n    const outputsInfo: IOutputs = {\n      name: 'Outputs',\n      description: '',\n      type: CONSTANTS.OUTPUTS_TYPE,\n    };\n    const outputsModel = new OutputsModel(outputsInfo);\n    const outputsId = SpinalGraphService.createNode(outputsInfo, outputsModel);\n    await SpinalGraphService.addChildInContext(\n      analyticId,\n      outputsId,\n      contextId,\n      CONSTANTS.ANALYTIC_TO_OUTPUTS_RELATION,\n      SPINAL_RELATION_PTR_LST_TYPE\n    );\n    return SpinalGraphService.getInfo(outputsId);\n  }\n\n  /**\n   * Adds a new Config node to the specified analytic within the specified context, with the specified attributes.\n   *\n   * @param {INodeDocumentation} configAttributes - The attributes to add to the Config node.\n   * @param {string} analyticId - The ID of the analytic to which to add the Config node.\n   * @param {string} contextId - The ID of the context in which to add the Config node.\n   * @return {*}  {Promise<SpinalNodeRef>}\n   * @memberof AnalyticService\n   */\n  public async addConfig(\n    configAttributes: INodeDocumentation,\n    analyticId: string,\n    contextId: string\n  ): Promise<SpinalNodeRef> {\n    const configNodeInfo = { name: 'Config', type: CONSTANTS.CONFIG_TYPE };\n    const configModel = new ConfigModel(configNodeInfo);\n    const configId = SpinalGraphService.createNode(configNodeInfo, configModel);\n    const configNode = await SpinalGraphService.addChildInContext(\n      analyticId,\n      configId,\n      contextId,\n      CONSTANTS.ANALYTIC_TO_CONFIG_RELATION,\n      SPINAL_RELATION_PTR_LST_TYPE\n    );\n\n    this.addAttributesToNode(configNode, configAttributes);\n    return SpinalGraphService.getInfo(configId);\n  }\n\n  /**\n   * Retrieves the Config node for the specified analytic\n   *\n   * @async\n   * @param {string} analyticId - The ID of the analytic for which to retrieve the Config node.\n   * @return {*}  {(Promise<SpinalNodeRef | undefined>)} A Promise that resolves to the Config node, or undefined if the Config node cannot be found.\n   * @memberof AnalyticService\n   */\n  public async getConfig(\n    analyticId: string\n  ): Promise<SpinalNodeRef | undefined> {\n    const nodes = await SpinalGraphService.getChildren(analyticId, [\n      CONSTANTS.ANALYTIC_TO_CONFIG_RELATION,\n    ]);\n    if (nodes.length === 0) return undefined;\n    return SpinalGraphService.getInfo(nodes[0].id.get());\n  }\n\n  /**\n   * Retrieves the Inputs node for the specified analytic.\n   * @async\n   * @param {string} analyticId - The ID of the analytic for which to retrieve the Inputs node.\n   * @return {*}  {(Promise<SpinalNodeRef | undefined>)} - A Promise that resolves to the Inputs node, or undefined if the Inputs node cannot be found.\n   * @memberof AnalyticService\n   */\n  public async getInputsNode(\n    analyticId: string\n  ): Promise<SpinalNodeRef | undefined> {\n    const nodes = await SpinalGraphService.getChildren(analyticId, [\n      CONSTANTS.ANALYTIC_TO_INPUTS_RELATION,\n    ]);\n    if (nodes.length === 0) return undefined;\n    return SpinalGraphService.getInfo(nodes[0].id.get());\n  }\n\n  /**\n   * Retrieves the Outputs node for the specified analytic.\n   * @async\n   * @param {string} analyticId - The ID of the analytic for which to retrieve the Outputs node.\n   * @returns {*} {(Promise<SpinalNodeRef | undefined>)} - A Promise that resolves to the Outputs node, or undefined if the Outputs node cannot be found.\n   * @memberof AnalyticService\n   */\n  public async getOutputsNode(\n    analyticId: string\n  ): Promise<SpinalNodeRef | undefined> {\n    const nodes = await SpinalGraphService.getChildren(analyticId, [\n      CONSTANTS.ANALYTIC_TO_OUTPUTS_RELATION,\n    ]);\n    if (nodes.length === 0) return undefined;\n    return SpinalGraphService.getInfo(nodes[0].id.get());\n  }\n\n  public async deleteInputsNode(analyticId: string): Promise<void> {\n    const inputsNode = await this.getInputsNode(analyticId);\n    if (inputsNode) await safeDeleteNode(inputsNode.id.get(), false);\n  }\n\n  public async deleteOutputsNode(\n    analyticId: string,\n    shouldDeleteChildren = false\n  ): Promise<void> {\n    const outputsNode = await this.getOutputsNode(analyticId);\n    if (outputsNode)\n      await safeDeleteNode(outputsNode.id.get(), shouldDeleteChildren);\n  }\n\n  public async deleteAnalytic(\n    analyticId: string,\n    shouldDeleteChildren = false\n  ): Promise<void> {\n    const inputsNode = await this.getInputsNode(analyticId);\n    const outputsNode = await this.getOutputsNode(analyticId);\n    if (inputsNode) await safeDeleteNode(inputsNode.id.get());\n    if (outputsNode)\n      await safeDeleteNode(outputsNode.id.get(), shouldDeleteChildren);\n    await safeDeleteNode(analyticId);\n  }\n\n  ////////////////////////////////////////////////////\n  //////////////// TRACKED VARIABLE //////////////////\n  ////////////////////////////////////////////////////\n\n  /**\n   * Adds a new Tracking Method node to the specified Input node within the specified context.\n   * @async\n   * @param {INodeDocumentation} trackingMethodAttributes\n   * @param {string} contextId - The ID of the context in which to add the Tracking Method node.\n   * @param {string} inputId - The ID of the Input node to which to add the Tracking Method node.\n   * @return {*}  {Promise<SpinalNodeRef>} - A Promise that resolves to the newly created Tracking Method node.\n   * @memberof AnalyticService\n   */\n  public async addTrackingMethod(\n    trackingMethodAttributes: INodeDocumentation,\n    contextId: string,\n    inputId: string\n  ): Promise<SpinalNodeRef> {\n    const trackingMethodNodeInfo = {\n      name: 'TrackingMethod',\n      type: CONSTANTS.TRACKING_METHOD_TYPE,\n    };\n    const trackingMethodModel = new TrackingMethodModel(trackingMethodNodeInfo);\n    const trackingMethodNodeId = SpinalGraphService.createNode(\n      trackingMethodNodeInfo,\n      trackingMethodModel\n    );\n    const createdNode = await SpinalGraphService.addChildInContext(\n      inputId,\n      trackingMethodNodeId,\n      contextId,\n      CONSTANTS.ANALYTIC_INPUTS_TO_TRACKING_METHOD_RELATION,\n      SPINAL_RELATION_PTR_LST_TYPE\n    );\n\n    this.addAttributesToNode(createdNode, trackingMethodAttributes);\n    return SpinalGraphService.getInfo(trackingMethodNodeId);\n  }\n\n  /**\n   * Adds a new Tracking Method node to the Inputs node of the specified analytic within the specified context.\n   *\n   * @async\n   * @param {INodeDocumentation} trackingMethodAttributes - The attributes to add to the Tracking Method node.\n   * @param {string} contextId - The ID of the context in which to add the Tracking Method node.\n   * @param {string} analyticId - The ID of the analytic for which to add the Tracking Method node.\n   * @return {*}  {Promise<SpinalNodeRef>} - A Promise that resolves to the newly created Tracking Method node.\n   * @memberof AnalyticService\n   */\n  public async addInputTrackingMethod(\n    trackingMethodAttributes: INodeDocumentation,\n    contextId: string,\n    analyticId: string\n  ): Promise<SpinalNodeRef> {\n    const inputs = await this.getInputsNode(analyticId);\n    if (inputs === undefined) throw Error('Inputs node not found');\n    return this.addTrackingMethod(\n      trackingMethodAttributes,\n      contextId,\n      inputs.id.get()\n    );\n  }\n\n  /**\n   * Retrieves all Tracking Method nodes associated with the Inputs node of the specified analytic.\n   * @async\n   * @param {string} analyticId - The ID of the analytic for which to retrieve the Tracking Method nodes.\n   * @returns {Promise<SpinalNodeRef[]|undefined>} A Promise that resolves to an array of Tracking Method nodes, or undefined if the Inputs node or Tracking Method nodes cannot be found.\n   * @memberof AnalyticService\n   */\n  public async getTrackingMethods(\n    analyticId: string\n  ): Promise<SpinalNodeRef[] | undefined> {\n    const inputs = await this.getInputsNode(analyticId);\n    if (inputs === undefined) return undefined;\n    const nodes = await SpinalGraphService.getChildren(inputs.id.get(), [\n      CONSTANTS.ANALYTIC_INPUTS_TO_TRACKING_METHOD_RELATION,\n    ]);\n    return nodes;\n  }\n\n  /**\n   * Retrieves the first Tracking Method node associated with the Inputs node of the specified analytic.\n   * @async\n   * @param {string} analyticId - The ID of the analytic for which to retrieve the Tracking Method node.\n   * @returns {Promise<SpinalNodeRef|undefined>} A Promise that resolves to the first Tracking Method node, or undefined if the Inputs node or Tracking Method nodes cannot be found.\n   * @memberof AnalyticService\n   */\n  public async getTrackingMethod(\n    analyticId: string\n  ): Promise<SpinalNodeRef | undefined> {\n    const trackingMethods = await this.getTrackingMethods(analyticId);\n    if (trackingMethods === undefined) return undefined;\n    return trackingMethods[0];\n  }\n\n  /**\n   * Removes the specified Tracking Method node from the specified Inputs node and deletes it from the graph.\n   * @async\n   * @param {string} inputId - The ID of the Inputs node from which to remove the Tracking Method node.\n   * @param {string} trackingMethodId - The ID of the Tracking Method node to remove and delete.\n   * @returns {Promise<void>} A Promise that resolves when the Tracking Method node has been removed and deleted.\n   * @memberof AnalyticService\n   */\n  public async removeTrackingMethod(\n    inputId: string,\n    trackingMethodId: string\n  ): Promise<void> {\n    await SpinalGraphService.removeChild(\n      inputId,\n      trackingMethodId,\n      CONSTANTS.ANALYTIC_INPUTS_TO_FOLLOWED_ENTITY_RELATION,\n      SPINAL_RELATION_PTR_LST_TYPE\n    );\n    await SpinalGraphService.removeFromGraph(trackingMethodId);\n  }\n\n  /**\n   * Removes the specified Tracking Method node from the Inputs node of the specified analytic and deletes it from the graph.\n   * @async\n   * @param {string} analyticId - The ID of the analytic from which to remove the Tracking Method node.\n   * @param {string} trackingMethodId - The ID of the Tracking Method node to remove and delete.\n   * @throws {Error} Throws an error if the Inputs node cannot be found.\n   * @returns {Promise<void>} A Promise that resolves when the Tracking Method node has been removed and deleted.\n   * @memberof AnalyticService\n   */\n  public async removeInputTrackingMethod(\n    analyticId: string,\n    trackingMethodId: string\n  ): Promise<void> {\n    const inputs = await this.getInputsNode(analyticId);\n    if (inputs === undefined) throw Error('Inputs node not found');\n    await this.removeTrackingMethod(inputs.id.get(), trackingMethodId);\n  }\n\n  /**\n   *\n   * @async\n   * @param {string} trackMethod - The type of filter.\n   * @param {string} filterValue - The filter value to use.\n   * @param {SpinalNodeRef} followedEntity - The SpinalNodeRef object representing the Followed Entity to which the Tracking Method should be applied.\n   * @returns {*} {Promise<SpinalNodeRef[] | SpinalNodeRef | undefined>} - A Promise that resolves with the results of the applied Tracking Method.\n   * @memberof AnalyticService\n   */\n  public async applyTrackingMethodWithParams(\n    followedEntity: SpinalNodeRef,\n    trackMethod: string,\n    filterValue: string,\n    depth: number,\n    strictDepth: boolean,\n    authorizedRelations: string[]\n  ): Promise<SpinalNodeRef | SpinalAttribute | undefined> {\n    if (followedEntity) {\n      switch (trackMethod) {\n        case CONSTANTS.TRACK_METHOD.ENDPOINT_NAME_FILTER: {\n          const endpoint = await findEndpoint(\n            followedEntity.id.get(),\n            filterValue,\n            depth,\n            strictDepth,\n            authorizedRelations,\n            CONSTANTS.ENDPOINT_RELATIONS,\n            CONSTANTS.ENDPOINT_NODE_TYPE\n          );\n          return endpoint;\n        }\n        case CONSTANTS.TRACK_METHOD.CONTROL_ENDPOINT_NAME_FILTER: {\n          const controlEndpoint = await findEndpoint(\n            followedEntity.id.get(),\n            filterValue,\n            depth,\n            strictDepth,\n            authorizedRelations,\n            CONSTANTS.CONTROL_ENDPOINT_RELATIONS,\n            CONSTANTS.ENDPOINT_NODE_TYPE\n          );\n          return controlEndpoint;\n        }\n        case CONSTANTS.TRACK_METHOD.ATTRIBUTE_NAME_FILTER: {\n          const [first, second] = filterValue.split(':');\n          const foundAttribute = await findAttribute(\n            followedEntity.id.get(),\n            first,\n            second,\n            depth,\n            strictDepth,\n            authorizedRelations\n          );\n          if (foundAttribute == -1) return undefined;\n          return foundAttribute;\n\n          //}\n        }\n        default:\n          console.log('Track method not recognized');\n      }\n    }\n  }\n\n  ////////////////////////////////////////////////////\n  //////////////// FOLLOWED ENTITY ///////////////////\n  ////////////////////////////////////////////////////\n\n  /**\n   * Adds a link between an input and a followed entity.\n   * @param {string} contextId - The id of the context where the link will be created.\n   * @param {string} inputId - The id of the input node.\n   * @param {string} followedEntityId - The id of the followed entity node.\n   * @returns {Promise<SpinalNodeRef>} The linked node.\n   * @memberof AnalyticService\n   */\n  public async addLinkToFollowedEntity(\n    contextId: string,\n    inputId: string,\n    followedEntityId: string\n  ): Promise<SpinalNodeRef> {\n    const link = await SpinalGraphService.addChildInContext(\n      inputId,\n      followedEntityId,\n      contextId,\n      CONSTANTS.ANALYTIC_INPUTS_TO_FOLLOWED_ENTITY_RELATION,\n      SPINAL_RELATION_PTR_LST_TYPE\n    );\n    const id = link.info.id.get();\n    return SpinalGraphService.getInfo(id);\n  }\n\n  /**\n   * Adds a link between the input node of the specified analytic and a followed entity.\n   * @param {string} contextId - The id of the context where the link will be created.\n   * @param {string} analyticId - The id of the analytic node.\n   * @param {string} followedEntityId - The id of the followed entity node.\n   * @returns {Promise<SpinalNodeRef>} The linked node.\n   * @memberof AnalyticService\n   */\n  public async addInputLinkToFollowedEntity(\n    contextId: string,\n    analyticId: string,\n    followedEntityId: string\n  ): Promise<SpinalNodeRef> {\n    const inputs = await this.getInputsNode(analyticId);\n    if (inputs === undefined) throw Error('Inputs node not found');\n    return this.addLinkToFollowedEntity(\n      contextId,\n      inputs.id.get(),\n      followedEntityId\n    );\n  }\n\n  /**\n   * Removes the link between an input node and a followed entity node.\n   *\n   * @async\n   * @param {string} analyticId - The ID of the analytic node.\n   * @param {string} followedEntityId - The ID of the followed entity node.\n   * @returns {Promise<void>}\n   * @memberof AnalyticService\n   */\n  public async removeLinkToFollowedEntity(\n    analyticId: string,\n    followedEntityId: string\n  ): Promise<void> {\n    const inputNodeRef = await this.getInputsNode(analyticId);\n    if (inputNodeRef === undefined) throw Error('Inputs node not found');\n    await SpinalGraphService.removeChild(\n      inputNodeRef.id.get(),\n      followedEntityId,\n      CONSTANTS.ANALYTIC_INPUTS_TO_FOLLOWED_ENTITY_RELATION,\n      SPINAL_RELATION_PTR_LST_TYPE\n    );\n  }\n\n  /**\n   * Get the followed entity node of an analytic.\n   * @async\n   * @param {string} analyticId - The id of the analytic.\n   * @returns {Promise<SpinalNodeRef|undefined>} The followed entity node or undefined if it does not exist.\n   * @memberof AnalyticService\n   */\n  public async getFollowedEntity(analyticId: string) {\n    const inputsNode = await this.getInputsNode(analyticId);\n    if (inputsNode === undefined) return undefined;\n    const nodes = await SpinalGraphService.getChildren(inputsNode.id.get(), [\n      CONSTANTS.ANALYTIC_INPUTS_TO_FOLLOWED_ENTITY_RELATION,\n    ]);\n    if (nodes === undefined) return undefined;\n    return nodes[0];\n  }\n\n  ///////////////////////////////////////////////////\n  ///////////////////// GLOBAL //////////////////////\n  ///////////////////////////////////////////////////\n\n  /**\n   * Adds the specified attributes to the node with the specified ID.\n   * @async\n   * @param {SpinalNode<any>} node - The node to which to add the attributes.\n   * @param {INodeDocumentation} attributes - An array of objects representing the attributes to add to the node.\n   * @returns {Promise<void>} A Promise that resolves when the attributes have been added.\n   * @memberof AnalyticService\n   */\n  public async addAttributesToNode(\n    node: SpinalNode<any>,\n    attributes: INodeDocumentation\n  ): Promise<void> {\n    for (const categoryName of Object.keys(attributes)) {\n      for (const attribute of attributes[categoryName]) {\n        await AttributeService.addAttributeByCategoryName(\n          node,\n          categoryName,\n          attribute.name,\n          attribute.value,\n          attribute.type,\n          ''\n        );\n      }\n    }\n  }\n\n  /**\n   * Gets the attributes from a node.\n   *\n   * @param {string} nodeId - The ID of the node from which to retrieve the attributes.\n   * @param {string} category - The category of the attributes to retrieve.\n   * @return {*}  {Promise<any>} An object containing the attributes.\n   * @memberof AnalyticService\n   */\n  public async getAttributesFromNode(\n    nodeId: string,\n    category: string\n  ): Promise<any> {\n    const node = SpinalGraphService.getRealNode(nodeId);\n    const res = {};\n    const parameters = await attributeService.getAttributesByCategory(\n      node,\n      category\n    );\n    for (const param of parameters) {\n      const obj = param.get();\n      res[obj.label] = obj.value;\n    }\n    return res;\n  }\n\n  /**\n   * Gets the attribute from a node.\n   *\n   * @param {string} nodeId - The ID of the node from which to retrieve the attribute.\n   * @param {string} category - The category of the attribute to retrieve.\n   * @param {string} label - The label of the attribute to retrieve.\n   * @return {*}  {Promise<any>}  An object containing the attribute { label: value}.\n   * @memberof AnalyticService\n   */\n  public async getAttributeFromNode(\n    nodeId: string,\n    category: string,\n    label: string\n  ): Promise<any> {\n    const node = SpinalGraphService.getRealNode(nodeId);\n    const parameters = await attributeService.getAttributesByCategory(\n      node,\n      category\n    );\n    for (const param of parameters) {\n      const obj = param.get();\n      if (obj.label === label) return { [obj.label]: obj.value };\n    }\n    return undefined;\n  }\n\n  public async getAllCategoriesAndAttributesFromNode(nodeId: string) {\n    const node = SpinalGraphService.getRealNode(nodeId);\n    const res = {};\n    const categories = await attributeService.getCategory(node);\n    for (const cat of categories) {\n      const categoryName = cat.nameCat;\n      res[categoryName] = {};\n      const attributes = await attributeService.getAttributesByCategory(\n        node,\n        categoryName\n      );\n      for (const attribute of attributes) {\n        const obj = attribute.get();\n        res[categoryName][obj.label] = obj.value;\n      }\n    }\n    return res;\n  }\n\n  /**\n   * Gets the targeted entities for an analytic.\n   *\n   * @param {string} analyticId The ID of the analytic.\n   * @return {*}  {(Promise<SpinalNodeRef[]|undefined>)} An array of SpinalNodeRefs for the entities\n   * @memberof AnalyticService\n   */\n  public async getWorkingFollowedEntities(\n    analyticId: string\n  ): Promise<SpinalNodeRef[] | undefined> {\n    const followedEntity = await this.getFollowedEntity(analyticId);\n    const trackingMethod = await this.getTrackingMethod(analyticId);\n    const config = await this.getConfig(analyticId);\n    const entityInfo = await this.getEntityFromAnalytic(analyticId);\n    if (!entityInfo) return;\n    const entityType: string = entityInfo.entityType.get();\n    if (followedEntity && trackingMethod && config) {\n      if (entityType == followedEntity.type.get()) {\n        // we can continue as planned\n        return [followedEntity];\n      }\n      if (\n        followedEntity.type.get().includes('group') ||\n        followedEntity.type.get().includes('Group')\n      ) {\n        console.log(\n          'Anchor entity is a group, trying to find the correct entities with the relation name: ',\n          CONSTANTS.GROUP_RELATION_PREFIX + entityType\n        );\n        return await SpinalGraphService.getChildren(followedEntity.id.get(), [\n          CONSTANTS.GROUP_RELATION_PREFIX + entityType,\n        ]);\n      }\n      if (\n        followedEntity.type.get().includes('context') ||\n        followedEntity.type.get().includes('Context')\n      ) {\n        console.log(\n          'Anchor entity is a context, trying to find the correct entities'\n        );\n        return await SpinalGraphService.findInContextByType(\n          followedEntity.id.get(),\n          followedEntity.id.get(),\n          entityType\n        );\n      }\n      console.log(\n        'Failed to deduct the correct entities from the anchor entity'\n      );\n      return [];\n    }\n  }\n\n  public async getWorkingFollowedEntitiesWithParam(\n    followedEntity: SpinalNodeRef,\n    entityType: string\n  ): Promise<SpinalNodeRef[]> {\n    if (entityType == followedEntity.type.get()) {\n      // we can continue as planned\n      return [followedEntity];\n    }\n    if (\n      followedEntity.type.get().includes('group') ||\n      followedEntity.type.get().includes('Group')\n    ) {\n      console.log(\n        'Anchor entity is a group, trying to find the correct entities with the relation name: ',\n        CONSTANTS.GROUP_RELATION_PREFIX + entityType\n      );\n      return await SpinalGraphService.getChildren(followedEntity.id.get(), [\n        CONSTANTS.GROUP_RELATION_PREFIX + entityType,\n      ]);\n    }\n    if (\n      followedEntity.type.get().includes('context') ||\n      followedEntity.type.get().includes('Context')\n    ) {\n      console.log(\n        'Anchor entity is a context, trying to find the correct entities'\n      );\n      return await SpinalGraphService.findInContextByType(\n        followedEntity.id.get(),\n        followedEntity.id.get(),\n        entityType\n      );\n    }\n    console.log('Failed to deduct the correct entities from the anchor entity');\n    return [];\n  }\n\n  public async getEntryDataModelByInputIndex(\n    analyticId: string,\n    followedEntity: SpinalNodeRef,\n    inputIndex: string\n  ): Promise<SpinalNodeRef | SpinalAttribute | undefined> {\n    const trackingMethod = await this.getTrackingMethod(analyticId);\n    if (!trackingMethod) return undefined;\n\n    const inputParams = await this.getAttributesFromNode(\n      trackingMethod.id.get(),\n      inputIndex\n    );\n\n    return await this.applyTrackingMethodWithParams(\n      followedEntity,\n      inputParams[CONSTANTS.ATTRIBUTE_TRACKING_METHOD],\n      inputParams[CONSTANTS.ATTRIBUTE_FILTER_VALUE],\n      inputParams[CONSTANTS.ATTRIBUTE_SEARCH_DEPTH],\n      inputParams[CONSTANTS.ATTRIBUTE_STRICT_DEPTH],\n      inputParams[CONSTANTS.ATTRIBUTE_SEARCH_RELATIONS].split(\n        CONSTANTS.ATTRIBUTE_VALUE_SEPARATOR\n      )\n    );\n  }\n\n  public async getFormattedInputDataByIndex(\n    analyticId: string,\n    followedEntity: SpinalNodeRef,\n    inputIndex: string\n  ): Promise<SpinalDateValue[] | string | boolean | number | undefined> {\n    const entryDataModel = await this.getEntryDataModelByInputIndex(\n      analyticId,\n      followedEntity,\n      inputIndex\n    );\n    if (!entryDataModel) return undefined;\n    const trackingMethod = await this.getTrackingMethod(analyticId);\n    if (!trackingMethod) return undefined;\n    const trackingParams = await this.getAttributesFromNode(\n      trackingMethod.id.get(),\n      inputIndex\n    );\n    if (\n      !trackingParams[CONSTANTS.ATTRIBUTE_TIMESERIES] ||\n      trackingParams[CONSTANTS.ATTRIBUTE_TIMESERIES] == 0\n    ) {\n      const currentValue = await getValueModelFromEntry(entryDataModel);\n      const assertedValue: string | number | boolean = currentValue.get() as\n        | string\n        | number\n        | boolean;\n      return assertedValue;\n    } else {\n      const spinalTs = await this.spinalServiceTimeseries.getOrCreateTimeSeries(\n        entryDataModel.id.get()\n      );\n      const end = Date.now();\n      const start = end - trackingParams[CONSTANTS.ATTRIBUTE_TIMESERIES];\n      const data = await spinalTs.getFromIntervalTime(start, end);\n\n      //add fictive data copying last value to currentTime.\n      if (data.length != 0) {\n        data.push({ date: end, value: data[data.length - 1].value });\n      }\n      //const dataValues = data.map((el) => el.value);\n      return data;\n    }\n  }\n\n  public findExecutionOrder(dependencies): string[] | null {\n    const graph: { [key: string]: string[] } = {};\n    const visited: { [key: string]: boolean } = {};\n    const stack: string[] = [];\n\n    // Create graph from dependency map\n    for (const algo of Object.keys(dependencies)) {\n      graph[algo] = graph[algo] || [];\n      const dependency = dependencies[algo];\n      graph[dependency] = graph[dependency] || [];\n      graph[dependency].push(algo);\n    }\n    const visit = (node: string) => {\n      if (!visited[node]) {\n        visited[node] = true;\n        if (graph[node]) {\n          for (const neighbor of graph[node]) {\n            visit(neighbor);\n          }\n        }\n        stack.push(node);\n      }\n    };\n\n    for (const node of Object.keys(graph)) {\n      if (!visited[node]) {\n        visit(node);\n      }\n    }\n\n    // Check for circular dependencies (not handled in this simple implementation)\n    for (const node of Object.keys(graph)) {\n      if (stack.indexOf(node) > stack.indexOf(dependencies[node])) {\n        return null; // Circular dependency detected\n      }\n    }\n\n    return stack.filter((x) => x.startsWith('A'));\n  }\n\n  private filterAlgorithmParametersAttributesByIndex(\n    algoParams: any,\n    indexName: string\n  ) {\n    const result = {};\n    for (const key in algoParams) {\n      if (key.startsWith(indexName)) {\n        const newKey = key.replace(\n          indexName + CONSTANTS.ATTRIBUTE_SEPARATOR,\n          ''\n        );\n        result[newKey] = algoParams[key];\n      }\n    }\n\n    return result;\n  }\n\n  private async recExecuteAlgorithm(\n    analyticId: string,\n    entity: SpinalNodeRef,\n    algoIndexName: string,\n    ioDependencies: any,\n    algoIndexMapping: any,\n    algoParams: any\n  ): Promise<any> {\n    const inputs: any[] = [];\n    const myDependencies = ioDependencies[algoIndexName].split(\n      CONSTANTS.ATTRIBUTE_VALUE_SEPARATOR\n    );\n    for (const dependency of myDependencies) {\n      // if dependency is an algorithm then rec call with that algorithm\n      if (dependency.startsWith('A')) {\n        // save the result of the algorithm in the inputs array\n        const res = await this.recExecuteAlgorithm(\n          analyticId,\n          entity,\n          dependency,\n          ioDependencies,\n          algoIndexMapping,\n          algoParams\n        );\n        inputs.push(res);\n      } else {\n        // if dependency is an input then get the value of the input\n        const inputData = await this.getFormattedInputDataByIndex(\n          analyticId,\n          entity,\n          dependency\n        );\n        if (inputData == undefined) {\n          throw new Error(`Input data ${dependency} could not be retrieved`);\n        }\n        inputs.push(inputData);\n      }\n    }\n    // after the inputs are ready we can execute the algorithm\n    const algorithm_name = algoIndexMapping[algoIndexName];\n    const algorithmParameters = this.filterAlgorithmParametersAttributesByIndex(\n      algoParams,\n      algoIndexName\n    );\n    const result = ALGORITHMS[algorithm_name].run(inputs, algorithmParameters);\n    return result;\n  }\n\n  /**\n   * Performs an analysis on an entity for an analytic.\n   * @param {string} analyticId The ID of the analytic.\n   * @param {SpinalNodeRef} entity The SpinalNodeRef for the entity to analyze.\n   * @returns {*} {Promise<void>}\n   * @memberof AnalyticService\n   */\n  public async doAnalysisOnEntity(\n    analyticId: string,\n    entity: SpinalNodeRef\n  ): Promise<IResult> {\n    try {\n      // Get the io dependencies of the analytic\n      const configNode = await this.getConfig(analyticId);\n      if (!configNode) return { success: false, error: 'No config node found' };\n\n      const ioDependencies = await this.getAttributesFromNode(\n        configNode.id.get(),\n        CONSTANTS.CATEGORY_ATTRIBUTE_IO_DEPENDENCIES\n      );\n      const algoIndexMapping = await this.getAttributesFromNode(\n        configNode.id.get(),\n        CONSTANTS.CATEGORY_ATTRIBUTE_ALGORITHM_INDEX_MAPPING\n      );\n      const algoParams = await this.getAttributesFromNode(\n        configNode.id.get(),\n        CONSTANTS.CATEGORY_ATTRIBUTE_ALGORTHM_PARAMETERS\n      );\n\n      const R = ioDependencies['R'];\n      const result = await this.recExecuteAlgorithm(\n        analyticId,\n        entity,\n        R,\n        ioDependencies,\n        algoIndexMapping,\n        algoParams\n      );\n      return await this.applyResult(result, analyticId, configNode, entity);\n    } catch (error) {\n      const analyticInfo = SpinalGraphService.getInfo(analyticId);\n      const positionString =\n        ' on ' + entity.name.get() + ' in analytic : ' + analyticInfo.name.get();\n      if (error instanceof Error) {\n        return { success: false, error: error.message + positionString };\n      } else {\n        return {\n          success: false,\n          error: 'An unknown error occurred' + positionString,\n        };\n      }\n    }\n  }\n\n  /**\n   * Performs an analysis on all entities for an analytic.\n   * @param {string} analyticId The ID of the analytic.\n   * @return {*}  {Promise<void>}\n   * @memberof AnalyticService\n   */\n  public async doAnalysis(analyticId: string): Promise<IResult[]> {\n    const entities = await this.getWorkingFollowedEntities(analyticId);\n    if (!entities) return [{ success: false, error: 'No entities found' }];\n\n    //const results: IResult[] = [];\n    const analysisPromises = entities.map((entity) =>\n      this.doAnalysisOnEntity(analyticId, entity)\n    );\n    const results = await Promise.all(analysisPromises);\n    return results;\n  }\n\n  ///////////////////////////////////////////////////\n  ///////////////// RESULT HANDLING /////////////////\n  ///////////////////////////////////////////////////\n  /**\n   * Applies the result of an algorithm.\n   *\n   * @param {*} result The result of the algorithm used.\n   * @param {string} analyticId The ID of the analytic.\n   * @param {SpinalNodeRef} configNode The SpinalNodeRef of the configuration of the analytic.\n   * @param {SpinalNodeRef} followedEntityNode The SpinalNodeRef of the entity.\n   * @return {*}\n   * @memberof AnalyticService\n   */\n  public async applyResult(\n    result: any,\n    analyticId: string,\n    configNode: SpinalNodeRef,\n    followedEntityNode: SpinalNodeRef\n  ): Promise<IResult> {\n    if (result === undefined)\n      return { success: false, error: 'Result is undefined' };\n    const params = await this.getAttributesFromNode(\n      configNode.id.get(),\n      CONSTANTS.CATEGORY_ATTRIBUTE_RESULT_PARAMETERS\n    );\n\n    switch (params[CONSTANTS.ATTRIBUTE_RESULT_TYPE]) {\n      case CONSTANTS.ANALYTIC_RESULT_TYPE.TICKET:\n        await this.handleTicketResult(\n          result,\n          analyticId,\n          configNode,\n          followedEntityNode,\n          params,\n          'Ticket'\n        );\n        return {\n          success: true,\n          resultValue: result,\n          error: '',\n          resultType: CONSTANTS.ANALYTIC_RESULT_TYPE.TICKET,\n        };\n\n      case CONSTANTS.ANALYTIC_RESULT_TYPE.CONTROL_ENDPOINT:\n        await this.handleControlEndpointResult(\n          result,\n          followedEntityNode,\n          params\n        );\n        return {\n          success: true,\n          resultValue: result,\n          error: '',\n          resultType: CONSTANTS.ANALYTIC_RESULT_TYPE.CONTROL_ENDPOINT,\n        };\n      case CONSTANTS.ANALYTIC_RESULT_TYPE.ENDPOINT:\n        await this.handleEndpointResult(result, followedEntityNode, params);\n        return {\n          success: true,\n          resultValue: result,\n          error: '',\n          resultType: CONSTANTS.ANALYTIC_RESULT_TYPE.ENDPOINT,\n        };\n      case CONSTANTS.ANALYTIC_RESULT_TYPE.ALARM:\n        return await this.handleTicketResult(\n          result,\n          analyticId,\n          configNode,\n          followedEntityNode,\n          params,\n          'Alarm'\n        );\n\n      case CONSTANTS.ANALYTIC_RESULT_TYPE.SMS:\n        return await this.handleSMSResult(\n          result,\n          analyticId,\n          configNode,\n          followedEntityNode\n        );\n\n      case CONSTANTS.ANALYTIC_RESULT_TYPE.LOG:\n        console.log(\n          `LOG : ${\n            params[CONSTANTS.ATTRIBUTE_RESULT_NAME]\n          } \\t|\\t Result : ${result}`\n        );\n        return {\n          success: true,\n          resultValue: result,\n          error: '',\n          resultType: CONSTANTS.ANALYTIC_RESULT_TYPE.LOG,\n        };\n\n      case CONSTANTS.ANALYTIC_RESULT_TYPE.GCHAT_MESSAGE:\n        return this.handleGChatMessageResult(\n          result,\n          analyticId,\n          configNode,\n          followedEntityNode\n        );\n\n      case CONSTANTS.ANALYTIC_RESULT_TYPE.GCHAT_ORGAN_CARD:\n        return this.handleGChatOrganCardResult(\n          result,\n          analyticId,\n          configNode,\n          followedEntityNode\n        );\n\n      default:\n        return { success: false, error: 'Result type not recognized' };\n    }\n  }\n\n  /**\n   * Handles the result of an algorithm that creates a ticket or an alarm.\n   *\n   * @private\n   * @param {*} result\n   * @param {string} analyticId\n   * @param {SpinalNodeRef} configNode\n   * @param {SpinalNodeRef} followedEntityNode\n   * @param {*} params\n   * @param {string} ticketType\n   * @return {*}  {Promise<void>}\n   * @memberof AnalyticService\n   */\n  private async handleTicketResult(\n    result: any,\n    analyticId: string,\n    configNode: SpinalNodeRef,\n    followedEntityNode: SpinalNodeRef,\n    params: any,\n    ticketType: string // Alarm or Ticket\n  ): Promise<IResult> {\n    if (result == false)\n      return {\n        success: true,\n        error: '',\n        resultValue: result,\n        resultType: CONSTANTS.ANALYTIC_RESULT_TYPE.TICKET,\n      };\n\n    const outputNode = await this.getOutputsNode(analyticId);\n    if (!outputNode) return { success: false, error: ' Output Node not found' };\n\n    const analyticContextId = this.getContextIdOfAnalytic(analyticId);\n    if (!analyticContextId)\n      return { success: false, error: ' Analytic context id not found' };\n\n    const ticketInfo = {\n      name: `${\n        params[CONSTANTS.ATTRIBUTE_RESULT_NAME]\n      } : ${followedEntityNode.name.get()}`,\n    };\n\n    addTicketAlarm(\n      ticketInfo,\n      configNode,\n      analyticContextId,\n      outputNode.id.get(),\n      followedEntityNode.id.get(),\n      ticketType\n    );\n    return {\n      success: true,\n      error: '',\n      resultValue: result,\n      resultType: CONSTANTS.ANALYTIC_RESULT_TYPE.TICKET,\n    };\n  }\n\n  /**\n   * Handles the result of an algorithm that modifies a control point.\n   *\n   * @private\n   * @param {*} result\n   * @param {SpinalNodeRef} followedEntityNode\n   * @param {*} params\n   * @return {*}  {Promise<void>}\n   * @memberof AnalyticService\n   */\n  private async handleControlEndpointResult(\n    result: any,\n    followedEntityNode: SpinalNodeRef,\n    params: any\n  ): Promise<IResult> {\n    const controlEndpointNode = await findEndpoint(\n      followedEntityNode.id.get(),\n      params[CONSTANTS.ATTRIBUTE_RESULT_NAME],\n      0,\n      true,\n      [],\n      CONSTANTS.CONTROL_ENDPOINT_RELATIONS,\n      CONSTANTS.ENDPOINT_NODE_TYPE\n    );\n    if (!controlEndpointNode)\n      return { success: false, error: ' Control endpoint node not found' };\n\n    const controlEndpoint = await controlEndpointNode.element.load();\n    controlEndpoint.currentValue.set(result);\n    this.spinalServiceTimeseries.pushFromEndpoint(\n      controlEndpointNode.id.get(),\n      result\n    );\n    return {\n      success: true,\n      resultValue: result,\n      error: '',\n      resultType: CONSTANTS.ANALYTIC_RESULT_TYPE.CONTROL_ENDPOINT,\n    };\n  }\n\n  /**\n   * Handles the result of an algorithm that modifies an Endpoint.\n   *\n   * @private\n   * @param {*} result\n   * @param {SpinalNodeRef} followedEntityNode\n   * @param {*} params\n   * @return {*}  {Promise<void>}\n   * @memberof AnalyticService\n   */\n  private async handleEndpointResult(\n    result: any,\n    followedEntityNode: SpinalNodeRef,\n    params: any\n  ): Promise<IResult> {\n    const controlEndpointNode = await findEndpoint(\n      followedEntityNode.id.get(),\n      params[CONSTANTS.ATTRIBUTE_RESULT_NAME],\n      0,\n      true,\n      [],\n      CONSTANTS.ENDPOINT_RELATIONS,\n      CONSTANTS.ENDPOINT_NODE_TYPE\n    );\n    if (!controlEndpointNode)\n      return { success: false, error: 'Endpoint node not found' };\n    const controlEndpoint = await controlEndpointNode.element.load();\n    controlEndpoint.currentValue.set(result);\n    this.spinalServiceTimeseries.pushFromEndpoint(\n      controlEndpointNode.id.get(),\n      result\n    );\n    return {\n      success: true,\n      resultValue: result,\n      error: '',\n      resultType: CONSTANTS.ANALYTIC_RESULT_TYPE.ENDPOINT,\n    };\n  }\n\n  /**\n   * Handles the result of an algorithm that sends an SMS.\n   *\n   * @private\n   * @param {*} result\n   * @param {SpinalNodeRef} configNode\n   * @param {SpinalNodeRef} followedEntityNode\n   * @return {*}  {Promise<void>}\n   * @memberof AnalyticService\n   */\n  private async handleSMSResult(\n    result: any,\n    analyticId: string,\n    configNode: SpinalNodeRef,\n    followedEntityNode: SpinalNodeRef\n  ): Promise<IResult> {\n    if (\n      !this.twilioAccountSid ||\n      !this.twilioAuthToken ||\n      !this.twilioFromNumber\n    )\n    \n      return { success: false, error: 'Twilio parameters not found' };\n      \n    if (result == false)\n      return {\n        success: true,\n        resultValue: result,\n        error: '',\n        resultType: CONSTANTS.ANALYTIC_RESULT_TYPE.SMS,\n      };\n    console.log('SMS result');\n    const twilioParams = await this.getAttributesFromNode(\n      configNode.id.get(),\n      CONSTANTS.CATEGORY_ATTRIBUTE_TWILIO_PARAMETERS\n    );\n    const toNumber: string = twilioParams[CONSTANTS.ATTRIBUTE_PHONE_NUMBER];\n    let message = twilioParams[CONSTANTS.ATTRIBUTE_PHONE_MESSAGE];\n    const variables = message.match(/[^{}]+(?=\\})/g) \n    if(variables){\n      for(const variable of variables){\n        const value = await this.getFormattedInputDataByIndex(\n          analyticId,\n          followedEntityNode,\n          variable\n        );\n        message = message.replace(`{${variable}}`, \"\"+value)\n      }\n    }\n    const url = `https://api.twilio.com/2010-04-01/Accounts/${this.twilioAccountSid}/Messages.json`;\n    const entityName: string = followedEntityNode.name\n      .get()\n      .replace(/[0-9]/g, '*');\n    const data = {\n      Body: `Analytic on ${entityName} triggered with the following message : ${message}`,\n      From: this.twilioFromNumber,\n      To: toNumber,\n    };\n    const config = {\n      method: 'POST',\n      headers: { 'content-type': 'application/x-www-form-urlencoded' },\n      auth: {\n        username: this.twilioAccountSid,\n        password: this.twilioAuthToken,\n      },\n      data: stringify(data),\n      url,\n    };\n\n    const axiosResult = await axios(config);\n    console.log({ status: axiosResult.status, data: axiosResult.data });\n    return {\n      success: true,\n      resultValue: result,\n      error: '',\n      resultType: CONSTANTS.ANALYTIC_RESULT_TYPE.SMS,\n    };\n  }\n\n  private async handleGChatMessageResult(\n    result: any,\n    analyticId: string,\n    configNode: SpinalNodeRef,\n    followedEntityNode: SpinalNodeRef\n  ): Promise<IResult> {\n    console.log('Handling Google chat message result');\n    if (result == false)\n      return {\n        success: true,\n        resultValue: result,\n        error: '',\n        resultType: CONSTANTS.ANALYTIC_RESULT_TYPE.GCHAT_MESSAGE,\n      };\n\n    const analyticParams = await this.getAttributesFromNode(\n      configNode.id.get(),\n      CONSTANTS.CATEGORY_ATTRIBUTE_ANALYTIC_PARAMETERS\n    );\n    const gChatParams = await this.getAttributesFromNode(\n      configNode.id.get(),\n      CONSTANTS.CATEGORY_ATTRIBUTE_GCHAT_PARAMETERS\n    );\n\n    const spaceName = gChatParams[CONSTANTS.ATTRIBUTE_GCHAT_SPACE];\n    let message : string  = gChatParams[CONSTANTS.ATTRIBUTE_GCHAT_MESSAGE];\n    const analyticDescription =\n      analyticParams[CONSTANTS.ATTRIBUTE_ANALYTIC_DESCRIPTION];\n    const variables = message.match(/[^{}]+(?=\\})/g) \n    if(variables){\n      for(const variable of variables){\n        const value = await this.getFormattedInputDataByIndex(\n          analyticId,\n          followedEntityNode,\n          variable\n        );\n        message = message.replace(`{${variable}}`, ''+value)\n      }\n    }\n    const resultInfo: IGChatMessageResult = {\n      success: true,\n      resultValue: result,\n      error: '',\n      spaceName: spaceName,\n      message:\n        'The following message has been triggered by an analytic.\\n ' +\n        '\\nAnalysis on item : ' +\n        followedEntityNode.name.get() +\n        '\\nDescription : ' +\n        analyticDescription +\n        '\\nMessage : ' +\n        message,\n      resultType: CONSTANTS.ANALYTIC_RESULT_TYPE.GCHAT_MESSAGE,\n    };\n    return resultInfo;\n  }\n\n  private async handleGChatOrganCardResult(\n    result: any,\n    analyticId: string,\n    configNode: SpinalNodeRef,\n    followedEntityNode: SpinalNodeRef\n  ): Promise<IResult> {\n    console.log('Handling Google chat organ card result');\n\n    if (result == false)\n      return {\n        success: true,\n        resultValue: result,\n        error: '',\n        resultType: CONSTANTS.ANALYTIC_RESULT_TYPE.GCHAT_MESSAGE,\n      };\n\n    const analyticParams = await this.getAttributesFromNode(\n      configNode.id.get(),\n      CONSTANTS.CATEGORY_ATTRIBUTE_ANALYTIC_PARAMETERS\n    );\n    const resultParams = await this.getAttributesFromNode(\n      configNode.id.get(),\n      CONSTANTS.CATEGORY_ATTRIBUTE_RESULT_PARAMETERS\n    );\n    const gChatParams = await this.getAttributesFromNode(\n      configNode.id.get(),\n      CONSTANTS.CATEGORY_ATTRIBUTE_GCHAT_PARAMETERS\n    );\n\n    const title = resultParams[CONSTANTS.ATTRIBUTE_RESULT_NAME];\n    const spaceName: string = gChatParams[CONSTANTS.ATTRIBUTE_GCHAT_SPACE];\n    let message: string = gChatParams[CONSTANTS.ATTRIBUTE_GCHAT_MESSAGE];\n    const variables = message.match(/[^{}]+(?=\\})/g) \n    if(variables){\n      for(const variable of variables){\n        const value = await this.getFormattedInputDataByIndex(\n          analyticId,\n          followedEntityNode,\n          variable\n        );\n        message = message.replace(`{${variable}}`, \"\"+value)\n      }\n    }\n    const analyticDescription: string =\n      analyticParams[CONSTANTS.ATTRIBUTE_ANALYTIC_DESCRIPTION];\n\n    const lastPing = await findEndpoint(\n      followedEntityNode.id.get(),\n      'last_ping',\n      0,\n      true,\n      [],\n      CONSTANTS.ENDPOINT_RELATIONS,\n      CONSTANTS.ENDPOINT_NODE_TYPE\n    );\n    if (!lastPing)\n      return {\n        success: false,\n        error: 'endpoint lastPing not found on organ node',\n      };\n    const lastPingValue = await getValueModelFromEntry(lastPing);\n    const lastPingDate = new Date(lastPingValue.get()).toString();\n    const parents = await SpinalGraphService.getParents(\n      followedEntityNode.id.get(),\n      'HasOrgan'\n    );\n    let platformName = \"Couldn't find the platform name\";\n    let ipAddress = \"Couldn't find the ip adress\";\n    for (const parent of parents) {\n      if (parent.id.get() == followedEntityNode.platformId?.get()) {\n        platformName = parent.name?.get();\n        ipAddress = parent.ipAdress?.get();\n      }\n    }\n    const card: IGChatCard = {\n      header: {\n        title: title,\n        subtitle: new Date().toLocaleDateString(),\n      },\n      sections: [\n        {\n          header: 'Analytic details',\n          widgets: [\n            {\n              keyValue: {\n                topLabel: 'Analytic description',\n                content: analyticDescription,\n              },\n            },\n            {\n              keyValue: {\n                topLabel: 'Message',\n                content: message,\n              },\n            },\n          ],\n        },\n        {\n          header: 'Organ details',\n          widgets: [\n            {\n              keyValue: {\n                topLabel: 'Organ name',\n                content: followedEntityNode.name.get(),\n              },\n            },\n            {\n              keyValue: {\n                topLabel: 'Organ type',\n                content: followedEntityNode.organType?.get(),\n              },\n            },\n            {\n              keyValue: {\n                topLabel: 'Last ping',\n                content: lastPingDate,\n              },\n            },\n          ],\n        },\n        {\n          header: 'Platform details',\n          widgets: [\n            {\n              keyValue: {\n                topLabel: 'Platform name',\n                content: platformName,\n              },\n            },\n            {\n              keyValue: {\n                topLabel: 'Platform id',\n                content: followedEntityNode.platformId?.get(),\n              },\n            },\n            {\n              keyValue: {\n                topLabel: 'Ip Address',\n                content: ipAddress,\n              },\n            },\n          ],\n        },\n      ],\n    };\n    const resultInfo: IGChatOrganCardResult = {\n      success: true,\n      resultValue: result,\n      error: '',\n      spaceName: spaceName,\n      resultType: CONSTANTS.ANALYTIC_RESULT_TYPE.GCHAT_ORGAN_CARD,\n      card: card,\n    };\n    return resultInfo;\n  }\n}\n\nexport { AnalyticService };\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConfigModel = void 0;\nconst spinal_core_connectorjs_type_1 = require(\"spinal-core-connectorjs_type\");\nclass ConfigModel extends spinal_core_connectorjs_type_1.Model {\n    constructor(nodeInfo) {\n        super();\n        this.add_attr(nodeInfo);\n    }\n}\nexports.ConfigModel = ConfigModel;\nspinal_core_connectorjs_type_1.spinalCore.register_models(ConfigModel);\nexports.default = ConfigModel;\n//# sourceMappingURL=ConfigModel.js.map","import { spinalCore, Model } from \"spinal-core-connectorjs_type\";\nimport { IConfig } from \"../interfaces/IConfig\";\n\n\nclass ConfigModel extends Model {\n   constructor(nodeInfo: any) {\n      super();\n      this.add_attr(nodeInfo);\n   }\n}\n\n\n\nspinalCore.register_models(ConfigModel);\nexport default ConfigModel;\nexport {\n   ConfigModel\n}","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EntityModel = void 0;\nconst spinal_core_connectorjs_type_1 = require(\"spinal-core-connectorjs_type\");\nclass EntityModel extends spinal_core_connectorjs_type_1.Model {\n    constructor(entity) {\n        super();\n        this.add_attr(entity);\n    }\n}\nexports.EntityModel = EntityModel;\nspinal_core_connectorjs_type_1.spinalCore.register_models(EntityModel);\nexports.default = EntityModel;\n//# sourceMappingURL=EntityModel.js.map","import { spinalCore, Model } from \"spinal-core-connectorjs_type\";\nimport { IEntity } from \"../interfaces/IEntity\";\n\n\nclass EntityModel extends Model {\n   constructor(entity: IEntity) {\n      super();\n      this.add_attr(entity);\n   }\n}\n\n\n\nspinalCore.register_models(EntityModel);\nexport default EntityModel;\nexport {\n   EntityModel\n}","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InputsModel = void 0;\nconst spinal_core_connectorjs_type_1 = require(\"spinal-core-connectorjs_type\");\nclass InputsModel extends spinal_core_connectorjs_type_1.Model {\n    constructor(inputInfo) {\n        super();\n        this.add_attr(inputInfo);\n    }\n}\nexports.InputsModel = InputsModel;\nspinal_core_connectorjs_type_1.spinalCore.register_models(InputsModel);\nexports.default = InputsModel;\n//# sourceMappingURL=InputsModel.js.map","import { spinalCore, Model } from \"spinal-core-connectorjs_type\";\nimport { IInputs } from \"../interfaces/IInputs\";\n\nclass InputsModel extends Model {\n   constructor(inputInfo: IInputs) {\n      super();\n      this.add_attr(inputInfo);\n\n   }\n}\n\n\n\nspinalCore.register_models(InputsModel);\nexport default InputsModel;\nexport {\n    InputsModel\n}","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.OutputsModel = void 0;\nconst spinal_core_connectorjs_type_1 = require(\"spinal-core-connectorjs_type\");\nclass OutputsModel extends spinal_core_connectorjs_type_1.Model {\n    constructor(outputInfo) {\n        super();\n        this.add_attr(outputInfo);\n    }\n}\nexports.OutputsModel = OutputsModel;\nspinal_core_connectorjs_type_1.spinalCore.register_models(OutputsModel);\nexports.default = OutputsModel;\n//# sourceMappingURL=OutputsModel.js.map","import { spinalCore, Model } from \"spinal-core-connectorjs_type\";\nimport { IOutputs } from \"../interfaces/IOutputs\";\n\n\nclass OutputsModel extends Model {\n   constructor(outputInfo: IOutputs) {\n      super();\n      this.add_attr(outputInfo);\n\n   }\n}\n\n\n\nspinalCore.register_models(OutputsModel);\nexport default OutputsModel;\nexport {\n    OutputsModel\n}","\"use strict\";\n/* eslint-disable @typescript-eslint/no-explicit-any */\n/*\n * Copyright 2022 SpinalCom - www.spinalcom.com\n *\n * This file is part of SpinalCore.\n *\n * Please read all of the following terms and conditions\n * of the Free Software license Agreement (\"Agreement\")\n * carefully.\n *\n * This Agreement is a legally binding contract between\n * the Licensee (as defined below) and SpinalCom that\n * sets forth the terms and conditions that govern your\n * use of the Program. By installing and/or using the\n * Program, you agree to abide by all the terms and\n * conditions stated or referenced herein.\n *\n * If you do not agree to abide by these terms and\n * conditions, do not demonstrate your acceptance and do\n * not install or use the Program.\n * You should have received a copy of the license along\n * with this file. If not, see\n * <http://resources.spinalcom.com/licenses.pdf>.\n */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.safeDeleteNode = exports.addTicketAlarm = exports.formatTrackingMethodsToList = exports.getValueModelFromEntry = exports.findAllCategoriesAndAttributes = exports.findAttributes = exports.findAttribute = exports.findEndpoints = exports.findEndpoint = exports.findNodes = exports.getAvailableData = exports.getChoiceRelationsWithDepth = exports.getRelationsWithDepth = exports.getTicketLocalizationParameters = exports.getAlgorithmParameters = void 0;\nconst spinal_env_viewer_graph_service_1 = require(\"spinal-env-viewer-graph-service\");\nconst spinal_env_viewer_plugin_documentation_service_1 = require(\"spinal-env-viewer-plugin-documentation-service\");\nconst spinal_service_ticket_1 = require(\"spinal-service-ticket\");\nconst spinal_model_bmsnetwork_1 = require(\"spinal-model-bmsnetwork\");\nconst InputDataEndpoint_1 = require(\"../models/InputData/InputDataModel/InputDataEndpoint\");\nconst CONSTANTS = require(\"../constants\");\nconst spinal_models_documentation_1 = require(\"spinal-models-documentation\");\nconst SingletonTimeSeries_1 = require(\"./SingletonTimeSeries\");\nconst serviceTimeseries = SingletonTimeSeries_1.SingletonServiceTimeseries.getInstance();\n/**\n * Uses the documentation service to get the attributes related to the algorithm parameters\n *\n * @export\n * @param {SpinalNodeRef} config\n * @return {*}\n */\nfunction getAlgorithmParameters(config) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const configNode = spinal_env_viewer_graph_service_1.SpinalGraphService.getRealNode(config.id.get());\n        const res = {};\n        const algorithmParameters = yield spinal_env_viewer_plugin_documentation_service_1.attributeService.getAttributesByCategory(configNode, CONSTANTS.CATEGORY_ATTRIBUTE_ALGORTHM_PARAMETERS);\n        for (const param of algorithmParameters) {\n            const obj = param.get();\n            res[obj.label] = obj.value;\n        }\n        return res;\n    });\n}\nexports.getAlgorithmParameters = getAlgorithmParameters;\n/**\n * Uses the documentation service to get the attributes related to the ticket localization\n * (context and process) parameters\n *\n * @export\n * @param {SpinalNodeRef} config\n * @return {*}\n */\nfunction getTicketLocalizationParameters(config) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const configNode = spinal_env_viewer_graph_service_1.SpinalGraphService.getRealNode(config.id.get());\n        const res = {};\n        const localizationParameters = yield spinal_env_viewer_plugin_documentation_service_1.attributeService.getAttributesByCategory(configNode, CONSTANTS.CATEGORY_ATTRIBUTE_TICKET_LOCALIZATION_PARAMETERS);\n        for (const param of localizationParameters) {\n            const obj = param.get();\n            res[obj.label] = obj.value;\n        }\n        return res;\n    });\n}\nexports.getTicketLocalizationParameters = getTicketLocalizationParameters;\nfunction getRelationsWithDepth(nodeId, depth) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const relations = spinal_env_viewer_graph_service_1.SpinalGraphService.getRelationNames(nodeId);\n        if (depth <= 0)\n            return relations;\n        const children = yield spinal_env_viewer_graph_service_1.SpinalGraphService.getChildren(nodeId);\n        for (const child of children) {\n            const childRelations = yield getRelationsWithDepth(child.id.get(), depth - 1);\n            for (const childRelation of childRelations) {\n                if (!relations.includes(childRelation))\n                    relations.push(childRelation);\n            }\n        }\n        return relations;\n    });\n}\nexports.getRelationsWithDepth = getRelationsWithDepth;\nfunction getChoiceRelationsWithDepth(nodeId, depth) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const relations = yield getRelationsWithDepth(nodeId, depth);\n        const usefullRelations = relations.filter((relation) => {\n            return (!CONSTANTS.ENDPOINT_RELATIONS.includes(relation) &&\n                !CONSTANTS.CONTROL_ENDPOINT_RELATIONS.includes(relation));\n        });\n        return usefullRelations;\n    });\n}\nexports.getChoiceRelationsWithDepth = getChoiceRelationsWithDepth;\nfunction getAvailableData(trackMethod, nodeId, filterValue, depth, stricDepth, authorizedRelations) {\n    return __awaiter(this, void 0, void 0, function* () {\n        switch (trackMethod) {\n            case CONSTANTS.TRACK_METHOD.ENDPOINT_NAME_FILTER: {\n                const data = yield findEndpoints(nodeId, filterValue, depth, stricDepth, authorizedRelations, CONSTANTS.ENDPOINT_RELATIONS, CONSTANTS.ENDPOINT_NODE_TYPE);\n                return data.map((endpoint) => endpoint.name.get());\n            }\n            case CONSTANTS.TRACK_METHOD.CONTROL_ENDPOINT_NAME_FILTER: {\n                const data = yield findEndpoints(nodeId, filterValue, depth, stricDepth, authorizedRelations, CONSTANTS.CONTROL_ENDPOINT_RELATIONS, CONSTANTS.ENDPOINT_NODE_TYPE);\n                return data.map((endpoint) => endpoint.name.get());\n            }\n            case CONSTANTS.TRACK_METHOD.ATTRIBUTE_NAME_FILTER: {\n                const [category, attribute] = filterValue.split(':');\n                const data = yield findAttributes(nodeId, category, attribute, depth, stricDepth, authorizedRelations);\n                return data;\n            }\n            default: {\n                console.log('Get available data not implemented yet for this tracking method');\n                return [];\n            }\n        }\n    });\n}\nexports.getAvailableData = getAvailableData;\nfunction findNodes(nodeId, authorizedRelations, nodeType) {\n    return __awaiter(this, void 0, void 0, function* () {\n        let res = [];\n        const children = yield spinal_env_viewer_graph_service_1.SpinalGraphService.getChildren(nodeId, authorizedRelations);\n        for (const child of children) {\n            if (child.type.get() === nodeType) {\n                res.push(child);\n            }\n            else {\n                res = res.concat(yield findNodes(child.id.get(), authorizedRelations, nodeType));\n            }\n        }\n        return res;\n    });\n}\nexports.findNodes = findNodes;\nfunction findSpecificNode(nodeId, filterNameValue, trackedRelations, nodeType) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const endpoints = yield findNodes(nodeId, trackedRelations, nodeType);\n        return endpoints.find((endpoint) => endpoint.name.get() === filterNameValue);\n    });\n}\nfunction findMatchingNodes(nodeId, filterNameValue, trackedRelations, nodeType) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const endpoints = yield findNodes(nodeId, trackedRelations, nodeType);\n        return endpoints.filter((endpoint) => endpoint.name.get().includes(filterNameValue));\n    });\n}\nfunction findEndpoint(nodeId, filterNameValue, depth, strictDepth, authorizedRelations, trackedRelations, nodeType) {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (depth < 0)\n            return undefined;\n        // we dont look further\n        if (depth == 0) {\n            return yield findSpecificNode(nodeId, filterNameValue, trackedRelations, nodeType);\n        }\n        // depth > 0\n        if (!strictDepth) {\n            const foundEndpoint = yield findSpecificNode(nodeId, filterNameValue, trackedRelations, nodeType);\n            if (foundEndpoint)\n                return foundEndpoint;\n        }\n        const allRelations = spinal_env_viewer_graph_service_1.SpinalGraphService.getRelationNames(nodeId);\n        const checkedRelations = allRelations.filter((relation) => authorizedRelations.includes(relation));\n        if (checkedRelations.length === 0)\n            return undefined;\n        const children = yield spinal_env_viewer_graph_service_1.SpinalGraphService.getChildren(nodeId, checkedRelations);\n        for (const child of children) {\n            const endpoint = yield findEndpoint(child.id.get(), filterNameValue, depth - 1, strictDepth, authorizedRelations, trackedRelations, nodeType);\n            if (endpoint)\n                return endpoint;\n        }\n        return undefined;\n    });\n}\nexports.findEndpoint = findEndpoint;\nfunction findEndpoints(nodeId, filterNameValue, depth, strictDepth, authorizedRelations, trackedRelations, nodeType) {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (depth == 0) {\n            return yield findMatchingNodes(nodeId, filterNameValue, trackedRelations, nodeType);\n        }\n        let results = [];\n        if (!strictDepth) {\n            results = results.concat(yield findMatchingNodes(nodeId, filterNameValue, trackedRelations, nodeType));\n        }\n        if (depth <= 0)\n            return results;\n        const allRelations = spinal_env_viewer_graph_service_1.SpinalGraphService.getRelationNames(nodeId);\n        const checkedRelations = allRelations.filter((relation) => authorizedRelations.includes(relation));\n        if (checkedRelations.length === 0)\n            return results;\n        const children = yield spinal_env_viewer_graph_service_1.SpinalGraphService.getChildren(nodeId, checkedRelations);\n        for (const child of children) {\n            results = results.concat(yield findEndpoints(child.id.get(), filterNameValue, depth - 1, strictDepth, authorizedRelations, trackedRelations, nodeType));\n        }\n        return results;\n    });\n}\nexports.findEndpoints = findEndpoints;\nfunction findAttribute(nodeId, categoryName, attributeName, depth, strictDepth, authorizedRelations) {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (depth < 0)\n            return -1;\n        const node = spinal_env_viewer_graph_service_1.SpinalGraphService.getRealNode(nodeId);\n        // we dont look further\n        if (depth == 0) {\n            return yield spinal_env_viewer_plugin_documentation_service_1.attributeService.findOneAttributeInCategory(node, categoryName, attributeName);\n        }\n        // depth > 0\n        if (!strictDepth) {\n            const foundAttribute = yield spinal_env_viewer_plugin_documentation_service_1.attributeService.findOneAttributeInCategory(node, categoryName, attributeName);\n            if (foundAttribute != -1)\n                return foundAttribute;\n        }\n        const allRelations = spinal_env_viewer_graph_service_1.SpinalGraphService.getRelationNames(nodeId);\n        const checkedRelations = allRelations.filter((relation) => authorizedRelations.includes(relation));\n        if (checkedRelations.length === 0)\n            return -1;\n        const children = yield spinal_env_viewer_graph_service_1.SpinalGraphService.getChildren(nodeId, checkedRelations);\n        for (const child of children) {\n            const attribute = yield findAttribute(child.id.get(), categoryName, attributeName, depth - 1, strictDepth, authorizedRelations);\n            if (attribute != -1)\n                return attribute;\n        }\n        return -1;\n    });\n}\nexports.findAttribute = findAttribute;\nfunction findAttributes(nodeId, categoryName, attributeName, depth, strictDepth, authorizedRelations) {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (depth == 0) {\n            return yield findAllCategoriesAndAttributes(nodeId);\n        }\n        let results = [];\n        if (!strictDepth) {\n            results = results.concat(yield findAllCategoriesAndAttributes(nodeId));\n        }\n        if (depth <= 0)\n            return results;\n        const allRelations = spinal_env_viewer_graph_service_1.SpinalGraphService.getRelationNames(nodeId);\n        const checkedRelations = allRelations.filter((relation) => authorizedRelations.includes(relation));\n        if (checkedRelations.length === 0)\n            return results;\n        const children = yield spinal_env_viewer_graph_service_1.SpinalGraphService.getChildren(nodeId, checkedRelations);\n        for (const child of children) {\n            results = results.concat(yield findAttributes(child.id.get(), categoryName, attributeName, depth - 1, strictDepth, authorizedRelations));\n        }\n        return results;\n    });\n}\nexports.findAttributes = findAttributes;\nfunction findAllCategoriesAndAttributes(followedEntityId) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const node = spinal_env_viewer_graph_service_1.SpinalGraphService.getRealNode(followedEntityId);\n        const res = [];\n        const categories = yield spinal_env_viewer_plugin_documentation_service_1.attributeService.getCategory(node);\n        for (const category of categories) {\n            const attributes = yield spinal_env_viewer_plugin_documentation_service_1.attributeService.getAttributesByCategory(node, category);\n            for (const attribute of attributes) {\n                const obj = attribute.get();\n                res.push(`${category.nameCat}:${obj.label}`);\n            }\n        }\n        return res;\n    });\n}\nexports.findAllCategoriesAndAttributes = findAllCategoriesAndAttributes;\nfunction getValueModelFromEntry(entryDataModel) {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (!(entryDataModel instanceof spinal_models_documentation_1.SpinalAttribute)) {\n            const element = yield entryDataModel.element.load();\n            return element.currentValue;\n        }\n        return entryDataModel.value;\n    });\n}\nexports.getValueModelFromEntry = getValueModelFromEntry;\nfunction formatTrackingMethodsToList(obj) {\n    const result = [];\n    const keys = Object.keys(obj);\n    const length = (keys.length - 1) / 4;\n    for (let i = 0; i < length; i++) {\n        const item = {\n            trackingMethod: obj[`trackingMethod${i}`],\n            filterValue: obj[`filterValue${i}`],\n            removeFromAnalysis: obj[`removeFromAnalysis${i}`],\n            removeFromBinding: obj[`removeFromBinding${i}`],\n        };\n        result.push(item);\n    }\n    return result;\n}\nexports.formatTrackingMethodsToList = formatTrackingMethodsToList;\n// ticket creation\n/**\n * Gets the ticket context that has the corresponding contextId\n *\n * @param {string} contextId\n * @return {*}\n */\nfunction getTicketContext(contextId) {\n    const contexts = spinal_env_viewer_graph_service_1.SpinalGraphService.getContextWithType('SpinalSystemServiceTicket');\n    const context = contexts.find((ctx) => {\n        return ctx.info.id.get() == contextId;\n    });\n    return context;\n}\n/**\n * Gets the ticket process that has the corresponding processId in the context that has the corresponding contextId\n *\n * @param {string} contextId\n * @param {string} processId\n * @return {*}\n */\nfunction getTicketProcess(contextId, processId) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const processes = yield spinal_env_viewer_graph_service_1.SpinalGraphService.getChildrenInContext(contextId, contextId);\n        const process = processes.find((process) => {\n            return process.id.get() == processId;\n        });\n        return process;\n    });\n}\n/**\n * Checks if an alarm is already declared in the context and process.\n *\n * @param {string} nodeId\n * @param {string} contextId\n * @param {string} processId\n * @param {string} ticketName\n * @return {*}\n */\nfunction alarmAlreadyDeclared(nodeId, contextId, processId, ticketName) {\n    return __awaiter(this, void 0, void 0, function* () {\n        //SpinalNode\n        const tickets = yield spinal_service_ticket_1.spinalServiceTicket.getAlarmsFromNode(nodeId);\n        const found = tickets.find((ticket) => {\n            return (contextId == ticket.contextId &&\n                processId == ticket.processId &&\n                ticket.name == ticketName);\n        });\n        return found;\n    });\n}\n/**\n * Adds a ticket alarm to the context and process and link it with the node\n *\n * @export\n * @param {*} ticketInfos\n * @param {SpinalNodeRef} configInfo\n * @param {string} nodeId\n */\nfunction addTicketAlarm(ticketInfos, configInfo, analyticContextId, outputNodeId, entityNodeId, ticketType) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const localizationInfo = yield getTicketLocalizationParameters(configInfo);\n        const contextId = localizationInfo[CONSTANTS.ATTRIBUTE_TICKET_CONTEXT_ID];\n        const processId = localizationInfo[CONSTANTS.ATTRIBUTE_TICKET_PROCESS_ID];\n        const context = getTicketContext(contextId);\n        const process = yield getTicketProcess(context.info.id.get(), processId);\n        const alreadyDeclared = yield alarmAlreadyDeclared(entityNodeId, contextId, processId, ticketInfos.name);\n        if (alreadyDeclared) {\n            //just update the ticket\n            const firstStep = yield spinal_service_ticket_1.serviceTicketPersonalized.getFirstStep(processId, contextId);\n            console.log('update ticket ' + ticketInfos.name);\n            const declaredTicketNode = spinal_env_viewer_graph_service_1.SpinalGraphService.getRealNode(alreadyDeclared.id);\n            if (declaredTicketNode.info.stepId.get() == firstStep) {\n                const attr = yield spinal_env_viewer_plugin_documentation_service_1.attributeService.findOneAttributeInCategory(declaredTicketNode, 'default', 'Occurrence number');\n                if (attr != -1) {\n                    // found the attribute\n                    const value = attr.value.get();\n                    const str = value.toString();\n                    const newValueInt = parseInt(str) + 1;\n                    yield spinal_env_viewer_plugin_documentation_service_1.attributeService.updateAttribute(declaredTicketNode, 'default', 'Occurrence number', { value: newValueInt.toString() });\n                    yield updateEndpointOccurenceNumber(declaredTicketNode, newValueInt);\n                }\n            }\n            else {\n                // move the ticket to the first step and reset the occurrence number\n                yield spinal_service_ticket_1.serviceTicketPersonalized.moveTicket(declaredTicketNode.info.id.get(), declaredTicketNode.info.stepId.get(), firstStep, contextId);\n                yield spinal_env_viewer_plugin_documentation_service_1.attributeService.updateAttribute(declaredTicketNode, 'default', 'Occurrence number', { value: '1' });\n                yield updateEndpointOccurenceNumber(declaredTicketNode, 1);\n                console.log(`${ticketInfos.name} has been re-triggered and moved back to the first step`);\n            }\n        }\n        else {\n            console.log('create ticket ' + ticketInfos.name);\n            if (process) {\n                try {\n                    const ticketId = yield spinal_service_ticket_1.spinalServiceTicket.addTicket(ticketInfos, process.id.get(), context.info.id.get(), entityNodeId, ticketType);\n                    if (ticketId instanceof Error)\n                        return;\n                    if (ticketType == 'Alarm') {\n                        spinal_env_viewer_graph_service_1.SpinalGraphService.addChildInContext(outputNodeId, ticketId, analyticContextId, spinal_service_ticket_1.ALARM_RELATION_NAME, spinal_service_ticket_1.TICKET_RELATION_TYPE);\n                    }\n                    else {\n                        spinal_env_viewer_graph_service_1.SpinalGraphService.addChildInContext(outputNodeId, ticketId, analyticContextId, spinal_service_ticket_1.TICKET_RELATION_NAME, spinal_service_ticket_1.TICKET_RELATION_TYPE);\n                    }\n                    if (typeof ticketId === 'string') {\n                        const declaredTicketNode = spinal_env_viewer_graph_service_1.SpinalGraphService.getRealNode(ticketId);\n                        yield spinal_env_viewer_plugin_documentation_service_1.attributeService.updateAttribute(declaredTicketNode, 'default', 'Occurrence number', { value: '1' });\n                        const endpoint = new InputDataEndpoint_1.InputDataEndpoint('Occurence number', 1, '', spinal_model_bmsnetwork_1.InputDataEndpointDataType.Integer, spinal_model_bmsnetwork_1.InputDataEndpointType.Alarm);\n                        const res = new spinal_model_bmsnetwork_1.SpinalBmsEndpoint(endpoint.name, endpoint.path, endpoint.currentValue, endpoint.unit, spinal_model_bmsnetwork_1.InputDataEndpointDataType[endpoint.dataType], spinal_model_bmsnetwork_1.InputDataEndpointType[endpoint.type], endpoint.id);\n                        const childId = spinal_env_viewer_graph_service_1.SpinalGraphService.createNode({ type: spinal_model_bmsnetwork_1.SpinalBmsEndpoint.nodeTypeName, name: endpoint.name }, res);\n                        spinal_env_viewer_graph_service_1.SpinalGraphService.addChild(ticketId, childId, spinal_model_bmsnetwork_1.SpinalBmsEndpoint.relationName, spinal_env_viewer_graph_service_1.SPINAL_RELATION_PTR_LST_TYPE);\n                        yield serviceTimeseries.getOrCreateTimeSeries(childId);\n                        serviceTimeseries.pushFromEndpoint(childId, 1);\n                    }\n                }\n                catch (error) {\n                    console.log('Ticket creation failed');\n                }\n            }\n        }\n    });\n}\nexports.addTicketAlarm = addTicketAlarm;\nfunction updateEndpointOccurenceNumber(ticketNode, newValue) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const endpoints = yield ticketNode.getChildren('hasBmsEndpoint');\n        endpoints.map((endpoint) => __awaiter(this, void 0, void 0, function* () {\n            var _a;\n            // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n            // @ts-ignore\n            spinal_env_viewer_graph_service_1.SpinalGraphService._addNode(endpoint);\n            if (endpoint.info.name.get() == 'Occurence number') {\n                serviceTimeseries.pushFromEndpoint(endpoint.info.id.get(), newValue);\n                const element = yield ((_a = endpoint.element) === null || _a === void 0 ? void 0 : _a.load());\n                element.currentValue.set(newValue);\n            }\n        }));\n    });\n}\nfunction removeChild(parentNode, childNode, relation) {\n    return __awaiter(this, void 0, void 0, function* () {\n        try {\n            yield parentNode.removeChild(childNode, relation, spinal_env_viewer_graph_service_1.SPINAL_RELATION_PTR_LST_TYPE);\n        }\n        catch (e) {\n            try {\n                yield parentNode.removeChild(childNode, relation, spinal_env_viewer_graph_service_1.SPINAL_RELATION_LST_PTR_TYPE);\n            }\n            catch (e) {\n                console.log(e);\n            }\n        }\n    });\n}\nfunction safeDeleteNode(nodeId, shouldDeleteChildren = false) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const realNode = spinal_env_viewer_graph_service_1.SpinalGraphService.getRealNode(nodeId);\n        const relations = realNode.getRelationNames();\n        for (const relation of relations) {\n            const children = yield realNode.getChildren(relation);\n            for (const child of children) {\n                yield removeChild(realNode, child, relation);\n                if (shouldDeleteChildren)\n                    yield child.removeFromGraph();\n            }\n        }\n        yield realNode.removeFromGraph();\n    });\n}\nexports.safeDeleteNode = safeDeleteNode;\n//# sourceMappingURL=utils.js.map","/* eslint-disable @typescript-eslint/no-explicit-any */\n/*\n * Copyright 2022 SpinalCom - www.spinalcom.com\n *\n * This file is part of SpinalCore.\n *\n * Please read all of the following terms and conditions\n * of the Free Software license Agreement (\"Agreement\")\n * carefully.\n *\n * This Agreement is a legally binding contract between\n * the Licensee (as defined below) and SpinalCom that\n * sets forth the terms and conditions that govern your\n * use of the Program. By installing and/or using the\n * Program, you agree to abide by all the terms and\n * conditions stated or referenced herein.\n *\n * If you do not agree to abide by these terms and\n * conditions, do not demonstrate your acceptance and do\n * not install or use the Program.\n * You should have received a copy of the license along\n * with this file. If not, see\n * <http://resources.spinalcom.com/licenses.pdf>.\n */\n\nimport {\n  SpinalGraphService,\n  SpinalNodeRef,\n  SPINAL_RELATION_PTR_LST_TYPE,\n  SPINAL_RELATION_LST_PTR_TYPE,\n  SpinalNode,\n} from 'spinal-env-viewer-graph-service';\nimport { attributeService } from 'spinal-env-viewer-plugin-documentation-service';\nimport {\n  serviceTicketPersonalized,\n  spinalServiceTicket,\n  ALARM_RELATION_NAME,\n  TICKET_RELATION_TYPE,\n  TICKET_RELATION_NAME,\n} from 'spinal-service-ticket';\nimport {\n  InputDataEndpointDataType,\n  InputDataEndpointType,\n  SpinalBmsEndpoint,\n} from 'spinal-model-bmsnetwork';\nimport { InputDataEndpoint } from '../models/InputData/InputDataModel/InputDataEndpoint';\nimport * as CONSTANTS from '../constants';\nimport { SpinalAttribute } from 'spinal-models-documentation';\nimport { SingletonServiceTimeseries } from './SingletonTimeSeries';\n\nconst serviceTimeseries = SingletonServiceTimeseries.getInstance();\n\n/**\n * Uses the documentation service to get the attributes related to the algorithm parameters\n *\n * @export\n * @param {SpinalNodeRef} config\n * @return {*}\n */\nexport async function getAlgorithmParameters(\n  config: SpinalNodeRef\n): Promise<any> {\n  const configNode = SpinalGraphService.getRealNode(config.id.get());\n  const res = {};\n  const algorithmParameters = await attributeService.getAttributesByCategory(\n    configNode,\n    CONSTANTS.CATEGORY_ATTRIBUTE_ALGORTHM_PARAMETERS\n  );\n  for (const param of algorithmParameters) {\n    const obj = param.get();\n    res[obj.label] = obj.value;\n  }\n  return res;\n}\n\n/**\n * Uses the documentation service to get the attributes related to the ticket localization\n * (context and process) parameters\n *\n * @export\n * @param {SpinalNodeRef} config\n * @return {*}\n */\nexport async function getTicketLocalizationParameters(\n  config: SpinalNodeRef\n): Promise<any> {\n  const configNode = SpinalGraphService.getRealNode(config.id.get());\n  const res = {};\n  const localizationParameters = await attributeService.getAttributesByCategory(\n    configNode,\n    CONSTANTS.CATEGORY_ATTRIBUTE_TICKET_LOCALIZATION_PARAMETERS\n  );\n  for (const param of localizationParameters) {\n    const obj = param.get();\n    res[obj.label] = obj.value;\n  }\n  return res;\n}\n\nexport async function getRelationsWithDepth(\n  nodeId: string,\n  depth: number\n): Promise<string[]> {\n  const relations = SpinalGraphService.getRelationNames(nodeId);\n  if (depth <= 0) return relations;\n  const children = await SpinalGraphService.getChildren(nodeId);\n  for (const child of children) {\n    const childRelations = await getRelationsWithDepth(\n      child.id.get(),\n      depth - 1\n    );\n    for (const childRelation of childRelations) {\n      if (!relations.includes(childRelation)) relations.push(childRelation);\n    }\n  }\n  return relations;\n}\n\nexport async function getChoiceRelationsWithDepth(\n  nodeId: string,\n  depth: number\n): Promise<string[]> {\n  const relations = await getRelationsWithDepth(nodeId, depth);\n  const usefullRelations = relations.filter((relation) => {\n    return (\n      !CONSTANTS.ENDPOINT_RELATIONS.includes(relation) &&\n      !CONSTANTS.CONTROL_ENDPOINT_RELATIONS.includes(relation)\n    );\n  });\n  return usefullRelations;\n}\n\nexport async function getAvailableData(\n  trackMethod: CONSTANTS.TRACK_METHOD,\n  nodeId: string,\n  filterValue: string,\n  depth: number,\n  stricDepth: boolean,\n  authorizedRelations: string[]\n): Promise<string[]> {\n  switch (trackMethod) {\n    case CONSTANTS.TRACK_METHOD.ENDPOINT_NAME_FILTER: {\n      const data = await findEndpoints(\n        nodeId,\n        filterValue,\n        depth,\n        stricDepth,\n        authorizedRelations,\n        CONSTANTS.ENDPOINT_RELATIONS,\n        CONSTANTS.ENDPOINT_NODE_TYPE\n      );\n      return data.map((endpoint) => endpoint.name.get());\n    }\n    case CONSTANTS.TRACK_METHOD.CONTROL_ENDPOINT_NAME_FILTER: {\n      const data = await findEndpoints(\n        nodeId,\n        filterValue,\n        depth,\n        stricDepth,\n        authorizedRelations,\n        CONSTANTS.CONTROL_ENDPOINT_RELATIONS,\n        CONSTANTS.ENDPOINT_NODE_TYPE\n      );\n      return data.map((endpoint) => endpoint.name.get());\n    }\n    case CONSTANTS.TRACK_METHOD.ATTRIBUTE_NAME_FILTER: {\n      const [category, attribute] = filterValue.split(':');\n      const data = await findAttributes(\n        nodeId,\n        category,\n        attribute,\n        depth,\n        stricDepth,\n        authorizedRelations\n      );\n      return data;\n    }\n    default: {\n      console.log(\n        'Get available data not implemented yet for this tracking method'\n      );\n      return [];\n    }\n  }\n}\n\nexport async function findNodes(\n  nodeId: string,\n  authorizedRelations: string[],\n  nodeType: string\n): Promise<SpinalNodeRef[]> {\n  let res: SpinalNodeRef[] = [];\n  const children = await SpinalGraphService.getChildren(\n    nodeId,\n    authorizedRelations\n  );\n  for (const child of children) {\n    if (child.type.get() === nodeType) {\n      res.push(child);\n    } else {\n      res = res.concat(\n        await findNodes(child.id.get(), authorizedRelations, nodeType)\n      );\n    }\n  }\n  return res;\n}\n\nasync function findSpecificNode(\n  nodeId: string,\n  filterNameValue: string,\n  trackedRelations: string[],\n  nodeType: string\n): Promise<SpinalNodeRef | undefined> {\n  const endpoints = await findNodes(nodeId, trackedRelations, nodeType);\n  return endpoints.find((endpoint) => endpoint.name.get() === filterNameValue);\n}\n\nasync function findMatchingNodes(\n  nodeId: string,\n  filterNameValue: string,\n  trackedRelations: string[],\n  nodeType: string\n): Promise<SpinalNodeRef[]> {\n  const endpoints = await findNodes(nodeId, trackedRelations, nodeType);\n  return endpoints.filter((endpoint) =>\n    endpoint.name.get().includes(filterNameValue)\n  );\n}\n\nexport async function findEndpoint(\n  nodeId: string,\n  filterNameValue: string,\n  depth: number,\n  strictDepth: boolean,\n  authorizedRelations: string[],\n  trackedRelations: string[],\n  nodeType: string\n): Promise<SpinalNodeRef | undefined> {\n  if (depth < 0) return undefined;\n\n  // we dont look further\n  if (depth == 0) {\n    return await findSpecificNode(\n      nodeId,\n      filterNameValue,\n      trackedRelations,\n      nodeType\n    );\n  }\n\n  // depth > 0\n\n  if (!strictDepth) {\n    const foundEndpoint = await findSpecificNode(\n      nodeId,\n      filterNameValue,\n      trackedRelations,\n      nodeType\n    );\n    if (foundEndpoint) return foundEndpoint;\n  }\n\n  const allRelations = SpinalGraphService.getRelationNames(nodeId);\n  const checkedRelations = allRelations.filter((relation) =>\n    authorizedRelations.includes(relation)\n  );\n\n  if (checkedRelations.length === 0) return undefined;\n\n  const children = await SpinalGraphService.getChildren(\n    nodeId,\n    checkedRelations\n  );\n  for (const child of children) {\n    const endpoint = await findEndpoint(\n      child.id.get(),\n      filterNameValue,\n      depth - 1,\n      strictDepth,\n      authorizedRelations,\n      trackedRelations,\n      nodeType\n    );\n    if (endpoint) return endpoint;\n  }\n  return undefined;\n}\n\nexport async function findEndpoints(\n  nodeId: string,\n  filterNameValue: string,\n  depth: number,\n  strictDepth: boolean,\n  authorizedRelations: string[],\n  trackedRelations: string[],\n  nodeType: string\n): Promise<SpinalNodeRef[]> {\n  if (depth == 0) {\n    return await findMatchingNodes(\n      nodeId,\n      filterNameValue,\n      trackedRelations,\n      nodeType\n    );\n  }\n\n  let results: SpinalNodeRef[] = [];\n\n  if (!strictDepth) {\n    results = results.concat(\n      await findMatchingNodes(\n        nodeId,\n        filterNameValue,\n        trackedRelations,\n        nodeType\n      )\n    );\n  }\n\n  if (depth <= 0) return results;\n\n  const allRelations = SpinalGraphService.getRelationNames(nodeId);\n  const checkedRelations = allRelations.filter((relation) =>\n    authorizedRelations.includes(relation)\n  );\n\n  if (checkedRelations.length === 0) return results;\n\n  const children = await SpinalGraphService.getChildren(\n    nodeId,\n    checkedRelations\n  );\n  for (const child of children) {\n    results = results.concat(\n      await findEndpoints(\n        child.id.get(),\n        filterNameValue,\n        depth - 1,\n        strictDepth,\n        authorizedRelations,\n        trackedRelations,\n        nodeType\n      )\n    );\n  }\n\n  return results;\n}\n\nexport async function findAttribute(\n  nodeId: string,\n  categoryName: string,\n  attributeName: string,\n  depth: number,\n  strictDepth: boolean,\n  authorizedRelations: string[]\n): Promise<SpinalAttribute | -1> {\n  if (depth < 0) return -1;\n\n  const node = SpinalGraphService.getRealNode(nodeId);\n  // we dont look further\n  if (depth == 0) {\n    return await attributeService.findOneAttributeInCategory(\n      node,\n      categoryName,\n      attributeName\n    );\n  }\n\n  // depth > 0\n  if (!strictDepth) {\n    const foundAttribute = await attributeService.findOneAttributeInCategory(\n      node,\n      categoryName,\n      attributeName\n    );\n    if (foundAttribute != -1) return foundAttribute;\n  }\n\n  const allRelations = SpinalGraphService.getRelationNames(nodeId);\n  const checkedRelations = allRelations.filter((relation) =>\n    authorizedRelations.includes(relation)\n  );\n\n  if (checkedRelations.length === 0) return -1;\n\n  const children = await SpinalGraphService.getChildren(\n    nodeId,\n    checkedRelations\n  );\n  for (const child of children) {\n    const attribute = await findAttribute(\n      child.id.get(),\n      categoryName,\n      attributeName,\n      depth - 1,\n      strictDepth,\n      authorizedRelations\n    );\n    if (attribute != -1) return attribute;\n  }\n  return -1;\n}\n\nexport async function findAttributes(\n  nodeId: string,\n  categoryName: string,\n  attributeName: string,\n  depth: number,\n  strictDepth: boolean,\n  authorizedRelations: string[]\n): Promise<string[]> {\n  if (depth == 0) {\n    return await findAllCategoriesAndAttributes(nodeId);\n  }\n\n  let results: string[] = [];\n\n  if (!strictDepth) {\n    results = results.concat(await findAllCategoriesAndAttributes(nodeId));\n  }\n\n  if (depth <= 0) return results;\n\n  const allRelations = SpinalGraphService.getRelationNames(nodeId);\n  const checkedRelations = allRelations.filter((relation) =>\n    authorizedRelations.includes(relation)\n  );\n\n  if (checkedRelations.length === 0) return results;\n\n  const children = await SpinalGraphService.getChildren(\n    nodeId,\n    checkedRelations\n  );\n  for (const child of children) {\n    results = results.concat(\n      await findAttributes(\n        child.id.get(),\n        categoryName,\n        attributeName,\n        depth - 1,\n        strictDepth,\n        authorizedRelations\n      )\n    );\n  }\n\n  return results;\n}\n\nexport async function findAllCategoriesAndAttributes(\n  followedEntityId: string\n): Promise<string[]> {\n  const node = SpinalGraphService.getRealNode(followedEntityId);\n  const res: string[] = [];\n  const categories = await attributeService.getCategory(node);\n  for (const category of categories) {\n    const attributes = await attributeService.getAttributesByCategory(\n      node,\n      category\n    );\n    for (const attribute of attributes) {\n      const obj = attribute.get();\n      res.push(`${category.nameCat}:${obj.label}`);\n    }\n  }\n  return res;\n}\n\nexport async function getValueModelFromEntry(\n  entryDataModel: SpinalNodeRef | SpinalAttribute\n): Promise<spinal.Model> {\n  if (!(entryDataModel instanceof SpinalAttribute)) {\n    const element = await entryDataModel.element.load();\n    return element.currentValue;\n  }\n  return entryDataModel.value;\n}\n\nexport function formatTrackingMethodsToList(obj): any[] {\n  const result: any = [];\n  const keys = Object.keys(obj);\n  const length = (keys.length - 1) / 4;\n\n  for (let i = 0; i < length; i++) {\n    const item = {\n      trackingMethod: obj[`trackingMethod${i}`],\n      filterValue: obj[`filterValue${i}`],\n      removeFromAnalysis: obj[`removeFromAnalysis${i}`],\n      removeFromBinding: obj[`removeFromBinding${i}`],\n    };\n    result.push(item);\n  }\n  return result;\n}\n// ticket creation\n\n/**\n * Gets the ticket context that has the corresponding contextId\n *\n * @param {string} contextId\n * @return {*}\n */\nfunction getTicketContext(contextId: string) {\n  const contexts = SpinalGraphService.getContextWithType(\n    'SpinalSystemServiceTicket'\n  );\n  const context = contexts.find((ctx) => {\n    return ctx.info.id.get() == contextId;\n  });\n  return context;\n}\n\n/**\n * Gets the ticket process that has the corresponding processId in the context that has the corresponding contextId\n *\n * @param {string} contextId\n * @param {string} processId\n * @return {*}\n */\nasync function getTicketProcess(contextId: string, processId: string) {\n  const processes = await SpinalGraphService.getChildrenInContext(\n    contextId,\n    contextId\n  );\n  const process = processes.find((process) => {\n    return process.id.get() == processId;\n  });\n  return process;\n}\n\n/**\n * Checks if an alarm is already declared in the context and process.\n *\n * @param {string} nodeId\n * @param {string} contextId\n * @param {string} processId\n * @param {string} ticketName\n * @return {*}\n */\nasync function alarmAlreadyDeclared(\n  nodeId: string,\n  contextId: string,\n  processId: string,\n  ticketName: string\n) {\n  //SpinalNode\n  const tickets = await spinalServiceTicket.getAlarmsFromNode(nodeId);\n  const found = tickets.find((ticket) => {\n    return (\n      contextId == ticket.contextId &&\n      processId == ticket.processId &&\n      ticket.name == ticketName\n    );\n  });\n\n  return found;\n}\n\n/**\n * Adds a ticket alarm to the context and process and link it with the node\n *\n * @export\n * @param {*} ticketInfos\n * @param {SpinalNodeRef} configInfo\n * @param {string} nodeId\n */\nexport async function addTicketAlarm(\n  ticketInfos: any,\n  configInfo: SpinalNodeRef,\n  analyticContextId: string,\n  outputNodeId: string,\n  entityNodeId: string,\n  ticketType: string\n) {\n  const localizationInfo = await getTicketLocalizationParameters(configInfo);\n  const contextId: string =\n    localizationInfo[CONSTANTS.ATTRIBUTE_TICKET_CONTEXT_ID];\n  const processId: string =\n    localizationInfo[CONSTANTS.ATTRIBUTE_TICKET_PROCESS_ID];\n  const context = getTicketContext(contextId);\n  const process = await getTicketProcess(context.info.id.get(), processId);\n\n  const alreadyDeclared = await alarmAlreadyDeclared(\n    entityNodeId,\n    contextId,\n    processId,\n    ticketInfos.name\n  );\n\n  if (alreadyDeclared) {\n    //just update the ticket\n    const firstStep = await serviceTicketPersonalized.getFirstStep(\n      processId,\n      contextId\n    );\n    console.log('update ticket ' + ticketInfos.name);\n    const declaredTicketNode = SpinalGraphService.getRealNode(\n      alreadyDeclared.id\n    );\n    if (declaredTicketNode.info.stepId.get() == firstStep) {\n      const attr = await attributeService.findOneAttributeInCategory(\n        declaredTicketNode,\n        'default',\n        'Occurrence number'\n      );\n      if (attr != -1) {\n        // found the attribute\n        const value = attr.value.get();\n        const str = value.toString();\n        const newValueInt = parseInt(str) + 1;\n        await attributeService.updateAttribute(\n          declaredTicketNode,\n          'default',\n          'Occurrence number',\n          { value: newValueInt.toString() }\n        );\n        await updateEndpointOccurenceNumber(declaredTicketNode, newValueInt);\n      }\n    } else {\n      // move the ticket to the first step and reset the occurrence number\n      await serviceTicketPersonalized.moveTicket(\n        declaredTicketNode.info.id.get(),\n        declaredTicketNode.info.stepId.get(),\n        firstStep,\n        contextId\n      );\n      await attributeService.updateAttribute(\n        declaredTicketNode,\n        'default',\n        'Occurrence number',\n        { value: '1' }\n      );\n      await updateEndpointOccurenceNumber(declaredTicketNode, 1);\n      console.log(\n        `${ticketInfos.name} has been re-triggered and moved back to the first step`\n      );\n    }\n  } else {\n    console.log('create ticket ' + ticketInfos.name);\n    if (process) {\n      try {\n        const ticketId = await spinalServiceTicket.addTicket(\n          ticketInfos,\n          process.id.get(),\n          context.info.id.get(),\n          entityNodeId,\n          ticketType\n        );\n        if (ticketId instanceof Error) return;\n        if (ticketType == 'Alarm') {\n          SpinalGraphService.addChildInContext(\n            outputNodeId,\n            ticketId,\n            analyticContextId,\n            ALARM_RELATION_NAME,\n            TICKET_RELATION_TYPE\n          );\n        } else {\n          SpinalGraphService.addChildInContext(\n            outputNodeId,\n            ticketId,\n            analyticContextId,\n            TICKET_RELATION_NAME,\n            TICKET_RELATION_TYPE\n          );\n        }\n\n        if (typeof ticketId === 'string') {\n          const declaredTicketNode = SpinalGraphService.getRealNode(ticketId);\n          await attributeService.updateAttribute(\n            declaredTicketNode,\n            'default',\n            'Occurrence number',\n            { value: '1' }\n          );\n          const endpoint = new InputDataEndpoint(\n            'Occurence number',\n            1,\n            '',\n            InputDataEndpointDataType.Integer,\n            InputDataEndpointType.Alarm\n          );\n\n          const res = new SpinalBmsEndpoint(\n            endpoint.name,\n            endpoint.path,\n            endpoint.currentValue,\n            endpoint.unit,\n            InputDataEndpointDataType[endpoint.dataType],\n            InputDataEndpointType[endpoint.type],\n            endpoint.id\n          );\n\n          const childId = SpinalGraphService.createNode(\n            { type: SpinalBmsEndpoint.nodeTypeName, name: endpoint.name },\n            res\n          );\n          SpinalGraphService.addChild(\n            ticketId,\n            childId,\n            SpinalBmsEndpoint.relationName,\n            SPINAL_RELATION_PTR_LST_TYPE\n          );\n          await serviceTimeseries.getOrCreateTimeSeries(childId);\n          serviceTimeseries.pushFromEndpoint(childId, 1);\n        }\n      } catch (error) {\n        console.log('Ticket creation failed');\n      }\n    }\n  }\n}\n\nasync function updateEndpointOccurenceNumber(\n  ticketNode: SpinalNode<any>,\n  newValue: number\n) {\n  const endpoints = await ticketNode.getChildren('hasBmsEndpoint');\n  endpoints.map(async (endpoint) => {\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    SpinalGraphService._addNode(endpoint);\n    if (endpoint.info.name.get() == 'Occurence number') {\n      serviceTimeseries.pushFromEndpoint(endpoint.info.id.get(), newValue);\n\n      const element = await endpoint.element?.load();\n      element.currentValue.set(newValue);\n    }\n  });\n}\n\nasync function removeChild(\n  parentNode: SpinalNode<any>,\n  childNode: SpinalNode<any>,\n  relation: string\n): Promise<void> {\n  try {\n    await parentNode.removeChild(\n      childNode,\n      relation,\n      SPINAL_RELATION_PTR_LST_TYPE\n    );\n  } catch (e) {\n    try {\n      await parentNode.removeChild(\n        childNode,\n        relation,\n        SPINAL_RELATION_LST_PTR_TYPE\n      );\n    } catch (e) {\n      console.log(e);\n    }\n  }\n}\n\nexport async function safeDeleteNode(\n  nodeId: string,\n  shouldDeleteChildren = false\n): Promise<void> {\n  const realNode = SpinalGraphService.getRealNode(nodeId);\n  const relations = realNode.getRelationNames();\n  for (const relation of relations) {\n    const children = await realNode.getChildren(relation);\n    for (const child of children) {\n      await removeChild(realNode, child, relation);\n      if (shouldDeleteChildren) await child.removeFromGraph();\n    }\n  }\n  await realNode.removeFromGraph();\n}\n","\"use strict\";\n/*\n * Copyright 2018 SpinalCom - www.spinalcom.com\n *\n * This file is part of SpinalCore.\n *\n * Please read all of the following terms and conditions\n * of the Free Software license Agreement (\"Agreement\")\n * carefully.\n *\n * This Agreement is a legally binding contract between\n * the Licensee (as defined below) and SpinalCom that\n * sets forth the terms and conditions that govern your\n * use of the Program. By installing and/or using the\n * Program, you agree to abide by all the terms and\n * conditions stated or referenced herein.\n *\n * If you do not agree to abide by these terms and\n * conditions, do not demonstrate your acceptance and do\n * not install or use the Program.\n * You should have received a copy of the license along\n * with this file. If not, see\n * <http://resources.spinalcom.com/licenses.pdf>.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InputDataEndpoint = void 0;\nconst spinal_model_bmsnetwork_1 = require(\"spinal-model-bmsnetwork\");\nconst genUID_1 = require(\"../genUID\");\n/**\n * @property {string} id\n * @property {string} name\n * @property {string} path\n * @property {number | string} currentValue\n * @property {string} unit\n * @property {InputDataEndpointDataType} dataType\n * @property {InputDataEndpointType} type\n * @property {string} nodeTypeName equal SpinalBmsEndpoint.nodeTypeName\n * @property {any[]} timeseries\n * @export\n * @class InputDataEndpoint\n * @implements {idEndpoint}\n */\nclass InputDataEndpoint {\n    /**\n     *Creates an instance of InputDataEndpoint.\n     * @param {string} [name='default endpoint name']\n     * @param {(number | string)} [currentValue=0]\n     * @param {string} [unit='unit']\n     * @param {InputDataEndpointDataType} [dataType=InputDataEndpointDataType.Integer]\n     * @param {InputDataEndpointType} [type=InputDataEndpointType.Other]\n     * @param {string} [id=genUID('InputDataEndpoint')]\n     * @param {string} [path='default endpoint path']\n     * @memberof InputDataEndpoint\n     */\n    constructor(name = \"default endpoint name\", currentValue = 0, unit = \"unit\", dataType = spinal_model_bmsnetwork_1.InputDataEndpointDataType.Integer, type = spinal_model_bmsnetwork_1.InputDataEndpointType.Other, id = (0, genUID_1.genUID)(\"InputDataEndpoint\"), path = \"default endpoint path\") {\n        this.nodeTypeName = spinal_model_bmsnetwork_1.SpinalBmsEndpoint.nodeTypeName;\n        this.id = id;\n        this.name = name;\n        this.type = type;\n        this.path = path;\n        this.currentValue = currentValue;\n        this.unit = unit;\n        this.dataType = dataType;\n        this.timeseries = [];\n        this.idx = Math.floor(Math.random() * 100);\n    }\n}\nexports.InputDataEndpoint = InputDataEndpoint;\n//# sourceMappingURL=InputDataEndpoint.js.map","/*\n * Copyright 2018 SpinalCom - www.spinalcom.com\n *\n * This file is part of SpinalCore.\n *\n * Please read all of the following terms and conditions\n * of the Free Software license Agreement (\"Agreement\")\n * carefully.\n *\n * This Agreement is a legally binding contract between\n * the Licensee (as defined below) and SpinalCom that\n * sets forth the terms and conditions that govern your\n * use of the Program. By installing and/or using the\n * Program, you agree to abide by all the terms and\n * conditions stated or referenced herein.\n *\n * If you do not agree to abide by these terms and\n * conditions, do not demonstrate your acceptance and do\n * not install or use the Program.\n * You should have received a copy of the license along\n * with this file. If not, see\n * <http://resources.spinalcom.com/licenses.pdf>.\n */\n\nimport {\n  InputDataEndpoint as idEndpoint,\n  InputDataEndpointDataType,\n  InputDataEndpointType,\n  SpinalBmsEndpoint\n} from \"spinal-model-bmsnetwork\";\n\nimport { genUID } from \"../genUID\";\n/**\n * @property {string} id\n * @property {string} name\n * @property {string} path\n * @property {number | string} currentValue\n * @property {string} unit\n * @property {InputDataEndpointDataType} dataType\n * @property {InputDataEndpointType} type\n * @property {string} nodeTypeName equal SpinalBmsEndpoint.nodeTypeName\n * @property {any[]} timeseries\n * @export\n * @class InputDataEndpoint\n * @implements {idEndpoint}\n */\nexport class InputDataEndpoint implements idEndpoint {\n  public id: string;\n  public name: string;\n  public path: string;\n  public currentValue: number | string | boolean;\n  public unit: string;\n  public dataType: InputDataEndpointDataType;\n  public type: InputDataEndpointType;\n  public nodeTypeName: string;\n  public timeseries: any[];\n  public idx: number;\n\n  /**\n   *Creates an instance of InputDataEndpoint.\n   * @param {string} [name='default endpoint name']\n   * @param {(number | string)} [currentValue=0]\n   * @param {string} [unit='unit']\n   * @param {InputDataEndpointDataType} [dataType=InputDataEndpointDataType.Integer]\n   * @param {InputDataEndpointType} [type=InputDataEndpointType.Other]\n   * @param {string} [id=genUID('InputDataEndpoint')]\n   * @param {string} [path='default endpoint path']\n   * @memberof InputDataEndpoint\n   */\n  constructor(\n    name = \"default endpoint name\",\n    currentValue: number | string | boolean = 0,\n    unit = \"unit\",\n    dataType: InputDataEndpointDataType = InputDataEndpointDataType.Integer,\n    type: InputDataEndpointType = InputDataEndpointType.Other,\n    id: string = genUID(\"InputDataEndpoint\"),\n    path = \"default endpoint path\"\n  ) {\n    this.nodeTypeName = SpinalBmsEndpoint.nodeTypeName;\n    this.id = id;\n    this.name = name;\n    this.type = type;\n    this.path = path;\n    this.currentValue = currentValue;\n    this.unit = unit;\n    this.dataType = dataType;\n    this.timeseries = [];\n    this.idx = Math.floor(Math.random() * 100);\n  }\n}\n","\"use strict\";\n/*\n * Copyright 2018 SpinalCom - www.spinalcom.com\n *\n * This file is part of SpinalCore.\n *\n * Please read all of the following terms and conditions\n * of the Free Software license Agreement (\"Agreement\")\n * carefully.\n *\n * This Agreement is a legally binding contract between\n * the Licensee (as defined below) and SpinalCom that\n * sets forth the terms and conditions that govern your\n * use of the Program. By installing and/or using the\n * Program, you agree to abide by all the terms and\n * conditions stated or referenced herein.\n *\n * If you do not agree to abide by these terms and\n * conditions, do not demonstrate your acceptance and do\n * not install or use the Program.\n * You should have received a copy of the license along\n * with this file. If not, see\n * <http://resources.spinalcom.com/licenses.pdf>.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.genUID = void 0;\nfunction s4() {\n    return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n}\nfunction genUID(constructor) {\n    const res = `${constructor}-${s4() + s4()}-${s4()}-${s4()}-${s4()}-${s4() + s4() + s4()}-${Date.now().toString(16)}`;\n    return res;\n}\nexports.genUID = genUID;\n//# sourceMappingURL=genUID.js.map","/*\n * Copyright 2018 SpinalCom - www.spinalcom.com\n *\n * This file is part of SpinalCore.\n *\n * Please read all of the following terms and conditions\n * of the Free Software license Agreement (\"Agreement\")\n * carefully.\n *\n * This Agreement is a legally binding contract between\n * the Licensee (as defined below) and SpinalCom that\n * sets forth the terms and conditions that govern your\n * use of the Program. By installing and/or using the\n * Program, you agree to abide by all the terms and\n * conditions stated or referenced herein.\n *\n * If you do not agree to abide by these terms and\n * conditions, do not demonstrate your acceptance and do\n * not install or use the Program.\n * You should have received a copy of the license along\n * with this file. If not, see\n * <http://resources.spinalcom.com/licenses.pdf>.\n */\n\nfunction s4(): string {\n  return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n}\n\nfunction genUID(constructor: string): string {\n  const res = `${constructor}-${s4() + s4()}-${s4()}-${s4()}-${s4()}-${\n      s4() + s4() + s4()}-${Date.now().toString(16)}`;\n\n  return res;\n}\n\nexport { genUID };\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SingletonServiceTimeseries = void 0;\nconst spinal_model_timeseries_1 = require(\"spinal-model-timeseries\");\nclass SingletonServiceTimeseries {\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    constructor() { }\n    static getInstance() {\n        if (!SingletonServiceTimeseries.instance) {\n            SingletonServiceTimeseries.instance = new spinal_model_timeseries_1.SpinalServiceTimeseries();\n        }\n        return SingletonServiceTimeseries.instance;\n    }\n}\nexports.SingletonServiceTimeseries = SingletonServiceTimeseries;\nSingletonServiceTimeseries.instance = new spinal_model_timeseries_1.SpinalServiceTimeseries();\n//# sourceMappingURL=SingletonTimeSeries.js.map","import { SpinalServiceTimeseries } from 'spinal-model-timeseries';\n\nexport class SingletonServiceTimeseries {\n  private static instance: SpinalServiceTimeseries =\n    new SpinalServiceTimeseries();\n\n  // eslint-disable-next-line @typescript-eslint/no-empty-function\n  private constructor() {}\n\n  public static getInstance(): SpinalServiceTimeseries {\n    if (!SingletonServiceTimeseries.instance) {\n      SingletonServiceTimeseries.instance = new SpinalServiceTimeseries();\n    }\n\n    return SingletonServiceTimeseries.instance;\n  }\n}\n","'use strict';\n\nvar stringify = require('./stringify');\nvar parse = require('./parse');\nvar formats = require('./formats');\n\nmodule.exports = {\n    formats: formats,\n    parse: parse,\n    stringify: stringify\n};\n","'use strict';\n\nvar getSideChannel = require('side-channel');\nvar utils = require('./utils');\nvar formats = require('./formats');\nvar has = Object.prototype.hasOwnProperty;\n\nvar arrayPrefixGenerators = {\n    brackets: function brackets(prefix) {\n        return prefix + '[]';\n    },\n    comma: 'comma',\n    indices: function indices(prefix, key) {\n        return prefix + '[' + key + ']';\n    },\n    repeat: function repeat(prefix) {\n        return prefix;\n    }\n};\n\nvar isArray = Array.isArray;\nvar push = Array.prototype.push;\nvar pushToArray = function (arr, valueOrArray) {\n    push.apply(arr, isArray(valueOrArray) ? valueOrArray : [valueOrArray]);\n};\n\nvar toISO = Date.prototype.toISOString;\n\nvar defaultFormat = formats['default'];\nvar defaults = {\n    addQueryPrefix: false,\n    allowDots: false,\n    allowEmptyArrays: false,\n    arrayFormat: 'indices',\n    charset: 'utf-8',\n    charsetSentinel: false,\n    delimiter: '&',\n    encode: true,\n    encodeDotInKeys: false,\n    encoder: utils.encode,\n    encodeValuesOnly: false,\n    format: defaultFormat,\n    formatter: formats.formatters[defaultFormat],\n    // deprecated\n    indices: false,\n    serializeDate: function serializeDate(date) {\n        return toISO.call(date);\n    },\n    skipNulls: false,\n    strictNullHandling: false\n};\n\nvar isNonNullishPrimitive = function isNonNullishPrimitive(v) {\n    return typeof v === 'string'\n        || typeof v === 'number'\n        || typeof v === 'boolean'\n        || typeof v === 'symbol'\n        || typeof v === 'bigint';\n};\n\nvar sentinel = {};\n\nvar stringify = function stringify(\n    object,\n    prefix,\n    generateArrayPrefix,\n    commaRoundTrip,\n    allowEmptyArrays,\n    strictNullHandling,\n    skipNulls,\n    encodeDotInKeys,\n    encoder,\n    filter,\n    sort,\n    allowDots,\n    serializeDate,\n    format,\n    formatter,\n    encodeValuesOnly,\n    charset,\n    sideChannel\n) {\n    var obj = object;\n\n    var tmpSc = sideChannel;\n    var step = 0;\n    var findFlag = false;\n    while ((tmpSc = tmpSc.get(sentinel)) !== void undefined && !findFlag) {\n        // Where object last appeared in the ref tree\n        var pos = tmpSc.get(object);\n        step += 1;\n        if (typeof pos !== 'undefined') {\n            if (pos === step) {\n                throw new RangeError('Cyclic object value');\n            } else {\n                findFlag = true; // Break while\n            }\n        }\n        if (typeof tmpSc.get(sentinel) === 'undefined') {\n            step = 0;\n        }\n    }\n\n    if (typeof filter === 'function') {\n        obj = filter(prefix, obj);\n    } else if (obj instanceof Date) {\n        obj = serializeDate(obj);\n    } else if (generateArrayPrefix === 'comma' && isArray(obj)) {\n        obj = utils.maybeMap(obj, function (value) {\n            if (value instanceof Date) {\n                return serializeDate(value);\n            }\n            return value;\n        });\n    }\n\n    if (obj === null) {\n        if (strictNullHandling) {\n            return encoder && !encodeValuesOnly ? encoder(prefix, defaults.encoder, charset, 'key', format) : prefix;\n        }\n\n        obj = '';\n    }\n\n    if (isNonNullishPrimitive(obj) || utils.isBuffer(obj)) {\n        if (encoder) {\n            var keyValue = encodeValuesOnly ? prefix : encoder(prefix, defaults.encoder, charset, 'key', format);\n            return [formatter(keyValue) + '=' + formatter(encoder(obj, defaults.encoder, charset, 'value', format))];\n        }\n        return [formatter(prefix) + '=' + formatter(String(obj))];\n    }\n\n    var values = [];\n\n    if (typeof obj === 'undefined') {\n        return values;\n    }\n\n    var objKeys;\n    if (generateArrayPrefix === 'comma' && isArray(obj)) {\n        // we need to join elements in\n        if (encodeValuesOnly && encoder) {\n            obj = utils.maybeMap(obj, encoder);\n        }\n        objKeys = [{ value: obj.length > 0 ? obj.join(',') || null : void undefined }];\n    } else if (isArray(filter)) {\n        objKeys = filter;\n    } else {\n        var keys = Object.keys(obj);\n        objKeys = sort ? keys.sort(sort) : keys;\n    }\n\n    var encodedPrefix = encodeDotInKeys ? prefix.replace(/\\./g, '%2E') : prefix;\n\n    var adjustedPrefix = commaRoundTrip && isArray(obj) && obj.length === 1 ? encodedPrefix + '[]' : encodedPrefix;\n\n    if (allowEmptyArrays && isArray(obj) && obj.length === 0) {\n        return adjustedPrefix + '[]';\n    }\n\n    for (var j = 0; j < objKeys.length; ++j) {\n        var key = objKeys[j];\n        var value = typeof key === 'object' && typeof key.value !== 'undefined' ? key.value : obj[key];\n\n        if (skipNulls && value === null) {\n            continue;\n        }\n\n        var encodedKey = allowDots && encodeDotInKeys ? key.replace(/\\./g, '%2E') : key;\n        var keyPrefix = isArray(obj)\n            ? typeof generateArrayPrefix === 'function' ? generateArrayPrefix(adjustedPrefix, encodedKey) : adjustedPrefix\n            : adjustedPrefix + (allowDots ? '.' + encodedKey : '[' + encodedKey + ']');\n\n        sideChannel.set(object, step);\n        var valueSideChannel = getSideChannel();\n        valueSideChannel.set(sentinel, sideChannel);\n        pushToArray(values, stringify(\n            value,\n            keyPrefix,\n            generateArrayPrefix,\n            commaRoundTrip,\n            allowEmptyArrays,\n            strictNullHandling,\n            skipNulls,\n            encodeDotInKeys,\n            generateArrayPrefix === 'comma' && encodeValuesOnly && isArray(obj) ? null : encoder,\n            filter,\n            sort,\n            allowDots,\n            serializeDate,\n            format,\n            formatter,\n            encodeValuesOnly,\n            charset,\n            valueSideChannel\n        ));\n    }\n\n    return values;\n};\n\nvar normalizeStringifyOptions = function normalizeStringifyOptions(opts) {\n    if (!opts) {\n        return defaults;\n    }\n\n    if (typeof opts.allowEmptyArrays !== 'undefined' && typeof opts.allowEmptyArrays !== 'boolean') {\n        throw new TypeError('`allowEmptyArrays` option can only be `true` or `false`, when provided');\n    }\n\n    if (typeof opts.encodeDotInKeys !== 'undefined' && typeof opts.encodeDotInKeys !== 'boolean') {\n        throw new TypeError('`encodeDotInKeys` option can only be `true` or `false`, when provided');\n    }\n\n    if (opts.encoder !== null && typeof opts.encoder !== 'undefined' && typeof opts.encoder !== 'function') {\n        throw new TypeError('Encoder has to be a function.');\n    }\n\n    var charset = opts.charset || defaults.charset;\n    if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {\n        throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined');\n    }\n\n    var format = formats['default'];\n    if (typeof opts.format !== 'undefined') {\n        if (!has.call(formats.formatters, opts.format)) {\n            throw new TypeError('Unknown format option provided.');\n        }\n        format = opts.format;\n    }\n    var formatter = formats.formatters[format];\n\n    var filter = defaults.filter;\n    if (typeof opts.filter === 'function' || isArray(opts.filter)) {\n        filter = opts.filter;\n    }\n\n    var arrayFormat;\n    if (opts.arrayFormat in arrayPrefixGenerators) {\n        arrayFormat = opts.arrayFormat;\n    } else if ('indices' in opts) {\n        arrayFormat = opts.indices ? 'indices' : 'repeat';\n    } else {\n        arrayFormat = defaults.arrayFormat;\n    }\n\n    if ('commaRoundTrip' in opts && typeof opts.commaRoundTrip !== 'boolean') {\n        throw new TypeError('`commaRoundTrip` must be a boolean, or absent');\n    }\n\n    var allowDots = typeof opts.allowDots === 'undefined' ? opts.encodeDotInKeys === true ? true : defaults.allowDots : !!opts.allowDots;\n\n    return {\n        addQueryPrefix: typeof opts.addQueryPrefix === 'boolean' ? opts.addQueryPrefix : defaults.addQueryPrefix,\n        allowDots: allowDots,\n        allowEmptyArrays: typeof opts.allowEmptyArrays === 'boolean' ? !!opts.allowEmptyArrays : defaults.allowEmptyArrays,\n        arrayFormat: arrayFormat,\n        charset: charset,\n        charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,\n        commaRoundTrip: opts.commaRoundTrip,\n        delimiter: typeof opts.delimiter === 'undefined' ? defaults.delimiter : opts.delimiter,\n        encode: typeof opts.encode === 'boolean' ? opts.encode : defaults.encode,\n        encodeDotInKeys: typeof opts.encodeDotInKeys === 'boolean' ? opts.encodeDotInKeys : defaults.encodeDotInKeys,\n        encoder: typeof opts.encoder === 'function' ? opts.encoder : defaults.encoder,\n        encodeValuesOnly: typeof opts.encodeValuesOnly === 'boolean' ? opts.encodeValuesOnly : defaults.encodeValuesOnly,\n        filter: filter,\n        format: format,\n        formatter: formatter,\n        serializeDate: typeof opts.serializeDate === 'function' ? opts.serializeDate : defaults.serializeDate,\n        skipNulls: typeof opts.skipNulls === 'boolean' ? opts.skipNulls : defaults.skipNulls,\n        sort: typeof opts.sort === 'function' ? opts.sort : null,\n        strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling\n    };\n};\n\nmodule.exports = function (object, opts) {\n    var obj = object;\n    var options = normalizeStringifyOptions(opts);\n\n    var objKeys;\n    var filter;\n\n    if (typeof options.filter === 'function') {\n        filter = options.filter;\n        obj = filter('', obj);\n    } else if (isArray(options.filter)) {\n        filter = options.filter;\n        objKeys = filter;\n    }\n\n    var keys = [];\n\n    if (typeof obj !== 'object' || obj === null) {\n        return '';\n    }\n\n    var generateArrayPrefix = arrayPrefixGenerators[options.arrayFormat];\n    var commaRoundTrip = generateArrayPrefix === 'comma' && options.commaRoundTrip;\n\n    if (!objKeys) {\n        objKeys = Object.keys(obj);\n    }\n\n    if (options.sort) {\n        objKeys.sort(options.sort);\n    }\n\n    var sideChannel = getSideChannel();\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (options.skipNulls && obj[key] === null) {\n            continue;\n        }\n        pushToArray(keys, stringify(\n            obj[key],\n            key,\n            generateArrayPrefix,\n            commaRoundTrip,\n            options.allowEmptyArrays,\n            options.strictNullHandling,\n            options.skipNulls,\n            options.encodeDotInKeys,\n            options.encode ? options.encoder : null,\n            options.filter,\n            options.sort,\n            options.allowDots,\n            options.serializeDate,\n            options.format,\n            options.formatter,\n            options.encodeValuesOnly,\n            options.charset,\n            sideChannel\n        ));\n    }\n\n    var joined = keys.join(options.delimiter);\n    var prefix = options.addQueryPrefix === true ? '?' : '';\n\n    if (options.charsetSentinel) {\n        if (options.charset === 'iso-8859-1') {\n            // encodeURIComponent('&#10003;'), the \"numeric entity\" representation of a checkmark\n            prefix += 'utf8=%26%2310003%3B&';\n        } else {\n            // encodeURIComponent('✓')\n            prefix += 'utf8=%E2%9C%93&';\n        }\n    }\n\n    return joined.length > 0 ? prefix + joined : '';\n};\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\nvar callBound = require('call-bind/callBound');\nvar inspect = require('object-inspect');\n\nvar $TypeError = require('es-errors/type');\nvar $WeakMap = GetIntrinsic('%WeakMap%', true);\nvar $Map = GetIntrinsic('%Map%', true);\n\nvar $weakMapGet = callBound('WeakMap.prototype.get', true);\nvar $weakMapSet = callBound('WeakMap.prototype.set', true);\nvar $weakMapHas = callBound('WeakMap.prototype.has', true);\nvar $mapGet = callBound('Map.prototype.get', true);\nvar $mapSet = callBound('Map.prototype.set', true);\nvar $mapHas = callBound('Map.prototype.has', true);\n\n/*\n* This function traverses the list returning the node corresponding to the given key.\n*\n* That node is also moved to the head of the list, so that if it's accessed again we don't need to traverse the whole list. By doing so, all the recently used nodes can be accessed relatively quickly.\n*/\n/** @type {import('.').listGetNode} */\nvar listGetNode = function (list, key) { // eslint-disable-line consistent-return\n\t/** @type {typeof list | NonNullable<(typeof list)['next']>} */\n\tvar prev = list;\n\t/** @type {(typeof list)['next']} */\n\tvar curr;\n\tfor (; (curr = prev.next) !== null; prev = curr) {\n\t\tif (curr.key === key) {\n\t\t\tprev.next = curr.next;\n\t\t\t// eslint-disable-next-line no-extra-parens\n\t\t\tcurr.next = /** @type {NonNullable<typeof list.next>} */ (list.next);\n\t\t\tlist.next = curr; // eslint-disable-line no-param-reassign\n\t\t\treturn curr;\n\t\t}\n\t}\n};\n\n/** @type {import('.').listGet} */\nvar listGet = function (objects, key) {\n\tvar node = listGetNode(objects, key);\n\treturn node && node.value;\n};\n/** @type {import('.').listSet} */\nvar listSet = function (objects, key, value) {\n\tvar node = listGetNode(objects, key);\n\tif (node) {\n\t\tnode.value = value;\n\t} else {\n\t\t// Prepend the new node to the beginning of the list\n\t\tobjects.next = /** @type {import('.').ListNode<typeof value>} */ ({ // eslint-disable-line no-param-reassign, no-extra-parens\n\t\t\tkey: key,\n\t\t\tnext: objects.next,\n\t\t\tvalue: value\n\t\t});\n\t}\n};\n/** @type {import('.').listHas} */\nvar listHas = function (objects, key) {\n\treturn !!listGetNode(objects, key);\n};\n\n/** @type {import('.')} */\nmodule.exports = function getSideChannel() {\n\t/** @type {WeakMap<object, unknown>} */ var $wm;\n\t/** @type {Map<object, unknown>} */ var $m;\n\t/** @type {import('.').RootNode<unknown>} */ var $o;\n\n\t/** @type {import('.').Channel} */\n\tvar channel = {\n\t\tassert: function (key) {\n\t\t\tif (!channel.has(key)) {\n\t\t\t\tthrow new $TypeError('Side channel does not contain ' + inspect(key));\n\t\t\t}\n\t\t},\n\t\tget: function (key) { // eslint-disable-line consistent-return\n\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\tif ($wm) {\n\t\t\t\t\treturn $weakMapGet($wm, key);\n\t\t\t\t}\n\t\t\t} else if ($Map) {\n\t\t\t\tif ($m) {\n\t\t\t\t\treturn $mapGet($m, key);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif ($o) { // eslint-disable-line no-lonely-if\n\t\t\t\t\treturn listGet($o, key);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\thas: function (key) {\n\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\tif ($wm) {\n\t\t\t\t\treturn $weakMapHas($wm, key);\n\t\t\t\t}\n\t\t\t} else if ($Map) {\n\t\t\t\tif ($m) {\n\t\t\t\t\treturn $mapHas($m, key);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif ($o) { // eslint-disable-line no-lonely-if\n\t\t\t\t\treturn listHas($o, key);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tset: function (key, value) {\n\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\tif (!$wm) {\n\t\t\t\t\t$wm = new $WeakMap();\n\t\t\t\t}\n\t\t\t\t$weakMapSet($wm, key, value);\n\t\t\t} else if ($Map) {\n\t\t\t\tif (!$m) {\n\t\t\t\t\t$m = new $Map();\n\t\t\t\t}\n\t\t\t\t$mapSet($m, key, value);\n\t\t\t} else {\n\t\t\t\tif (!$o) {\n\t\t\t\t\t// Initialize the linked list as an empty node, so that we don't have to special-case handling of the first node: we can always refer to it as (previous node).next, instead of something like (list).head\n\t\t\t\t\t$o = { key: {}, next: null };\n\t\t\t\t}\n\t\t\t\tlistSet($o, key, value);\n\t\t\t}\n\t\t}\n\t};\n\treturn channel;\n};\n","'use strict';\n\nvar undefined;\n\nvar $Error = require('es-errors');\nvar $EvalError = require('es-errors/eval');\nvar $RangeError = require('es-errors/range');\nvar $ReferenceError = require('es-errors/ref');\nvar $SyntaxError = require('es-errors/syntax');\nvar $TypeError = require('es-errors/type');\nvar $URIError = require('es-errors/uri');\n\nvar $Function = Function;\n\n// eslint-disable-next-line consistent-return\nvar getEvalledConstructor = function (expressionSyntax) {\n\ttry {\n\t\treturn $Function('\"use strict\"; return (' + expressionSyntax + ').constructor;')();\n\t} catch (e) {}\n};\n\nvar $gOPD = Object.getOwnPropertyDescriptor;\nif ($gOPD) {\n\ttry {\n\t\t$gOPD({}, '');\n\t} catch (e) {\n\t\t$gOPD = null; // this is IE 8, which has a broken gOPD\n\t}\n}\n\nvar throwTypeError = function () {\n\tthrow new $TypeError();\n};\nvar ThrowTypeError = $gOPD\n\t? (function () {\n\t\ttry {\n\t\t\t// eslint-disable-next-line no-unused-expressions, no-caller, no-restricted-properties\n\t\t\targuments.callee; // IE 8 does not throw here\n\t\t\treturn throwTypeError;\n\t\t} catch (calleeThrows) {\n\t\t\ttry {\n\t\t\t\t// IE 8 throws on Object.getOwnPropertyDescriptor(arguments, '')\n\t\t\t\treturn $gOPD(arguments, 'callee').get;\n\t\t\t} catch (gOPDthrows) {\n\t\t\t\treturn throwTypeError;\n\t\t\t}\n\t\t}\n\t}())\n\t: throwTypeError;\n\nvar hasSymbols = require('has-symbols')();\nvar hasProto = require('has-proto')();\n\nvar getProto = Object.getPrototypeOf || (\n\thasProto\n\t\t? function (x) { return x.__proto__; } // eslint-disable-line no-proto\n\t\t: null\n);\n\nvar needsEval = {};\n\nvar TypedArray = typeof Uint8Array === 'undefined' || !getProto ? undefined : getProto(Uint8Array);\n\nvar INTRINSICS = {\n\t__proto__: null,\n\t'%AggregateError%': typeof AggregateError === 'undefined' ? undefined : AggregateError,\n\t'%Array%': Array,\n\t'%ArrayBuffer%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer,\n\t'%ArrayIteratorPrototype%': hasSymbols && getProto ? getProto([][Symbol.iterator]()) : undefined,\n\t'%AsyncFromSyncIteratorPrototype%': undefined,\n\t'%AsyncFunction%': needsEval,\n\t'%AsyncGenerator%': needsEval,\n\t'%AsyncGeneratorFunction%': needsEval,\n\t'%AsyncIteratorPrototype%': needsEval,\n\t'%Atomics%': typeof Atomics === 'undefined' ? undefined : Atomics,\n\t'%BigInt%': typeof BigInt === 'undefined' ? undefined : BigInt,\n\t'%BigInt64Array%': typeof BigInt64Array === 'undefined' ? undefined : BigInt64Array,\n\t'%BigUint64Array%': typeof BigUint64Array === 'undefined' ? undefined : BigUint64Array,\n\t'%Boolean%': Boolean,\n\t'%DataView%': typeof DataView === 'undefined' ? undefined : DataView,\n\t'%Date%': Date,\n\t'%decodeURI%': decodeURI,\n\t'%decodeURIComponent%': decodeURIComponent,\n\t'%encodeURI%': encodeURI,\n\t'%encodeURIComponent%': encodeURIComponent,\n\t'%Error%': $Error,\n\t'%eval%': eval, // eslint-disable-line no-eval\n\t'%EvalError%': $EvalError,\n\t'%Float32Array%': typeof Float32Array === 'undefined' ? undefined : Float32Array,\n\t'%Float64Array%': typeof Float64Array === 'undefined' ? undefined : Float64Array,\n\t'%FinalizationRegistry%': typeof FinalizationRegistry === 'undefined' ? undefined : FinalizationRegistry,\n\t'%Function%': $Function,\n\t'%GeneratorFunction%': needsEval,\n\t'%Int8Array%': typeof Int8Array === 'undefined' ? undefined : Int8Array,\n\t'%Int16Array%': typeof Int16Array === 'undefined' ? undefined : Int16Array,\n\t'%Int32Array%': typeof Int32Array === 'undefined' ? undefined : Int32Array,\n\t'%isFinite%': isFinite,\n\t'%isNaN%': isNaN,\n\t'%IteratorPrototype%': hasSymbols && getProto ? getProto(getProto([][Symbol.iterator]())) : undefined,\n\t'%JSON%': typeof JSON === 'object' ? JSON : undefined,\n\t'%Map%': typeof Map === 'undefined' ? undefined : Map,\n\t'%MapIteratorPrototype%': typeof Map === 'undefined' || !hasSymbols || !getProto ? undefined : getProto(new Map()[Symbol.iterator]()),\n\t'%Math%': Math,\n\t'%Number%': Number,\n\t'%Object%': Object,\n\t'%parseFloat%': parseFloat,\n\t'%parseInt%': parseInt,\n\t'%Promise%': typeof Promise === 'undefined' ? undefined : Promise,\n\t'%Proxy%': typeof Proxy === 'undefined' ? undefined : Proxy,\n\t'%RangeError%': $RangeError,\n\t'%ReferenceError%': $ReferenceError,\n\t'%Reflect%': typeof Reflect === 'undefined' ? undefined : Reflect,\n\t'%RegExp%': RegExp,\n\t'%Set%': typeof Set === 'undefined' ? undefined : Set,\n\t'%SetIteratorPrototype%': typeof Set === 'undefined' || !hasSymbols || !getProto ? undefined : getProto(new Set()[Symbol.iterator]()),\n\t'%SharedArrayBuffer%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer,\n\t'%String%': String,\n\t'%StringIteratorPrototype%': hasSymbols && getProto ? getProto(''[Symbol.iterator]()) : undefined,\n\t'%Symbol%': hasSymbols ? Symbol : undefined,\n\t'%SyntaxError%': $SyntaxError,\n\t'%ThrowTypeError%': ThrowTypeError,\n\t'%TypedArray%': TypedArray,\n\t'%TypeError%': $TypeError,\n\t'%Uint8Array%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array,\n\t'%Uint8ClampedArray%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray,\n\t'%Uint16Array%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array,\n\t'%Uint32Array%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array,\n\t'%URIError%': $URIError,\n\t'%WeakMap%': typeof WeakMap === 'undefined' ? undefined : WeakMap,\n\t'%WeakRef%': typeof WeakRef === 'undefined' ? undefined : WeakRef,\n\t'%WeakSet%': typeof WeakSet === 'undefined' ? undefined : WeakSet\n};\n\nif (getProto) {\n\ttry {\n\t\tnull.error; // eslint-disable-line no-unused-expressions\n\t} catch (e) {\n\t\t// https://github.com/tc39/proposal-shadowrealm/pull/384#issuecomment-1364264229\n\t\tvar errorProto = getProto(getProto(e));\n\t\tINTRINSICS['%Error.prototype%'] = errorProto;\n\t}\n}\n\nvar doEval = function doEval(name) {\n\tvar value;\n\tif (name === '%AsyncFunction%') {\n\t\tvalue = getEvalledConstructor('async function () {}');\n\t} else if (name === '%GeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('function* () {}');\n\t} else if (name === '%AsyncGeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('async function* () {}');\n\t} else if (name === '%AsyncGenerator%') {\n\t\tvar fn = doEval('%AsyncGeneratorFunction%');\n\t\tif (fn) {\n\t\t\tvalue = fn.prototype;\n\t\t}\n\t} else if (name === '%AsyncIteratorPrototype%') {\n\t\tvar gen = doEval('%AsyncGenerator%');\n\t\tif (gen && getProto) {\n\t\t\tvalue = getProto(gen.prototype);\n\t\t}\n\t}\n\n\tINTRINSICS[name] = value;\n\n\treturn value;\n};\n\nvar LEGACY_ALIASES = {\n\t__proto__: null,\n\t'%ArrayBufferPrototype%': ['ArrayBuffer', 'prototype'],\n\t'%ArrayPrototype%': ['Array', 'prototype'],\n\t'%ArrayProto_entries%': ['Array', 'prototype', 'entries'],\n\t'%ArrayProto_forEach%': ['Array', 'prototype', 'forEach'],\n\t'%ArrayProto_keys%': ['Array', 'prototype', 'keys'],\n\t'%ArrayProto_values%': ['Array', 'prototype', 'values'],\n\t'%AsyncFunctionPrototype%': ['AsyncFunction', 'prototype'],\n\t'%AsyncGenerator%': ['AsyncGeneratorFunction', 'prototype'],\n\t'%AsyncGeneratorPrototype%': ['AsyncGeneratorFunction', 'prototype', 'prototype'],\n\t'%BooleanPrototype%': ['Boolean', 'prototype'],\n\t'%DataViewPrototype%': ['DataView', 'prototype'],\n\t'%DatePrototype%': ['Date', 'prototype'],\n\t'%ErrorPrototype%': ['Error', 'prototype'],\n\t'%EvalErrorPrototype%': ['EvalError', 'prototype'],\n\t'%Float32ArrayPrototype%': ['Float32Array', 'prototype'],\n\t'%Float64ArrayPrototype%': ['Float64Array', 'prototype'],\n\t'%FunctionPrototype%': ['Function', 'prototype'],\n\t'%Generator%': ['GeneratorFunction', 'prototype'],\n\t'%GeneratorPrototype%': ['GeneratorFunction', 'prototype', 'prototype'],\n\t'%Int8ArrayPrototype%': ['Int8Array', 'prototype'],\n\t'%Int16ArrayPrototype%': ['Int16Array', 'prototype'],\n\t'%Int32ArrayPrototype%': ['Int32Array', 'prototype'],\n\t'%JSONParse%': ['JSON', 'parse'],\n\t'%JSONStringify%': ['JSON', 'stringify'],\n\t'%MapPrototype%': ['Map', 'prototype'],\n\t'%NumberPrototype%': ['Number', 'prototype'],\n\t'%ObjectPrototype%': ['Object', 'prototype'],\n\t'%ObjProto_toString%': ['Object', 'prototype', 'toString'],\n\t'%ObjProto_valueOf%': ['Object', 'prototype', 'valueOf'],\n\t'%PromisePrototype%': ['Promise', 'prototype'],\n\t'%PromiseProto_then%': ['Promise', 'prototype', 'then'],\n\t'%Promise_all%': ['Promise', 'all'],\n\t'%Promise_reject%': ['Promise', 'reject'],\n\t'%Promise_resolve%': ['Promise', 'resolve'],\n\t'%RangeErrorPrototype%': ['RangeError', 'prototype'],\n\t'%ReferenceErrorPrototype%': ['ReferenceError', 'prototype'],\n\t'%RegExpPrototype%': ['RegExp', 'prototype'],\n\t'%SetPrototype%': ['Set', 'prototype'],\n\t'%SharedArrayBufferPrototype%': ['SharedArrayBuffer', 'prototype'],\n\t'%StringPrototype%': ['String', 'prototype'],\n\t'%SymbolPrototype%': ['Symbol', 'prototype'],\n\t'%SyntaxErrorPrototype%': ['SyntaxError', 'prototype'],\n\t'%TypedArrayPrototype%': ['TypedArray', 'prototype'],\n\t'%TypeErrorPrototype%': ['TypeError', 'prototype'],\n\t'%Uint8ArrayPrototype%': ['Uint8Array', 'prototype'],\n\t'%Uint8ClampedArrayPrototype%': ['Uint8ClampedArray', 'prototype'],\n\t'%Uint16ArrayPrototype%': ['Uint16Array', 'prototype'],\n\t'%Uint32ArrayPrototype%': ['Uint32Array', 'prototype'],\n\t'%URIErrorPrototype%': ['URIError', 'prototype'],\n\t'%WeakMapPrototype%': ['WeakMap', 'prototype'],\n\t'%WeakSetPrototype%': ['WeakSet', 'prototype']\n};\n\nvar bind = require('function-bind');\nvar hasOwn = require('hasown');\nvar $concat = bind.call(Function.call, Array.prototype.concat);\nvar $spliceApply = bind.call(Function.apply, Array.prototype.splice);\nvar $replace = bind.call(Function.call, String.prototype.replace);\nvar $strSlice = bind.call(Function.call, String.prototype.slice);\nvar $exec = bind.call(Function.call, RegExp.prototype.exec);\n\n/* adapted from https://github.com/lodash/lodash/blob/4.17.15/dist/lodash.js#L6735-L6744 */\nvar rePropName = /[^%.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|%$))/g;\nvar reEscapeChar = /\\\\(\\\\)?/g; /** Used to match backslashes in property paths. */\nvar stringToPath = function stringToPath(string) {\n\tvar first = $strSlice(string, 0, 1);\n\tvar last = $strSlice(string, -1);\n\tif (first === '%' && last !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected closing `%`');\n\t} else if (last === '%' && first !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected opening `%`');\n\t}\n\tvar result = [];\n\t$replace(string, rePropName, function (match, number, quote, subString) {\n\t\tresult[result.length] = quote ? $replace(subString, reEscapeChar, '$1') : number || match;\n\t});\n\treturn result;\n};\n/* end adaptation */\n\nvar getBaseIntrinsic = function getBaseIntrinsic(name, allowMissing) {\n\tvar intrinsicName = name;\n\tvar alias;\n\tif (hasOwn(LEGACY_ALIASES, intrinsicName)) {\n\t\talias = LEGACY_ALIASES[intrinsicName];\n\t\tintrinsicName = '%' + alias[0] + '%';\n\t}\n\n\tif (hasOwn(INTRINSICS, intrinsicName)) {\n\t\tvar value = INTRINSICS[intrinsicName];\n\t\tif (value === needsEval) {\n\t\t\tvalue = doEval(intrinsicName);\n\t\t}\n\t\tif (typeof value === 'undefined' && !allowMissing) {\n\t\t\tthrow new $TypeError('intrinsic ' + name + ' exists, but is not available. Please file an issue!');\n\t\t}\n\n\t\treturn {\n\t\t\talias: alias,\n\t\t\tname: intrinsicName,\n\t\t\tvalue: value\n\t\t};\n\t}\n\n\tthrow new $SyntaxError('intrinsic ' + name + ' does not exist!');\n};\n\nmodule.exports = function GetIntrinsic(name, allowMissing) {\n\tif (typeof name !== 'string' || name.length === 0) {\n\t\tthrow new $TypeError('intrinsic name must be a non-empty string');\n\t}\n\tif (arguments.length > 1 && typeof allowMissing !== 'boolean') {\n\t\tthrow new $TypeError('\"allowMissing\" argument must be a boolean');\n\t}\n\n\tif ($exec(/^%?[^%]*%?$/, name) === null) {\n\t\tthrow new $SyntaxError('`%` may not be present anywhere but at the beginning and end of the intrinsic name');\n\t}\n\tvar parts = stringToPath(name);\n\tvar intrinsicBaseName = parts.length > 0 ? parts[0] : '';\n\n\tvar intrinsic = getBaseIntrinsic('%' + intrinsicBaseName + '%', allowMissing);\n\tvar intrinsicRealName = intrinsic.name;\n\tvar value = intrinsic.value;\n\tvar skipFurtherCaching = false;\n\n\tvar alias = intrinsic.alias;\n\tif (alias) {\n\t\tintrinsicBaseName = alias[0];\n\t\t$spliceApply(parts, $concat([0, 1], alias));\n\t}\n\n\tfor (var i = 1, isOwn = true; i < parts.length; i += 1) {\n\t\tvar part = parts[i];\n\t\tvar first = $strSlice(part, 0, 1);\n\t\tvar last = $strSlice(part, -1);\n\t\tif (\n\t\t\t(\n\t\t\t\t(first === '\"' || first === \"'\" || first === '`')\n\t\t\t\t|| (last === '\"' || last === \"'\" || last === '`')\n\t\t\t)\n\t\t\t&& first !== last\n\t\t) {\n\t\t\tthrow new $SyntaxError('property names with quotes must have matching quotes');\n\t\t}\n\t\tif (part === 'constructor' || !isOwn) {\n\t\t\tskipFurtherCaching = true;\n\t\t}\n\n\t\tintrinsicBaseName += '.' + part;\n\t\tintrinsicRealName = '%' + intrinsicBaseName + '%';\n\n\t\tif (hasOwn(INTRINSICS, intrinsicRealName)) {\n\t\t\tvalue = INTRINSICS[intrinsicRealName];\n\t\t} else if (value != null) {\n\t\t\tif (!(part in value)) {\n\t\t\t\tif (!allowMissing) {\n\t\t\t\t\tthrow new $TypeError('base intrinsic for ' + name + ' exists, but the property is not available.');\n\t\t\t\t}\n\t\t\t\treturn void undefined;\n\t\t\t}\n\t\t\tif ($gOPD && (i + 1) >= parts.length) {\n\t\t\t\tvar desc = $gOPD(value, part);\n\t\t\t\tisOwn = !!desc;\n\n\t\t\t\t// By convention, when a data property is converted to an accessor\n\t\t\t\t// property to emulate a data property that does not suffer from\n\t\t\t\t// the override mistake, that accessor's getter is marked with\n\t\t\t\t// an `originalValue` property. Here, when we detect this, we\n\t\t\t\t// uphold the illusion by pretending to see that original data\n\t\t\t\t// property, i.e., returning the value rather than the getter\n\t\t\t\t// itself.\n\t\t\t\tif (isOwn && 'get' in desc && !('originalValue' in desc.get)) {\n\t\t\t\t\tvalue = desc.get;\n\t\t\t\t} else {\n\t\t\t\t\tvalue = value[part];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tisOwn = hasOwn(value, part);\n\t\t\t\tvalue = value[part];\n\t\t\t}\n\n\t\t\tif (isOwn && !skipFurtherCaching) {\n\t\t\t\tINTRINSICS[intrinsicRealName] = value;\n\t\t\t}\n\t\t}\n\t}\n\treturn value;\n};\n","'use strict';\n\n/** @type {import('.')} */\nmodule.exports = Error;\n","'use strict';\n\n/** @type {import('./eval')} */\nmodule.exports = EvalError;\n","'use strict';\n\n/** @type {import('./range')} */\nmodule.exports = RangeError;\n","'use strict';\n\n/** @type {import('./ref')} */\nmodule.exports = ReferenceError;\n","'use strict';\n\n/** @type {import('./syntax')} */\nmodule.exports = SyntaxError;\n","'use strict';\n\n/** @type {import('./type')} */\nmodule.exports = TypeError;\n","'use strict';\n\n/** @type {import('./uri')} */\nmodule.exports = URIError;\n","'use strict';\n\nvar origSymbol = typeof Symbol !== 'undefined' && Symbol;\nvar hasSymbolSham = require('./shams');\n\nmodule.exports = function hasNativeSymbols() {\n\tif (typeof origSymbol !== 'function') { return false; }\n\tif (typeof Symbol !== 'function') { return false; }\n\tif (typeof origSymbol('foo') !== 'symbol') { return false; }\n\tif (typeof Symbol('bar') !== 'symbol') { return false; }\n\n\treturn hasSymbolSham();\n};\n","'use strict';\n\n/* eslint complexity: [2, 18], max-statements: [2, 33] */\nmodule.exports = function hasSymbols() {\n\tif (typeof Symbol !== 'function' || typeof Object.getOwnPropertySymbols !== 'function') { return false; }\n\tif (typeof Symbol.iterator === 'symbol') { return true; }\n\n\tvar obj = {};\n\tvar sym = Symbol('test');\n\tvar symObj = Object(sym);\n\tif (typeof sym === 'string') { return false; }\n\n\tif (Object.prototype.toString.call(sym) !== '[object Symbol]') { return false; }\n\tif (Object.prototype.toString.call(symObj) !== '[object Symbol]') { return false; }\n\n\t// temp disabled per https://github.com/ljharb/object.assign/issues/17\n\t// if (sym instanceof Symbol) { return false; }\n\t// temp disabled per https://github.com/WebReflection/get-own-property-symbols/issues/4\n\t// if (!(symObj instanceof Symbol)) { return false; }\n\n\t// if (typeof Symbol.prototype.toString !== 'function') { return false; }\n\t// if (String(sym) !== Symbol.prototype.toString.call(sym)) { return false; }\n\n\tvar symVal = 42;\n\tobj[sym] = symVal;\n\tfor (sym in obj) { return false; } // eslint-disable-line no-restricted-syntax, no-unreachable-loop\n\tif (typeof Object.keys === 'function' && Object.keys(obj).length !== 0) { return false; }\n\n\tif (typeof Object.getOwnPropertyNames === 'function' && Object.getOwnPropertyNames(obj).length !== 0) { return false; }\n\n\tvar syms = Object.getOwnPropertySymbols(obj);\n\tif (syms.length !== 1 || syms[0] !== sym) { return false; }\n\n\tif (!Object.prototype.propertyIsEnumerable.call(obj, sym)) { return false; }\n\n\tif (typeof Object.getOwnPropertyDescriptor === 'function') {\n\t\tvar descriptor = Object.getOwnPropertyDescriptor(obj, sym);\n\t\tif (descriptor.value !== symVal || descriptor.enumerable !== true) { return false; }\n\t}\n\n\treturn true;\n};\n","'use strict';\n\nvar test = {\n\t__proto__: null,\n\tfoo: {}\n};\n\nvar $Object = Object;\n\n/** @type {import('.')} */\nmodule.exports = function hasProto() {\n\t// @ts-expect-error: TS errors on an inherited property for some reason\n\treturn { __proto__: test }.foo === test.foo\n\t\t&& !(test instanceof $Object);\n};\n","'use strict';\n\nvar implementation = require('./implementation');\n\nmodule.exports = Function.prototype.bind || implementation;\n","'use strict';\n\n/* eslint no-invalid-this: 1 */\n\nvar ERROR_MESSAGE = 'Function.prototype.bind called on incompatible ';\nvar toStr = Object.prototype.toString;\nvar max = Math.max;\nvar funcType = '[object Function]';\n\nvar concatty = function concatty(a, b) {\n    var arr = [];\n\n    for (var i = 0; i < a.length; i += 1) {\n        arr[i] = a[i];\n    }\n    for (var j = 0; j < b.length; j += 1) {\n        arr[j + a.length] = b[j];\n    }\n\n    return arr;\n};\n\nvar slicy = function slicy(arrLike, offset) {\n    var arr = [];\n    for (var i = offset || 0, j = 0; i < arrLike.length; i += 1, j += 1) {\n        arr[j] = arrLike[i];\n    }\n    return arr;\n};\n\nvar joiny = function (arr, joiner) {\n    var str = '';\n    for (var i = 0; i < arr.length; i += 1) {\n        str += arr[i];\n        if (i + 1 < arr.length) {\n            str += joiner;\n        }\n    }\n    return str;\n};\n\nmodule.exports = function bind(that) {\n    var target = this;\n    if (typeof target !== 'function' || toStr.apply(target) !== funcType) {\n        throw new TypeError(ERROR_MESSAGE + target);\n    }\n    var args = slicy(arguments, 1);\n\n    var bound;\n    var binder = function () {\n        if (this instanceof bound) {\n            var result = target.apply(\n                this,\n                concatty(args, arguments)\n            );\n            if (Object(result) === result) {\n                return result;\n            }\n            return this;\n        }\n        return target.apply(\n            that,\n            concatty(args, arguments)\n        );\n\n    };\n\n    var boundLength = max(0, target.length - args.length);\n    var boundArgs = [];\n    for (var i = 0; i < boundLength; i++) {\n        boundArgs[i] = '$' + i;\n    }\n\n    bound = Function('binder', 'return function (' + joiny(boundArgs, ',') + '){ return binder.apply(this,arguments); }')(binder);\n\n    if (target.prototype) {\n        var Empty = function Empty() {};\n        Empty.prototype = target.prototype;\n        bound.prototype = new Empty();\n        Empty.prototype = null;\n    }\n\n    return bound;\n};\n","'use strict';\n\nvar call = Function.prototype.call;\nvar $hasOwn = Object.prototype.hasOwnProperty;\nvar bind = require('function-bind');\n\n/** @type {import('.')} */\nmodule.exports = bind.call(call, $hasOwn);\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar callBind = require('./');\n\nvar $indexOf = callBind(GetIntrinsic('String.prototype.indexOf'));\n\nmodule.exports = function callBoundIntrinsic(name, allowMissing) {\n\tvar intrinsic = GetIntrinsic(name, !!allowMissing);\n\tif (typeof intrinsic === 'function' && $indexOf(name, '.prototype.') > -1) {\n\t\treturn callBind(intrinsic);\n\t}\n\treturn intrinsic;\n};\n","'use strict';\n\nvar bind = require('function-bind');\nvar GetIntrinsic = require('get-intrinsic');\nvar setFunctionLength = require('set-function-length');\n\nvar $TypeError = require('es-errors/type');\nvar $apply = GetIntrinsic('%Function.prototype.apply%');\nvar $call = GetIntrinsic('%Function.prototype.call%');\nvar $reflectApply = GetIntrinsic('%Reflect.apply%', true) || bind.call($call, $apply);\n\nvar $defineProperty = require('es-define-property');\nvar $max = GetIntrinsic('%Math.max%');\n\nmodule.exports = function callBind(originalFunction) {\n\tif (typeof originalFunction !== 'function') {\n\t\tthrow new $TypeError('a function is required');\n\t}\n\tvar func = $reflectApply(bind, $call, arguments);\n\treturn setFunctionLength(\n\t\tfunc,\n\t\t1 + $max(0, originalFunction.length - (arguments.length - 1)),\n\t\ttrue\n\t);\n};\n\nvar applyBind = function applyBind() {\n\treturn $reflectApply(bind, $apply, arguments);\n};\n\nif ($defineProperty) {\n\t$defineProperty(module.exports, 'apply', { value: applyBind });\n} else {\n\tmodule.exports.apply = applyBind;\n}\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\nvar define = require('define-data-property');\nvar hasDescriptors = require('has-property-descriptors')();\nvar gOPD = require('gopd');\n\nvar $TypeError = require('es-errors/type');\nvar $floor = GetIntrinsic('%Math.floor%');\n\n/** @type {import('.')} */\nmodule.exports = function setFunctionLength(fn, length) {\n\tif (typeof fn !== 'function') {\n\t\tthrow new $TypeError('`fn` is not a function');\n\t}\n\tif (typeof length !== 'number' || length < 0 || length > 0xFFFFFFFF || $floor(length) !== length) {\n\t\tthrow new $TypeError('`length` must be a positive 32-bit integer');\n\t}\n\n\tvar loose = arguments.length > 2 && !!arguments[2];\n\n\tvar functionLengthIsConfigurable = true;\n\tvar functionLengthIsWritable = true;\n\tif ('length' in fn && gOPD) {\n\t\tvar desc = gOPD(fn, 'length');\n\t\tif (desc && !desc.configurable) {\n\t\t\tfunctionLengthIsConfigurable = false;\n\t\t}\n\t\tif (desc && !desc.writable) {\n\t\t\tfunctionLengthIsWritable = false;\n\t\t}\n\t}\n\n\tif (functionLengthIsConfigurable || functionLengthIsWritable || !loose) {\n\t\tif (hasDescriptors) {\n\t\t\tdefine(/** @type {Parameters<define>[0]} */ (fn), 'length', length, true, true);\n\t\t} else {\n\t\t\tdefine(/** @type {Parameters<define>[0]} */ (fn), 'length', length);\n\t\t}\n\t}\n\treturn fn;\n};\n","'use strict';\n\nvar $defineProperty = require('es-define-property');\n\nvar $SyntaxError = require('es-errors/syntax');\nvar $TypeError = require('es-errors/type');\n\nvar gopd = require('gopd');\n\n/** @type {import('.')} */\nmodule.exports = function defineDataProperty(\n\tobj,\n\tproperty,\n\tvalue\n) {\n\tif (!obj || (typeof obj !== 'object' && typeof obj !== 'function')) {\n\t\tthrow new $TypeError('`obj` must be an object or a function`');\n\t}\n\tif (typeof property !== 'string' && typeof property !== 'symbol') {\n\t\tthrow new $TypeError('`property` must be a string or a symbol`');\n\t}\n\tif (arguments.length > 3 && typeof arguments[3] !== 'boolean' && arguments[3] !== null) {\n\t\tthrow new $TypeError('`nonEnumerable`, if provided, must be a boolean or null');\n\t}\n\tif (arguments.length > 4 && typeof arguments[4] !== 'boolean' && arguments[4] !== null) {\n\t\tthrow new $TypeError('`nonWritable`, if provided, must be a boolean or null');\n\t}\n\tif (arguments.length > 5 && typeof arguments[5] !== 'boolean' && arguments[5] !== null) {\n\t\tthrow new $TypeError('`nonConfigurable`, if provided, must be a boolean or null');\n\t}\n\tif (arguments.length > 6 && typeof arguments[6] !== 'boolean') {\n\t\tthrow new $TypeError('`loose`, if provided, must be a boolean');\n\t}\n\n\tvar nonEnumerable = arguments.length > 3 ? arguments[3] : null;\n\tvar nonWritable = arguments.length > 4 ? arguments[4] : null;\n\tvar nonConfigurable = arguments.length > 5 ? arguments[5] : null;\n\tvar loose = arguments.length > 6 ? arguments[6] : false;\n\n\t/* @type {false | TypedPropertyDescriptor<unknown>} */\n\tvar desc = !!gopd && gopd(obj, property);\n\n\tif ($defineProperty) {\n\t\t$defineProperty(obj, property, {\n\t\t\tconfigurable: nonConfigurable === null && desc ? desc.configurable : !nonConfigurable,\n\t\t\tenumerable: nonEnumerable === null && desc ? desc.enumerable : !nonEnumerable,\n\t\t\tvalue: value,\n\t\t\twritable: nonWritable === null && desc ? desc.writable : !nonWritable\n\t\t});\n\t} else if (loose || (!nonEnumerable && !nonWritable && !nonConfigurable)) {\n\t\t// must fall back to [[Set]], and was not explicitly asked to make non-enumerable, non-writable, or non-configurable\n\t\tobj[property] = value; // eslint-disable-line no-param-reassign\n\t} else {\n\t\tthrow new $SyntaxError('This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.');\n\t}\n};\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\n/** @type {import('.')} */\nvar $defineProperty = GetIntrinsic('%Object.defineProperty%', true) || false;\nif ($defineProperty) {\n\ttry {\n\t\t$defineProperty({}, 'a', { value: 1 });\n\t} catch (e) {\n\t\t// IE 8 has a broken defineProperty\n\t\t$defineProperty = false;\n\t}\n}\n\nmodule.exports = $defineProperty;\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar $gOPD = GetIntrinsic('%Object.getOwnPropertyDescriptor%', true);\n\nif ($gOPD) {\n\ttry {\n\t\t$gOPD([], 'length');\n\t} catch (e) {\n\t\t// IE 8 has a broken gOPD\n\t\t$gOPD = null;\n\t}\n}\n\nmodule.exports = $gOPD;\n","'use strict';\n\nvar $defineProperty = require('es-define-property');\n\nvar hasPropertyDescriptors = function hasPropertyDescriptors() {\n\treturn !!$defineProperty;\n};\n\nhasPropertyDescriptors.hasArrayLengthDefineBug = function hasArrayLengthDefineBug() {\n\t// node v0.6 has a bug where array lengths can be Set but not Defined\n\tif (!$defineProperty) {\n\t\treturn null;\n\t}\n\ttry {\n\t\treturn $defineProperty([], 'length', { value: 1 }).length !== 1;\n\t} catch (e) {\n\t\t// In Firefox 4-22, defining length on an array throws an exception.\n\t\treturn true;\n\t}\n};\n\nmodule.exports = hasPropertyDescriptors;\n","var hasMap = typeof Map === 'function' && Map.prototype;\nvar mapSizeDescriptor = Object.getOwnPropertyDescriptor && hasMap ? Object.getOwnPropertyDescriptor(Map.prototype, 'size') : null;\nvar mapSize = hasMap && mapSizeDescriptor && typeof mapSizeDescriptor.get === 'function' ? mapSizeDescriptor.get : null;\nvar mapForEach = hasMap && Map.prototype.forEach;\nvar hasSet = typeof Set === 'function' && Set.prototype;\nvar setSizeDescriptor = Object.getOwnPropertyDescriptor && hasSet ? Object.getOwnPropertyDescriptor(Set.prototype, 'size') : null;\nvar setSize = hasSet && setSizeDescriptor && typeof setSizeDescriptor.get === 'function' ? setSizeDescriptor.get : null;\nvar setForEach = hasSet && Set.prototype.forEach;\nvar hasWeakMap = typeof WeakMap === 'function' && WeakMap.prototype;\nvar weakMapHas = hasWeakMap ? WeakMap.prototype.has : null;\nvar hasWeakSet = typeof WeakSet === 'function' && WeakSet.prototype;\nvar weakSetHas = hasWeakSet ? WeakSet.prototype.has : null;\nvar hasWeakRef = typeof WeakRef === 'function' && WeakRef.prototype;\nvar weakRefDeref = hasWeakRef ? WeakRef.prototype.deref : null;\nvar booleanValueOf = Boolean.prototype.valueOf;\nvar objectToString = Object.prototype.toString;\nvar functionToString = Function.prototype.toString;\nvar $match = String.prototype.match;\nvar $slice = String.prototype.slice;\nvar $replace = String.prototype.replace;\nvar $toUpperCase = String.prototype.toUpperCase;\nvar $toLowerCase = String.prototype.toLowerCase;\nvar $test = RegExp.prototype.test;\nvar $concat = Array.prototype.concat;\nvar $join = Array.prototype.join;\nvar $arrSlice = Array.prototype.slice;\nvar $floor = Math.floor;\nvar bigIntValueOf = typeof BigInt === 'function' ? BigInt.prototype.valueOf : null;\nvar gOPS = Object.getOwnPropertySymbols;\nvar symToString = typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol' ? Symbol.prototype.toString : null;\nvar hasShammedSymbols = typeof Symbol === 'function' && typeof Symbol.iterator === 'object';\n// ie, `has-tostringtag/shams\nvar toStringTag = typeof Symbol === 'function' && Symbol.toStringTag && (typeof Symbol.toStringTag === hasShammedSymbols ? 'object' : 'symbol')\n    ? Symbol.toStringTag\n    : null;\nvar isEnumerable = Object.prototype.propertyIsEnumerable;\n\nvar gPO = (typeof Reflect === 'function' ? Reflect.getPrototypeOf : Object.getPrototypeOf) || (\n    [].__proto__ === Array.prototype // eslint-disable-line no-proto\n        ? function (O) {\n            return O.__proto__; // eslint-disable-line no-proto\n        }\n        : null\n);\n\nfunction addNumericSeparator(num, str) {\n    if (\n        num === Infinity\n        || num === -Infinity\n        || num !== num\n        || (num && num > -1000 && num < 1000)\n        || $test.call(/e/, str)\n    ) {\n        return str;\n    }\n    var sepRegex = /[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;\n    if (typeof num === 'number') {\n        var int = num < 0 ? -$floor(-num) : $floor(num); // trunc(num)\n        if (int !== num) {\n            var intStr = String(int);\n            var dec = $slice.call(str, intStr.length + 1);\n            return $replace.call(intStr, sepRegex, '$&_') + '.' + $replace.call($replace.call(dec, /([0-9]{3})/g, '$&_'), /_$/, '');\n        }\n    }\n    return $replace.call(str, sepRegex, '$&_');\n}\n\nvar utilInspect = require('./util.inspect');\nvar inspectCustom = utilInspect.custom;\nvar inspectSymbol = isSymbol(inspectCustom) ? inspectCustom : null;\n\nmodule.exports = function inspect_(obj, options, depth, seen) {\n    var opts = options || {};\n\n    if (has(opts, 'quoteStyle') && (opts.quoteStyle !== 'single' && opts.quoteStyle !== 'double')) {\n        throw new TypeError('option \"quoteStyle\" must be \"single\" or \"double\"');\n    }\n    if (\n        has(opts, 'maxStringLength') && (typeof opts.maxStringLength === 'number'\n            ? opts.maxStringLength < 0 && opts.maxStringLength !== Infinity\n            : opts.maxStringLength !== null\n        )\n    ) {\n        throw new TypeError('option \"maxStringLength\", if provided, must be a positive integer, Infinity, or `null`');\n    }\n    var customInspect = has(opts, 'customInspect') ? opts.customInspect : true;\n    if (typeof customInspect !== 'boolean' && customInspect !== 'symbol') {\n        throw new TypeError('option \"customInspect\", if provided, must be `true`, `false`, or `\\'symbol\\'`');\n    }\n\n    if (\n        has(opts, 'indent')\n        && opts.indent !== null\n        && opts.indent !== '\\t'\n        && !(parseInt(opts.indent, 10) === opts.indent && opts.indent > 0)\n    ) {\n        throw new TypeError('option \"indent\" must be \"\\\\t\", an integer > 0, or `null`');\n    }\n    if (has(opts, 'numericSeparator') && typeof opts.numericSeparator !== 'boolean') {\n        throw new TypeError('option \"numericSeparator\", if provided, must be `true` or `false`');\n    }\n    var numericSeparator = opts.numericSeparator;\n\n    if (typeof obj === 'undefined') {\n        return 'undefined';\n    }\n    if (obj === null) {\n        return 'null';\n    }\n    if (typeof obj === 'boolean') {\n        return obj ? 'true' : 'false';\n    }\n\n    if (typeof obj === 'string') {\n        return inspectString(obj, opts);\n    }\n    if (typeof obj === 'number') {\n        if (obj === 0) {\n            return Infinity / obj > 0 ? '0' : '-0';\n        }\n        var str = String(obj);\n        return numericSeparator ? addNumericSeparator(obj, str) : str;\n    }\n    if (typeof obj === 'bigint') {\n        var bigIntStr = String(obj) + 'n';\n        return numericSeparator ? addNumericSeparator(obj, bigIntStr) : bigIntStr;\n    }\n\n    var maxDepth = typeof opts.depth === 'undefined' ? 5 : opts.depth;\n    if (typeof depth === 'undefined') { depth = 0; }\n    if (depth >= maxDepth && maxDepth > 0 && typeof obj === 'object') {\n        return isArray(obj) ? '[Array]' : '[Object]';\n    }\n\n    var indent = getIndent(opts, depth);\n\n    if (typeof seen === 'undefined') {\n        seen = [];\n    } else if (indexOf(seen, obj) >= 0) {\n        return '[Circular]';\n    }\n\n    function inspect(value, from, noIndent) {\n        if (from) {\n            seen = $arrSlice.call(seen);\n            seen.push(from);\n        }\n        if (noIndent) {\n            var newOpts = {\n                depth: opts.depth\n            };\n            if (has(opts, 'quoteStyle')) {\n                newOpts.quoteStyle = opts.quoteStyle;\n            }\n            return inspect_(value, newOpts, depth + 1, seen);\n        }\n        return inspect_(value, opts, depth + 1, seen);\n    }\n\n    if (typeof obj === 'function' && !isRegExp(obj)) { // in older engines, regexes are callable\n        var name = nameOf(obj);\n        var keys = arrObjKeys(obj, inspect);\n        return '[Function' + (name ? ': ' + name : ' (anonymous)') + ']' + (keys.length > 0 ? ' { ' + $join.call(keys, ', ') + ' }' : '');\n    }\n    if (isSymbol(obj)) {\n        var symString = hasShammedSymbols ? $replace.call(String(obj), /^(Symbol\\(.*\\))_[^)]*$/, '$1') : symToString.call(obj);\n        return typeof obj === 'object' && !hasShammedSymbols ? markBoxed(symString) : symString;\n    }\n    if (isElement(obj)) {\n        var s = '<' + $toLowerCase.call(String(obj.nodeName));\n        var attrs = obj.attributes || [];\n        for (var i = 0; i < attrs.length; i++) {\n            s += ' ' + attrs[i].name + '=' + wrapQuotes(quote(attrs[i].value), 'double', opts);\n        }\n        s += '>';\n        if (obj.childNodes && obj.childNodes.length) { s += '...'; }\n        s += '</' + $toLowerCase.call(String(obj.nodeName)) + '>';\n        return s;\n    }\n    if (isArray(obj)) {\n        if (obj.length === 0) { return '[]'; }\n        var xs = arrObjKeys(obj, inspect);\n        if (indent && !singleLineValues(xs)) {\n            return '[' + indentedJoin(xs, indent) + ']';\n        }\n        return '[ ' + $join.call(xs, ', ') + ' ]';\n    }\n    if (isError(obj)) {\n        var parts = arrObjKeys(obj, inspect);\n        if (!('cause' in Error.prototype) && 'cause' in obj && !isEnumerable.call(obj, 'cause')) {\n            return '{ [' + String(obj) + '] ' + $join.call($concat.call('[cause]: ' + inspect(obj.cause), parts), ', ') + ' }';\n        }\n        if (parts.length === 0) { return '[' + String(obj) + ']'; }\n        return '{ [' + String(obj) + '] ' + $join.call(parts, ', ') + ' }';\n    }\n    if (typeof obj === 'object' && customInspect) {\n        if (inspectSymbol && typeof obj[inspectSymbol] === 'function' && utilInspect) {\n            return utilInspect(obj, { depth: maxDepth - depth });\n        } else if (customInspect !== 'symbol' && typeof obj.inspect === 'function') {\n            return obj.inspect();\n        }\n    }\n    if (isMap(obj)) {\n        var mapParts = [];\n        if (mapForEach) {\n            mapForEach.call(obj, function (value, key) {\n                mapParts.push(inspect(key, obj, true) + ' => ' + inspect(value, obj));\n            });\n        }\n        return collectionOf('Map', mapSize.call(obj), mapParts, indent);\n    }\n    if (isSet(obj)) {\n        var setParts = [];\n        if (setForEach) {\n            setForEach.call(obj, function (value) {\n                setParts.push(inspect(value, obj));\n            });\n        }\n        return collectionOf('Set', setSize.call(obj), setParts, indent);\n    }\n    if (isWeakMap(obj)) {\n        return weakCollectionOf('WeakMap');\n    }\n    if (isWeakSet(obj)) {\n        return weakCollectionOf('WeakSet');\n    }\n    if (isWeakRef(obj)) {\n        return weakCollectionOf('WeakRef');\n    }\n    if (isNumber(obj)) {\n        return markBoxed(inspect(Number(obj)));\n    }\n    if (isBigInt(obj)) {\n        return markBoxed(inspect(bigIntValueOf.call(obj)));\n    }\n    if (isBoolean(obj)) {\n        return markBoxed(booleanValueOf.call(obj));\n    }\n    if (isString(obj)) {\n        return markBoxed(inspect(String(obj)));\n    }\n    // note: in IE 8, sometimes `global !== window` but both are the prototypes of each other\n    /* eslint-env browser */\n    if (typeof window !== 'undefined' && obj === window) {\n        return '{ [object Window] }';\n    }\n    if (obj === global) {\n        return '{ [object globalThis] }';\n    }\n    if (!isDate(obj) && !isRegExp(obj)) {\n        var ys = arrObjKeys(obj, inspect);\n        var isPlainObject = gPO ? gPO(obj) === Object.prototype : obj instanceof Object || obj.constructor === Object;\n        var protoTag = obj instanceof Object ? '' : 'null prototype';\n        var stringTag = !isPlainObject && toStringTag && Object(obj) === obj && toStringTag in obj ? $slice.call(toStr(obj), 8, -1) : protoTag ? 'Object' : '';\n        var constructorTag = isPlainObject || typeof obj.constructor !== 'function' ? '' : obj.constructor.name ? obj.constructor.name + ' ' : '';\n        var tag = constructorTag + (stringTag || protoTag ? '[' + $join.call($concat.call([], stringTag || [], protoTag || []), ': ') + '] ' : '');\n        if (ys.length === 0) { return tag + '{}'; }\n        if (indent) {\n            return tag + '{' + indentedJoin(ys, indent) + '}';\n        }\n        return tag + '{ ' + $join.call(ys, ', ') + ' }';\n    }\n    return String(obj);\n};\n\nfunction wrapQuotes(s, defaultStyle, opts) {\n    var quoteChar = (opts.quoteStyle || defaultStyle) === 'double' ? '\"' : \"'\";\n    return quoteChar + s + quoteChar;\n}\n\nfunction quote(s) {\n    return $replace.call(String(s), /\"/g, '&quot;');\n}\n\nfunction isArray(obj) { return toStr(obj) === '[object Array]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isDate(obj) { return toStr(obj) === '[object Date]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isRegExp(obj) { return toStr(obj) === '[object RegExp]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isError(obj) { return toStr(obj) === '[object Error]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isString(obj) { return toStr(obj) === '[object String]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isNumber(obj) { return toStr(obj) === '[object Number]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isBoolean(obj) { return toStr(obj) === '[object Boolean]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\n\n// Symbol and BigInt do have Symbol.toStringTag by spec, so that can't be used to eliminate false positives\nfunction isSymbol(obj) {\n    if (hasShammedSymbols) {\n        return obj && typeof obj === 'object' && obj instanceof Symbol;\n    }\n    if (typeof obj === 'symbol') {\n        return true;\n    }\n    if (!obj || typeof obj !== 'object' || !symToString) {\n        return false;\n    }\n    try {\n        symToString.call(obj);\n        return true;\n    } catch (e) {}\n    return false;\n}\n\nfunction isBigInt(obj) {\n    if (!obj || typeof obj !== 'object' || !bigIntValueOf) {\n        return false;\n    }\n    try {\n        bigIntValueOf.call(obj);\n        return true;\n    } catch (e) {}\n    return false;\n}\n\nvar hasOwn = Object.prototype.hasOwnProperty || function (key) { return key in this; };\nfunction has(obj, key) {\n    return hasOwn.call(obj, key);\n}\n\nfunction toStr(obj) {\n    return objectToString.call(obj);\n}\n\nfunction nameOf(f) {\n    if (f.name) { return f.name; }\n    var m = $match.call(functionToString.call(f), /^function\\s*([\\w$]+)/);\n    if (m) { return m[1]; }\n    return null;\n}\n\nfunction indexOf(xs, x) {\n    if (xs.indexOf) { return xs.indexOf(x); }\n    for (var i = 0, l = xs.length; i < l; i++) {\n        if (xs[i] === x) { return i; }\n    }\n    return -1;\n}\n\nfunction isMap(x) {\n    if (!mapSize || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        mapSize.call(x);\n        try {\n            setSize.call(x);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof Map; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakMap(x) {\n    if (!weakMapHas || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakMapHas.call(x, weakMapHas);\n        try {\n            weakSetHas.call(x, weakSetHas);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof WeakMap; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakRef(x) {\n    if (!weakRefDeref || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakRefDeref.call(x);\n        return true;\n    } catch (e) {}\n    return false;\n}\n\nfunction isSet(x) {\n    if (!setSize || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        setSize.call(x);\n        try {\n            mapSize.call(x);\n        } catch (m) {\n            return true;\n        }\n        return x instanceof Set; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakSet(x) {\n    if (!weakSetHas || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakSetHas.call(x, weakSetHas);\n        try {\n            weakMapHas.call(x, weakMapHas);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof WeakSet; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isElement(x) {\n    if (!x || typeof x !== 'object') { return false; }\n    if (typeof HTMLElement !== 'undefined' && x instanceof HTMLElement) {\n        return true;\n    }\n    return typeof x.nodeName === 'string' && typeof x.getAttribute === 'function';\n}\n\nfunction inspectString(str, opts) {\n    if (str.length > opts.maxStringLength) {\n        var remaining = str.length - opts.maxStringLength;\n        var trailer = '... ' + remaining + ' more character' + (remaining > 1 ? 's' : '');\n        return inspectString($slice.call(str, 0, opts.maxStringLength), opts) + trailer;\n    }\n    // eslint-disable-next-line no-control-regex\n    var s = $replace.call($replace.call(str, /(['\\\\])/g, '\\\\$1'), /[\\x00-\\x1f]/g, lowbyte);\n    return wrapQuotes(s, 'single', opts);\n}\n\nfunction lowbyte(c) {\n    var n = c.charCodeAt(0);\n    var x = {\n        8: 'b',\n        9: 't',\n        10: 'n',\n        12: 'f',\n        13: 'r'\n    }[n];\n    if (x) { return '\\\\' + x; }\n    return '\\\\x' + (n < 0x10 ? '0' : '') + $toUpperCase.call(n.toString(16));\n}\n\nfunction markBoxed(str) {\n    return 'Object(' + str + ')';\n}\n\nfunction weakCollectionOf(type) {\n    return type + ' { ? }';\n}\n\nfunction collectionOf(type, size, entries, indent) {\n    var joinedEntries = indent ? indentedJoin(entries, indent) : $join.call(entries, ', ');\n    return type + ' (' + size + ') {' + joinedEntries + '}';\n}\n\nfunction singleLineValues(xs) {\n    for (var i = 0; i < xs.length; i++) {\n        if (indexOf(xs[i], '\\n') >= 0) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction getIndent(opts, depth) {\n    var baseIndent;\n    if (opts.indent === '\\t') {\n        baseIndent = '\\t';\n    } else if (typeof opts.indent === 'number' && opts.indent > 0) {\n        baseIndent = $join.call(Array(opts.indent + 1), ' ');\n    } else {\n        return null;\n    }\n    return {\n        base: baseIndent,\n        prev: $join.call(Array(depth + 1), baseIndent)\n    };\n}\n\nfunction indentedJoin(xs, indent) {\n    if (xs.length === 0) { return ''; }\n    var lineJoiner = '\\n' + indent.prev + indent.base;\n    return lineJoiner + $join.call(xs, ',' + lineJoiner) + '\\n' + indent.prev;\n}\n\nfunction arrObjKeys(obj, inspect) {\n    var isArr = isArray(obj);\n    var xs = [];\n    if (isArr) {\n        xs.length = obj.length;\n        for (var i = 0; i < obj.length; i++) {\n            xs[i] = has(obj, i) ? inspect(obj[i], obj) : '';\n        }\n    }\n    var syms = typeof gOPS === 'function' ? gOPS(obj) : [];\n    var symMap;\n    if (hasShammedSymbols) {\n        symMap = {};\n        for (var k = 0; k < syms.length; k++) {\n            symMap['$' + syms[k]] = syms[k];\n        }\n    }\n\n    for (var key in obj) { // eslint-disable-line no-restricted-syntax\n        if (!has(obj, key)) { continue; } // eslint-disable-line no-restricted-syntax, no-continue\n        if (isArr && String(Number(key)) === key && key < obj.length) { continue; } // eslint-disable-line no-restricted-syntax, no-continue\n        if (hasShammedSymbols && symMap['$' + key] instanceof Symbol) {\n            // this is to prevent shammed Symbols, which are stored as strings, from being included in the string key section\n            continue; // eslint-disable-line no-restricted-syntax, no-continue\n        } else if ($test.call(/[^\\w$]/, key)) {\n            xs.push(inspect(key, obj) + ': ' + inspect(obj[key], obj));\n        } else {\n            xs.push(key + ': ' + inspect(obj[key], obj));\n        }\n    }\n    if (typeof gOPS === 'function') {\n        for (var j = 0; j < syms.length; j++) {\n            if (isEnumerable.call(obj, syms[j])) {\n                xs.push('[' + inspect(syms[j]) + ']: ' + inspect(obj[syms[j]], obj));\n            }\n        }\n    }\n    return xs;\n}\n","\"use strict\";","'use strict';\n\nvar formats = require('./formats');\n\nvar has = Object.prototype.hasOwnProperty;\nvar isArray = Array.isArray;\n\nvar hexTable = (function () {\n    var array = [];\n    for (var i = 0; i < 256; ++i) {\n        array.push('%' + ((i < 16 ? '0' : '') + i.toString(16)).toUpperCase());\n    }\n\n    return array;\n}());\n\nvar compactQueue = function compactQueue(queue) {\n    while (queue.length > 1) {\n        var item = queue.pop();\n        var obj = item.obj[item.prop];\n\n        if (isArray(obj)) {\n            var compacted = [];\n\n            for (var j = 0; j < obj.length; ++j) {\n                if (typeof obj[j] !== 'undefined') {\n                    compacted.push(obj[j]);\n                }\n            }\n\n            item.obj[item.prop] = compacted;\n        }\n    }\n};\n\nvar arrayToObject = function arrayToObject(source, options) {\n    var obj = options && options.plainObjects ? Object.create(null) : {};\n    for (var i = 0; i < source.length; ++i) {\n        if (typeof source[i] !== 'undefined') {\n            obj[i] = source[i];\n        }\n    }\n\n    return obj;\n};\n\nvar merge = function merge(target, source, options) {\n    /* eslint no-param-reassign: 0 */\n    if (!source) {\n        return target;\n    }\n\n    if (typeof source !== 'object') {\n        if (isArray(target)) {\n            target.push(source);\n        } else if (target && typeof target === 'object') {\n            if ((options && (options.plainObjects || options.allowPrototypes)) || !has.call(Object.prototype, source)) {\n                target[source] = true;\n            }\n        } else {\n            return [target, source];\n        }\n\n        return target;\n    }\n\n    if (!target || typeof target !== 'object') {\n        return [target].concat(source);\n    }\n\n    var mergeTarget = target;\n    if (isArray(target) && !isArray(source)) {\n        mergeTarget = arrayToObject(target, options);\n    }\n\n    if (isArray(target) && isArray(source)) {\n        source.forEach(function (item, i) {\n            if (has.call(target, i)) {\n                var targetItem = target[i];\n                if (targetItem && typeof targetItem === 'object' && item && typeof item === 'object') {\n                    target[i] = merge(targetItem, item, options);\n                } else {\n                    target.push(item);\n                }\n            } else {\n                target[i] = item;\n            }\n        });\n        return target;\n    }\n\n    return Object.keys(source).reduce(function (acc, key) {\n        var value = source[key];\n\n        if (has.call(acc, key)) {\n            acc[key] = merge(acc[key], value, options);\n        } else {\n            acc[key] = value;\n        }\n        return acc;\n    }, mergeTarget);\n};\n\nvar assign = function assignSingleSource(target, source) {\n    return Object.keys(source).reduce(function (acc, key) {\n        acc[key] = source[key];\n        return acc;\n    }, target);\n};\n\nvar decode = function (str, decoder, charset) {\n    var strWithoutPlus = str.replace(/\\+/g, ' ');\n    if (charset === 'iso-8859-1') {\n        // unescape never throws, no try...catch needed:\n        return strWithoutPlus.replace(/%[0-9a-f]{2}/gi, unescape);\n    }\n    // utf-8\n    try {\n        return decodeURIComponent(strWithoutPlus);\n    } catch (e) {\n        return strWithoutPlus;\n    }\n};\n\nvar encode = function encode(str, defaultEncoder, charset, kind, format) {\n    // This code was originally written by Brian White (mscdex) for the io.js core querystring library.\n    // It has been adapted here for stricter adherence to RFC 3986\n    if (str.length === 0) {\n        return str;\n    }\n\n    var string = str;\n    if (typeof str === 'symbol') {\n        string = Symbol.prototype.toString.call(str);\n    } else if (typeof str !== 'string') {\n        string = String(str);\n    }\n\n    if (charset === 'iso-8859-1') {\n        return escape(string).replace(/%u[0-9a-f]{4}/gi, function ($0) {\n            return '%26%23' + parseInt($0.slice(2), 16) + '%3B';\n        });\n    }\n\n    var out = '';\n    for (var i = 0; i < string.length; ++i) {\n        var c = string.charCodeAt(i);\n\n        if (\n            c === 0x2D // -\n            || c === 0x2E // .\n            || c === 0x5F // _\n            || c === 0x7E // ~\n            || (c >= 0x30 && c <= 0x39) // 0-9\n            || (c >= 0x41 && c <= 0x5A) // a-z\n            || (c >= 0x61 && c <= 0x7A) // A-Z\n            || (format === formats.RFC1738 && (c === 0x28 || c === 0x29)) // ( )\n        ) {\n            out += string.charAt(i);\n            continue;\n        }\n\n        if (c < 0x80) {\n            out = out + hexTable[c];\n            continue;\n        }\n\n        if (c < 0x800) {\n            out = out + (hexTable[0xC0 | (c >> 6)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        if (c < 0xD800 || c >= 0xE000) {\n            out = out + (hexTable[0xE0 | (c >> 12)] + hexTable[0x80 | ((c >> 6) & 0x3F)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        i += 1;\n        c = 0x10000 + (((c & 0x3FF) << 10) | (string.charCodeAt(i) & 0x3FF));\n        /* eslint operator-linebreak: [2, \"before\"] */\n        out += hexTable[0xF0 | (c >> 18)]\n            + hexTable[0x80 | ((c >> 12) & 0x3F)]\n            + hexTable[0x80 | ((c >> 6) & 0x3F)]\n            + hexTable[0x80 | (c & 0x3F)];\n    }\n\n    return out;\n};\n\nvar compact = function compact(value) {\n    var queue = [{ obj: { o: value }, prop: 'o' }];\n    var refs = [];\n\n    for (var i = 0; i < queue.length; ++i) {\n        var item = queue[i];\n        var obj = item.obj[item.prop];\n\n        var keys = Object.keys(obj);\n        for (var j = 0; j < keys.length; ++j) {\n            var key = keys[j];\n            var val = obj[key];\n            if (typeof val === 'object' && val !== null && refs.indexOf(val) === -1) {\n                queue.push({ obj: obj, prop: key });\n                refs.push(val);\n            }\n        }\n    }\n\n    compactQueue(queue);\n\n    return value;\n};\n\nvar isRegExp = function isRegExp(obj) {\n    return Object.prototype.toString.call(obj) === '[object RegExp]';\n};\n\nvar isBuffer = function isBuffer(obj) {\n    if (!obj || typeof obj !== 'object') {\n        return false;\n    }\n\n    return !!(obj.constructor && obj.constructor.isBuffer && obj.constructor.isBuffer(obj));\n};\n\nvar combine = function combine(a, b) {\n    return [].concat(a, b);\n};\n\nvar maybeMap = function maybeMap(val, fn) {\n    if (isArray(val)) {\n        var mapped = [];\n        for (var i = 0; i < val.length; i += 1) {\n            mapped.push(fn(val[i]));\n        }\n        return mapped;\n    }\n    return fn(val);\n};\n\nmodule.exports = {\n    arrayToObject: arrayToObject,\n    assign: assign,\n    combine: combine,\n    compact: compact,\n    decode: decode,\n    encode: encode,\n    isBuffer: isBuffer,\n    isRegExp: isRegExp,\n    maybeMap: maybeMap,\n    merge: merge\n};\n","'use strict';\n\nvar replace = String.prototype.replace;\nvar percentTwenties = /%20/g;\n\nvar Format = {\n    RFC1738: 'RFC1738',\n    RFC3986: 'RFC3986'\n};\n\nmodule.exports = {\n    'default': Format.RFC3986,\n    formatters: {\n        RFC1738: function (value) {\n            return replace.call(value, percentTwenties, '+');\n        },\n        RFC3986: function (value) {\n            return String(value);\n        }\n    },\n    RFC1738: Format.RFC1738,\n    RFC3986: Format.RFC3986\n};\n","'use strict';\n\nvar utils = require('./utils');\n\nvar has = Object.prototype.hasOwnProperty;\nvar isArray = Array.isArray;\n\nvar defaults = {\n    allowDots: false,\n    allowEmptyArrays: false,\n    allowPrototypes: false,\n    allowSparse: false,\n    arrayLimit: 20,\n    charset: 'utf-8',\n    charsetSentinel: false,\n    comma: false,\n    decodeDotInKeys: true,\n    decoder: utils.decode,\n    delimiter: '&',\n    depth: 5,\n    duplicates: 'combine',\n    ignoreQueryPrefix: false,\n    interpretNumericEntities: false,\n    parameterLimit: 1000,\n    parseArrays: true,\n    plainObjects: false,\n    strictNullHandling: false\n};\n\nvar interpretNumericEntities = function (str) {\n    return str.replace(/&#(\\d+);/g, function ($0, numberStr) {\n        return String.fromCharCode(parseInt(numberStr, 10));\n    });\n};\n\nvar parseArrayValue = function (val, options) {\n    if (val && typeof val === 'string' && options.comma && val.indexOf(',') > -1) {\n        return val.split(',');\n    }\n\n    return val;\n};\n\n// This is what browsers will submit when the ✓ character occurs in an\n// application/x-www-form-urlencoded body and the encoding of the page containing\n// the form is iso-8859-1, or when the submitted form has an accept-charset\n// attribute of iso-8859-1. Presumably also with other charsets that do not contain\n// the ✓ character, such as us-ascii.\nvar isoSentinel = 'utf8=%26%2310003%3B'; // encodeURIComponent('&#10003;')\n\n// These are the percent-encoded utf-8 octets representing a checkmark, indicating that the request actually is utf-8 encoded.\nvar charsetSentinel = 'utf8=%E2%9C%93'; // encodeURIComponent('✓')\n\nvar parseValues = function parseQueryStringValues(str, options) {\n    var obj = { __proto__: null };\n\n    var cleanStr = options.ignoreQueryPrefix ? str.replace(/^\\?/, '') : str;\n    var limit = options.parameterLimit === Infinity ? undefined : options.parameterLimit;\n    var parts = cleanStr.split(options.delimiter, limit);\n    var skipIndex = -1; // Keep track of where the utf8 sentinel was found\n    var i;\n\n    var charset = options.charset;\n    if (options.charsetSentinel) {\n        for (i = 0; i < parts.length; ++i) {\n            if (parts[i].indexOf('utf8=') === 0) {\n                if (parts[i] === charsetSentinel) {\n                    charset = 'utf-8';\n                } else if (parts[i] === isoSentinel) {\n                    charset = 'iso-8859-1';\n                }\n                skipIndex = i;\n                i = parts.length; // The eslint settings do not allow break;\n            }\n        }\n    }\n\n    for (i = 0; i < parts.length; ++i) {\n        if (i === skipIndex) {\n            continue;\n        }\n        var part = parts[i];\n\n        var bracketEqualsPos = part.indexOf(']=');\n        var pos = bracketEqualsPos === -1 ? part.indexOf('=') : bracketEqualsPos + 1;\n\n        var key, val;\n        if (pos === -1) {\n            key = options.decoder(part, defaults.decoder, charset, 'key');\n            val = options.strictNullHandling ? null : '';\n        } else {\n            key = options.decoder(part.slice(0, pos), defaults.decoder, charset, 'key');\n            val = utils.maybeMap(\n                parseArrayValue(part.slice(pos + 1), options),\n                function (encodedVal) {\n                    return options.decoder(encodedVal, defaults.decoder, charset, 'value');\n                }\n            );\n        }\n\n        if (val && options.interpretNumericEntities && charset === 'iso-8859-1') {\n            val = interpretNumericEntities(val);\n        }\n\n        if (part.indexOf('[]=') > -1) {\n            val = isArray(val) ? [val] : val;\n        }\n\n        var existing = has.call(obj, key);\n        if (existing && options.duplicates === 'combine') {\n            obj[key] = utils.combine(obj[key], val);\n        } else if (!existing || options.duplicates === 'last') {\n            obj[key] = val;\n        }\n    }\n\n    return obj;\n};\n\nvar parseObject = function (chain, val, options, valuesParsed) {\n    var leaf = valuesParsed ? val : parseArrayValue(val, options);\n\n    for (var i = chain.length - 1; i >= 0; --i) {\n        var obj;\n        var root = chain[i];\n\n        if (root === '[]' && options.parseArrays) {\n            obj = options.allowEmptyArrays && leaf === '' ? [] : [].concat(leaf);\n        } else {\n            obj = options.plainObjects ? Object.create(null) : {};\n            var cleanRoot = root.charAt(0) === '[' && root.charAt(root.length - 1) === ']' ? root.slice(1, -1) : root;\n            var decodedRoot = options.decodeDotInKeys ? cleanRoot.replace(/%2E/g, '.') : cleanRoot;\n            var index = parseInt(decodedRoot, 10);\n            if (!options.parseArrays && decodedRoot === '') {\n                obj = { 0: leaf };\n            } else if (\n                !isNaN(index)\n                && root !== decodedRoot\n                && String(index) === decodedRoot\n                && index >= 0\n                && (options.parseArrays && index <= options.arrayLimit)\n            ) {\n                obj = [];\n                obj[index] = leaf;\n            } else if (decodedRoot !== '__proto__') {\n                obj[decodedRoot] = leaf;\n            }\n        }\n\n        leaf = obj;\n    }\n\n    return leaf;\n};\n\nvar parseKeys = function parseQueryStringKeys(givenKey, val, options, valuesParsed) {\n    if (!givenKey) {\n        return;\n    }\n\n    // Transform dot notation to bracket notation\n    var key = options.allowDots ? givenKey.replace(/\\.([^.[]+)/g, '[$1]') : givenKey;\n\n    // The regex chunks\n\n    var brackets = /(\\[[^[\\]]*])/;\n    var child = /(\\[[^[\\]]*])/g;\n\n    // Get the parent\n\n    var segment = options.depth > 0 && brackets.exec(key);\n    var parent = segment ? key.slice(0, segment.index) : key;\n\n    // Stash the parent if it exists\n\n    var keys = [];\n    if (parent) {\n        // If we aren't using plain objects, optionally prefix keys that would overwrite object prototype properties\n        if (!options.plainObjects && has.call(Object.prototype, parent)) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n\n        keys.push(parent);\n    }\n\n    // Loop through children appending to the array until we hit depth\n\n    var i = 0;\n    while (options.depth > 0 && (segment = child.exec(key)) !== null && i < options.depth) {\n        i += 1;\n        if (!options.plainObjects && has.call(Object.prototype, segment[1].slice(1, -1))) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n        keys.push(segment[1]);\n    }\n\n    // If there's a remainder, just add whatever is left\n\n    if (segment) {\n        keys.push('[' + key.slice(segment.index) + ']');\n    }\n\n    return parseObject(keys, val, options, valuesParsed);\n};\n\nvar normalizeParseOptions = function normalizeParseOptions(opts) {\n    if (!opts) {\n        return defaults;\n    }\n\n    if (typeof opts.allowEmptyArrays !== 'undefined' && typeof opts.allowEmptyArrays !== 'boolean') {\n        throw new TypeError('`allowEmptyArrays` option can only be `true` or `false`, when provided');\n    }\n\n    if (typeof opts.decodeDotInKeys !== 'undefined' && typeof opts.decodeDotInKeys !== 'boolean') {\n        throw new TypeError('`decodeDotInKeys` option can only be `true` or `false`, when provided');\n    }\n\n    if (opts.decoder !== null && typeof opts.decoder !== 'undefined' && typeof opts.decoder !== 'function') {\n        throw new TypeError('Decoder has to be a function.');\n    }\n\n    if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {\n        throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined');\n    }\n    var charset = typeof opts.charset === 'undefined' ? defaults.charset : opts.charset;\n\n    var duplicates = typeof opts.duplicates === 'undefined' ? defaults.duplicates : opts.duplicates;\n\n    if (duplicates !== 'combine' && duplicates !== 'first' && duplicates !== 'last') {\n        throw new TypeError('The duplicates option must be either combine, first, or last');\n    }\n\n    var allowDots = typeof opts.allowDots === 'undefined' ? opts.decodeDotInKeys === true ? true : defaults.allowDots : !!opts.allowDots;\n\n    return {\n        allowDots: allowDots,\n        allowEmptyArrays: typeof opts.allowEmptyArrays === 'boolean' ? !!opts.allowEmptyArrays : defaults.allowEmptyArrays,\n        allowPrototypes: typeof opts.allowPrototypes === 'boolean' ? opts.allowPrototypes : defaults.allowPrototypes,\n        allowSparse: typeof opts.allowSparse === 'boolean' ? opts.allowSparse : defaults.allowSparse,\n        arrayLimit: typeof opts.arrayLimit === 'number' ? opts.arrayLimit : defaults.arrayLimit,\n        charset: charset,\n        charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,\n        comma: typeof opts.comma === 'boolean' ? opts.comma : defaults.comma,\n        decodeDotInKeys: typeof opts.decodeDotInKeys === 'boolean' ? opts.decodeDotInKeys : defaults.decodeDotInKeys,\n        decoder: typeof opts.decoder === 'function' ? opts.decoder : defaults.decoder,\n        delimiter: typeof opts.delimiter === 'string' || utils.isRegExp(opts.delimiter) ? opts.delimiter : defaults.delimiter,\n        // eslint-disable-next-line no-implicit-coercion, no-extra-parens\n        depth: (typeof opts.depth === 'number' || opts.depth === false) ? +opts.depth : defaults.depth,\n        duplicates: duplicates,\n        ignoreQueryPrefix: opts.ignoreQueryPrefix === true,\n        interpretNumericEntities: typeof opts.interpretNumericEntities === 'boolean' ? opts.interpretNumericEntities : defaults.interpretNumericEntities,\n        parameterLimit: typeof opts.parameterLimit === 'number' ? opts.parameterLimit : defaults.parameterLimit,\n        parseArrays: opts.parseArrays !== false,\n        plainObjects: typeof opts.plainObjects === 'boolean' ? opts.plainObjects : defaults.plainObjects,\n        strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling\n    };\n};\n\nmodule.exports = function (str, opts) {\n    var options = normalizeParseOptions(opts);\n\n    if (str === '' || str === null || typeof str === 'undefined') {\n        return options.plainObjects ? Object.create(null) : {};\n    }\n\n    var tempObj = typeof str === 'string' ? parseValues(str, options) : str;\n    var obj = options.plainObjects ? Object.create(null) : {};\n\n    // Iterate over the keys and setup the new object\n\n    var keys = Object.keys(tempObj);\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        var newObj = parseKeys(key, tempObj[key], options, typeof str === 'string');\n        obj = utils.merge(obj, newObj, options);\n    }\n\n    if (options.allowSparse === true) {\n        return obj;\n    }\n\n    return utils.compact(obj);\n};\n","import { SpinalContextApp } from \"spinal-env-viewer-context-menu-service\";\nconst { spinalPanelManagerService } = require(\"spinal-env-viewer-panel-manager-service\");\nimport { spinalContextMenuService } from \"spinal-env-viewer-context-menu-service\";\n\nimport { ENTITY_TYPE } from \"spinal-model-analysis\";\n\nconst SIDEBAR = \"GraphManagerSideBar\";\n\nclass CreateAnalytic extends SpinalContextApp {\n   constructor() {\n      super(\"Create Analytic\",\n        \"Create Analytic\", {\n          icon: 'dashboard_customize',\n          icon_type: 'in',\n          backgroundColor: '#356BAB',\n          fontColor: '#FFFFFF'\n        })\n    }\n  \n    isShown(option) {  \n      const id = option.selectedNode.id.get();\n      const isAnalyticEntity = option.selectedNode.type.get() === ENTITY_TYPE;\n      return Promise.resolve(isAnalyticEntity ? true : -1);\n    }\n  \n    action(option) {\n      spinalPanelManagerService.openPanel(\"createAnalyticDialog\", option);\n    }\n}\n\nconst createAnalytic = new CreateAnalytic();\nspinalContextMenuService.registerApp(SIDEBAR, createAnalytic, [3]);\nexport default createAnalytic;","import { SpinalContextApp } from \"spinal-env-viewer-context-menu-service\";\nconst { spinalPanelManagerService } = require(\"spinal-env-viewer-panel-manager-service\");\nimport { spinalContextMenuService } from \"spinal-env-viewer-context-menu-service\";\n\nimport { ANALYTIC_TYPE } from \"spinal-model-analysis\";\n\nconst SIDEBAR = \"GraphManagerSideBar\";\n\nclass ModifyAnalytic extends SpinalContextApp {\n   constructor() {\n      super(\"Modify Analytic\",\n        \"Modify Analytic\", {\n          icon: 'settings',\n          icon_type: 'in',\n          backgroundColor: '#356BAB',\n          fontColor: '#FFFFFF'\n        })\n    }\n  \n    isShown(option) {  \n      const id = option.selectedNode.id.get();\n      const isAnalytic = option.selectedNode.type.get() === ANALYTIC_TYPE;\n      return Promise.resolve(isAnalytic ? true : -1);\n    }\n  \n    action(option) {\n      spinalPanelManagerService.openPanel(\"modifyAnalyticDialog\", option);\n    }\n}\n\nconst modifyAnalytic = new ModifyAnalytic();\nspinalContextMenuService.registerApp(SIDEBAR, modifyAnalytic, [3]);\nexport default modifyAnalytic;","import {\n  SpinalContextApp, spinalContextMenuService\n} from 'spinal-env-viewer-context-menu-service'\n\nimport {\n  spinalPanelManagerService\n} from 'spinal-env-viewer-panel-manager-service';\n\n\nexport class CreateContextButton extends SpinalContextApp {\n\n  constructor() {\n    super('Create Analytic context',\n      'This button allows you to create an analytic context', {\n        icon: \"category\",\n        icon_type: 'in',\n        backgroundColor: \"#356BAB\",\n        fontColor: '#ffffff'\n      })\n  }\n\n\n  isShown(option) {\n    return Promise.resolve(true);\n  }\n\n  action(option) {\n    spinalPanelManagerService.openPanel(\"createAnalyticContextDialog\")\n  }\n\n}\n","import vue from \"vue\";\nconst { SpinalMountExtention  } = require(\"spinal-env-viewer-panel-manager-service\");\nimport CreateAnalyticContextDialog from \"./createContextDialog.vue\";\nimport createEntityDialog from \"./createEntityDialog.vue\";\nimport createAnalyticDialog from \"./createAnalyticDialog.vue\"\nimport modifyAnalyticDialog from \"./modifyAnalyticDialog.vue\"\n\n\nconst dialogs = [\n   {\n      name: \"createEntityDialog\",\n      vueMountComponent: vue.extend(createEntityDialog),\n      parentContainer: document.body\n   },\n   {\n      name: \"createAnalyticContextDialog\",\n      vueMountComponent: vue.extend(CreateAnalyticContextDialog),\n      parentContainer: document.body\n    },\n    {\n      name: \"createAnalyticDialog\",\n      vueMountComponent: vue.extend(createAnalyticDialog),\n      parentContainer: document.body\n    },\n    {\n      name: \"modifyAnalyticDialog\",\n      vueMountComponent: vue.extend(modifyAnalyticDialog),\n      parentContainer: document.body\n    }\n\n];\n\nfor (let index = 0; index < dialogs.length; index++) {\n SpinalMountExtention.mount(dialogs[index]);\n}","<!--\nCopyright 2020 SpinalCom - www.spinalcom.com\n\nThis file is part of SpinalCore.\n\nPlease read all of the following terms and conditions\nof the Free Software license Agreement (\"Agreement\")\ncarefully.\n\nThis Agreement is a legally binding contract between\nthe Licensee (as defined below) and SpinalCom that\nsets forth the terms and conditions that govern your\nuse of the Program. By installing and/or using the\nProgram, you agree to abide by all the terms and\nconditions stated or referenced herein.\n\nIf you do not agree to abide by these terms and\nconditions, do not demonstrate your acceptance and do\nnot install or use the Program.\nYou should have received a copy of the license along\nwith this file. If not, see\n<http://resources.spinalcom.com/licenses.pdf>.\n-->\n\n<template>\n  <md-dialog :md-active.sync=\"showDialog\"\n             @md-closed=\"closeDialog(false)\"\n             class=\"mdDialog\">\n    <md-dialog-title class=\"mdDialogTitle\">Create Analytic context\n    </md-dialog-title>\n\n    <md-dialog-content class=\"mdDialogContainer\">\n\n      <md-steppers :md-active-step.sync=\"stepper.active\"\n                   @md-changed=\"changeStep\"\n                   md-linear\n                   class=\"mySteppers\">\n        <md-step class=\"mdStep\"\n                 :id=\"STEPPERS_DATA.context\"\n                 md-label=\"Context\"\n                 :md-done.sync=\"stepper.first\">\n          <md-content class=\"contents\">\n            <md-field>\n              <label>Context name</label>\n              <md-input v-model=\"inputValue\"\n                        ref=\"nameTextField\"></md-input>\n            </md-field>\n          </md-content>\n\n        </md-step>\n\n        <md-step class=\"mdStep\"\n                 :id=\"STEPPERS_DATA.entities\"\n                 md-label=\"Entities\"\n                 :md-done.sync=\"stepper.second\">\n\n          <sortable-list :items=\"entities\"\n                         ref=\"draggableComponent\"\n                         @addEntity=\"addEntity\"\n                         @delete=\"deleteItem\"\n                         @addAllStandardEntities=\"addAllStandardEntities\"></sortable-list>\n\n        </md-step>\n\n      </md-steppers>\n\n    </md-dialog-content>\n\n    <md-dialog-actions>\n      <md-button class=\"md-primary\"\n                 @click=\"closeDialog(false)\">Close</md-button>\n\n      <md-button class=\"md-primary\"\n                 v-if=\"stepper.active === this.STEPPERS_DATA.context\"\n                 :disabled=\"!(inputValue.trim().length > 0)\"\n                 @click=\"PassToSecondStep\">Next</md-button>\n\n      <md-button v-if=\"stepper.active === this.STEPPERS_DATA.entities\"\n                 :disabled=\"disabledButton()\"\n                 class=\"md-primary\"\n                 @click=\"closeDialog(true)\">Save</md-button>\n    </md-dialog-actions>\n\n  </md-dialog>\n</template>\n\n<script>\n\nimport { spinalAnalyticService , ENTITY_TYPES } from \"spinal-model-analysis\";\n\nimport SortableList from \"./components/sortable-list.vue\";\n\nexport default {\n  name: \"createAnalyticContextDialog\",\n  props: [\"onFinised\"],\n  components: {\n    \"sortable-list\": SortableList,\n  },\n  data() {  \n    this.STEPPERS_DATA = {\n      context: \"first\",\n      entities: \"second\",\n    };\n    return {\n      showDialog: true,\n      inputValue: \"\",\n      entities: [], \n      stepper: {\n        active: this.STEPPERS_DATA.context,\n        first: false,\n        second: false,\n      },\n    };\n  },\n  methods: {\n    opened(option) {\n      this.autoFocusNameInput();\n    },\n\n    async removed(res) {\n      if (res.closeResult){\n        const context = await spinalAnalyticService.createContext(res.inputValue.trim());\n        for (const entity of res.entities){\n          console.log(\"entity :\",entity);\n          const newEntity = {\n            name : entity.name,\n            standard_name: entity.standard_name,\n            entityType: entity.entityType,\n            description:\"\"\n          }\n          const entityInfo = await spinalAnalyticService.addEntity(newEntity,context.id.get());\n        }\n      }\n      this.showDialog = false;\n    },\n    closeDialog(closeResult) {\n      if (typeof this.onFinised === \"function\") {\n        const entities = this.getEntities();\n        this.onFinised({\n          closeResult,\n          inputValue: this.inputValue,\n          entities,\n        });\n      }\n    },\n\n    getEntities() {\n      if (this.$refs.draggableComponent) {\n        const entities = this.$refs.draggableComponent.itemsSorted;\n        return entities.map((el, index) => {\n          el.order = index;\n          return el;\n        });\n      }\n    },\n\n    disabledButton() {\n      const contextCondition = this.inputValue.trim().length === 0;\n      const stepsCondition = this.entities.length === 0;\n      return contextCondition || stepsCondition;\n    },\n\n    autoFocusNameInput() {\n      setTimeout(() => {\n        this.$refs[\"nameTextField\"].$el.focus();\n      }, 200);\n    },\n\n    changeStep(stepId) {\n      if (stepId === this.STEPPERS_DATA.context) {\n        this.stepper.active = stepId;\n        this.stepper.first = false;\n      }\n    },\n\n    PassToSecondStep() {\n      this.stepper.first = true;\n      this.stepper.active = this.STEPPERS_DATA.entities;\n    },\n\n    addEntity(res) {\n      this.entities = [...this.entities, res];\n    },\n\n    deleteItem(order) {\n      this.entities = this.entities.filter((el) => el.order !== order);\n    },\n\n    addAllStandardEntities(){\n      this.entities = [];\n      this.entities = [\n        {name: \"Building\", standard_name: \"Building\", entityType: ENTITY_TYPES.BUILDING, description: \"\",order:0},\n        {name: \"Floor\", standard_name: \"Floor\", entityType: ENTITY_TYPES.FLOOR, description: \"\",order:1},\n        {name: \"Room\", standard_name: \"Room\", entityType: ENTITY_TYPES.ROOM, description: \"\",order:2},\n        {name: \"Equipment\", standard_name: \"Equipment\", entityType: ENTITY_TYPES.EQUIPMENT, description: \"\",order:3},\n        {name: \"Floor Group\", standard_name: \"Floor Group\", entityType: ENTITY_TYPES.FLOOR_GROUP, description: \"\",order:4},\n        {name: \"Room Group\", standard_name: \"Room Group\", entityType: ENTITY_TYPES.ROOM_GROUP, description: \"\",order:5},\n        {name: \"Equipment Group\", standard_name: \"Equipment Group\", entityType: ENTITY_TYPES.EQUIPMENT_GROUP, description: \"\",order:6},\n      ]\n    }\n  },\n};\n</script>\n\n<style scoped>\n/* .dialogForm { \n   display: flex; \n  flex-direction: column; \n } */\n\n.mdDialog {\n  width: 500px;\n  height: 550px;\n}\n\n.mdDialog .mdDialogTitle {\n  text-align: center;\n}\n\n.mdDialog .mdDialogContainer {\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n}\n\n.mdDialog .mdDialogContainer .mdStep {\n  height: 350px;\n  overflow: hidden;\n  padding: 10px 0px;\n}\n\n.mdDialog .mdDialogContainer .mdStep .contents {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  overflow: auto;\n}\n\n/* .mdDialog .mdDialogContainer .contents.contextName {\n  display: flex;\n  align-items: center;\n}\n\n.mdDialog .mdDialogContainer .actions {\n  width: 100%;\n  height: 50px;\n  display: flex;\n  justify-content: flex-end;\n} */\n</style>\n\n<style>\n.mdDialog .mdDialogContainer .mdStep .md-stepper-content.md-active {\n  width: 100%;\n  height: 100%;\n}\n</style>","<!--\nCopyright 2020 SpinalCom - www.spinalcom.com\n\nThis file is part of SpinalCore.\n\nPlease read all of the following terms and conditions\nof the Free Software license Agreement (\"Agreement\")\ncarefully.\n\nThis Agreement is a legally binding contract between\nthe Licensee (as defined below) and SpinalCom that\nsets forth the terms and conditions that govern your\nuse of the Program. By installing and/or using the\nProgram, you agree to abide by all the terms and\nconditions stated or referenced herein.\n\nIf you do not agree to abide by these terms and\nconditions, do not demonstrate your acceptance and do\nnot install or use the Program.\nYou should have received a copy of the license along\nwith this file. If not, see\n<http://resources.spinalcom.com/licenses.pdf>.\n-->\n\n<template>\n  <md-content class=\"myContainer md-scrollbar\">\n    <md-button  class=\"md-dense md-primary\"\n                @click=\"addAllStandardEntities()\">\n                Add all standard entities\n    </md-button>\n    <div class=\"myFabs\">\n      <addItemsPopover @addEntity=\"addEntity\"></addItemsPopover>\n    </div>\n\n\n    <draggable v-if=\"itemsSorted.length > 0\"\n               group=\"entities\"\n               @start=\"drag=true\"\n               @end=\"drag=false\"\n               v-model=\"itemsSorted\">\n      <div class=\"listeItemDraggable\"\n           v-for=\"element in itemsSorted\"\n           :key=\"element.order\">\n        <div class=\"left\">\n          <div class=\"name\">\n            {{element.name}}\n          </div>\n        </div>\n\n        <div class=\"right\">\n          <md-button class=\"md-icon-button md-dense md-accent\"\n                     @click=\"deleteItem(element.order)\">\n            <md-icon>delete_forever</md-icon>\n          </md-button>\n        </div>\n\n      </div>\n    </draggable>\n\n    <div v-else\n         class=\"empty\">\n      No entities created\n    </div>\n\n    \n\n  </md-content>\n</template>\n\n<script>\nimport draggable from \"vuedraggable\";\nimport addItemsPopover from \"./addItemsPopover.vue\";\nexport default {\n  name: \"Sortable-List\",\n  components: { addItemsPopover, draggable },\n  props: {\n    items: { default: [] },\n  },\n  data() {\n    return {\n      itemsSorted: [],\n    };\n  },\n  mounted() {\n    this.itemsSorted = this.items;\n  },\n  methods: {\n    addEntity(res) {\n      res[\"order\"] = this.items.length;\n      this.$emit(\"addEntity\", res);\n    },\n    deleteItem(order) {\n      this.$emit(\"delete\", order);\n    },\n    addAllStandardEntities(){\n      this.$emit(\"addAllStandardEntities\");\n    }\n  },\n  watch: {\n    items() {\n      this.itemsSorted = this.items;\n    },\n  },\n};\n</script>\n\n<style scoped>\n.myContainer {\n  width: 100%;\n  height: 100%;\n  overflow: auto;\n  position: relative;\n}\n\n.myContainer .myFabs {\n  width: 50px;\n  position: absolute;\n  top: 0px;\n  right: 10px;\n}\n\n.myContainer .empty {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.listeItemDraggable {\n  width: 100%;\n  height: 50px;\n  /* background: grey; */\n  border: 1px dashed grey;\n  color: #ffffff;\n  margin-bottom: 5px;\n  margin-top: 5px;\n  display: flex;\n}\n\n.listeItemDraggable .left {\n  flex: 1 1 80%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  font-size: 1.5em;\n}\n\n.listeItemDraggable .right {\n  flex: 1 1 20%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n}\n\n.listeItemDraggable .left .name {\n  margin-left: 10px;\n}\n\n.listeItemDraggable .left .color {\n  height: 100%;\n  width: 10px;\n}\n</style>","<!--\nCopyright 2020 SpinalCom - www.spinalcom.com\n\nThis file is part of SpinalCore.\n\nPlease read all of the following terms and conditions\nof the Free Software license Agreement (\"Agreement\")\ncarefully.\n\nThis Agreement is a legally binding contract between\nthe Licensee (as defined below) and SpinalCom that\nsets forth the terms and conditions that govern your\nuse of the Program. By installing and/or using the\nProgram, you agree to abide by all the terms and\nconditions stated or referenced herein.\n\nIf you do not agree to abide by these terms and\nconditions, do not demonstrate your acceptance and do\nnot install or use the Program.\nYou should have received a copy of the license along\nwith this file. If not, see\n<http://resources.spinalcom.com/licenses.pdf>.\n-->\n\n<template>\n  <v-popover offset=\"16\"\n             :auto-hide=\"false\"\n             :open=\"show\">\n\n    <md-button class=\"tooltip-target md-fab md-mini md-primary\">\n      <md-icon>add</md-icon>\n    </md-button>\n\n    <template slot=\"popover\">\n      <div class=\"popoverContainer\">\n        <div class=\"_popoverContent\">\n          <md-field>\n            <label>Entity name</label>\n            <md-input v-model=\"name\"></md-input>\n          </md-field>\n\n          <md-field>\n            <label>Entity standard name e.g : Room , Floor etc ...</label>\n            <md-input v-model=\"standard_name\"></md-input>\n          </md-field>\n\n\n          <md-field>\n            <label>Entity type</label>\n            <md-select v-model=\"entityType\">\n              <md-option v-for=\"type in Object.keys(ENTITY_TYPES)\"\n                         :key=\"type\"\n                         :value=\"type\">\n                {{type}}\n              </md-option>\n            </md-select>\n          </md-field>\n\n          \n        </div>\n\n        <div class=\"_popoverBtn\">\n          <md-button class=\"btn md-dense md-primary\"\n                     v-close-popover>Close</md-button>\n\n          <md-button class=\"btn md-dense md-primary\"\n                     :disabled=\"disabled()\"\n                     @click=\"addEntity\"\n                     v-close-popover>ADD</md-button>\n\n        </div>\n      </div>\n\n    </template>\n  </v-popover>\n</template>\n\n<script>\n\nimport { ENTITY_TYPES } from \"spinal-model-analysis\";\n\n\nexport default {\n  name: \"addItemsPopover\",\n  components: {\n\n  },\n  data() {\n    return {\n      ENTITY_TYPES : ENTITY_TYPES,\n      name: \"\",\n      standard_name :\"\",\n      entityType: \"\",\n      show: false,\n    };\n  },\n  methods: {\n    OpenAttribute() {\n      this.show = !this.show;\n    },\n    addEntity() {\n      this.$emit(\"addEntity\", { name: this.name, standard_name: this.standard_name, entityType:ENTITY_TYPES[this.entityType]});\n      this.name = \"\";\n      this.standard_name = \"\";\n      this.entityType = \"\";\n    },\n    disabled() {\n      return this.name.trim().length === 0;\n    },\n  },\n};\n</script>\n\n<style scoped>\n.popoverContainer {\n  width: 350px;\n  height: 300px;\n}\n\n.popoverContainer ._popoverContent {\n  height: 250px;\n}\n\n.popoverContainer ._popoverContent .colorPicker {\n  width: 100%;\n  height: 100px;\n}\n\n.popoverContainer ._popoverBtn {\n  width: 100%;\n  height: 40px;\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n}\n\n.popoverContainer ._popoverBtn .btn {\n  font-size: 15px;\n  margin-right: 10px;\n  cursor: pointer;\n}\n</style>","<!--\nCopyright 2020 SpinalCom - www.spinalcom.com\n\nThis file is part of SpinalCore.\n\nPlease read all of the following terms and conditions\nof the Free Software license Agreement (\"Agreement\")\ncarefully.\n\nThis Agreement is a legally binding contract between\nthe Licensee (as defined below) and SpinalCom that\nsets forth the terms and conditions that govern your\nuse of the Program. By installing and/or using the\nProgram, you agree to abide by all the terms and\nconditions stated or referenced herein.\n\nIf you do not agree to abide by these terms and\nconditions, do not demonstrate your acceptance and do\nnot install or use the Program.\nYou should have received a copy of the license along\nwith this file. If not, see\n<http://resources.spinalcom.com/licenses.pdf>.\n-->\n\n<template>\n\t<md-dialog\n\t\tclass=\"mdDialogContainer\"\n\t\t:md-active.sync=\"showDialog\"\n\t\t@md-closed=\"closeDialog(false)\"\n\t>\n\t\t<md-dialog-title class=\"dialogTitle\">Create Entity </md-dialog-title>\n\t\t<md-dialog-content class=\"content\">\n\t\t\t<md-field>\n\t\t\t\t<label>Name</label>\n\t\t\t\t<md-input v-model=\"entity.name\"></md-input>\n\t\t\t</md-field>\n\n\t\t\t<md-field>\n\t\t\t\t<label>Standard name</label>\n\t\t\t\t<md-input v-model=\"entity.standard_name\"></md-input>\n\t\t\t</md-field>\n\n\t\t\t<md-field>\n\t\t\t\t<label for=\"entityType\">Entity type</label>\n\t\t\t\t<md-select\n\t\t\t\t\tv-model=\"entity.entityType\"\n\t\t\t\t\tname=\"entityType\"\n\t\t\t\t\tid=\"entityType\"\n\t\t\t\t>\n\t\t\t\t\t<md-option\n\t\t\t\t\t\tv-for=\"data of Object.keys(types)\"\n\t\t\t\t\t\t:key=\"data\"\n\t\t\t\t\t\t:value=\"data\"\n\t\t\t\t\t\t>{{ data }}</md-option\n\t\t\t\t\t>\n\t\t\t\t</md-select>\n\t\t\t</md-field>\n\t\t</md-dialog-content>\n\t\t<md-dialog-actions>\n\t\t\t<md-button class=\"md-primary\" @click=\"closeDialog(false)\"\n\t\t\t\t>Close</md-button\n\t\t\t>\n\t\t\t<md-button\n\t\t\t\tclass=\"md-primary\"\n\t\t\t\t:disabled=\"disabled()\"\n\t\t\t\t@click=\"closeDialog(true)\"\n\t\t\t\t>Save</md-button\n\t\t\t>\n\t\t</md-dialog-actions>\n\t</md-dialog>\n</template>\n\n<script>\n\timport {spinalAnalyticService, ENTITY_TYPES } from \"spinal-model-analysis\"\n\n\texport default {\n\t\tname: \"createEntityDialog\",\n\t\tprops: [\"onFinised\"],\n\t\tdata() {\n\t\t\tthis.types = ENTITY_TYPES;\n\t\t\tthis.contextId;\n\t\t\tthis.groupId;\n\n\t\t\treturn {\n\t\t\t\tshowDialog: true,\n\t\t\t\tentity: {\n\t\t\t\t\tname: \"\",\n\t\t\t\t\tstandard_name:\"\",\n\t\t\t\t\tentityType: \"\",\n\t\t\t\t\tdescription: \"\"\n\t\t\t\t},\n\t\t\t};\n\t\t},\n\n\t\tmethods: {\n\t\t\topened(option) {\n\t\t\t\tconsole.log(option);\n\t\t\t\tthis.contextId = option.selectedNode.id.get();\n\t\t\t\tconsole.log(this.contextId);\n\t\t\t},\n\n\t\t\tasync removed(option) {\n\t\t\t\tif (option) {\n\t\t\t\t\tconst newEntity = {\n\t\t\t\t\t\tname: this.entity.name,\n\t\t\t\t\t\tstandard_name: this.entity.standard_name,\n\t\t\t\t\t\tentityType: this.types[this.entity.entityType],\n\t\t\t\t\t\tdescription: \"\"\n\t\t\t\t\t};\n\t\t\t\t\tconst entityInfo = await spinalAnalyticService.addEntity(newEntity,this.contextId);\n\t\t\t\t}\n\t\t\t\tthis.showDialog = false;\n\t\t\t},\n\n\t\t\tcloseDialog(closeResult) {\n\t\t\t\tif (typeof this.onFinised === \"function\") {\n\t\t\t\t\tthis.onFinised(closeResult);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tdisabled() {\n\t\t\t\treturn (\n\t\t\t\t\tthis.entity.name.length === 0 ||\n\t\t\t\t\tthis.entity.entityType === \"\"\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t};\n</script>\n\n<style scoped>\n\t.mdDialogContainer {\n\t\twidth: 300px;\n\t\theight: 450px;\n\t}\n\n\t.mdDialogContainer .dialogTitle {\n\t\ttext-align: center;\n\t}\n\n\t/* .mdIcon {\n  display: flex;\n  align-items: center;\n} */\n</style>\n","<template>\n  <md-dialog\n    :md-active.sync=\"showDialog\"\n    :md-click-outside-to-close=\"false\"\n    @md-closed=\"closeDialog(false)\"\n    class=\"mdDialog\"\n  >\n    <md-dialog-title class=\"mdDialogTitle\"> Create Analytic </md-dialog-title>\n\n    <md-dialog-content class=\"mdDialogContainer\">\n      <md-steppers\n        :md-active-step.sync=\"stepper.active\"\n        @md-changed=\"changeStep\"\n        md-linear\n      >\n        <analytic-name\n          :STEPPERS_DATA=\"STEPPERS_DATA\"\n          :stepper=\"stepper\"\n          v-bind:analyticName.sync=\"analyticName\"\n          v-bind:analyticDescription.sync=\"analyticDescription\"\n          v-bind:analyticShouldTriggerAtStart.sync=\"analyticShouldTriggerAtStart\"\n          v-bind:analyticStatus.sync=\"analyticStatus\"\n          :editable=\"true\"\n        ></analytic-name>\n\n         <followed-entity\n          :STEPPERS_DATA=\"STEPPERS_DATA\"\n          :stepper=\"stepper\"\n          :entityType=\"entityType\"\n          v-bind:followedEntity.sync=\"followedEntity\"\n        ></followed-entity>\n\n        <input-configuration\n          :STEPPERS_DATA=\"STEPPERS_DATA\"\n          :stepper=\"stepper\"\n          :entityType=\"entityType\"\n          :followedEntity=\"followedEntity\"\n          @addInput=\"addInput\"\n          @removeInput=\"removeInput\"\n          v-bind:inputs.sync=\"inputs\"\n        >\n        </input-configuration>\n\n        <trigger-configuration\n          :STEPPERS_DATA=\"STEPPERS_DATA\"\n          :stepper=\"stepper\"\n          :inputs=\"inputs\"\n          @addTrigger=\"addTrigger\"\n          @removeTrigger=\"removeTrigger\"\n          v-bind:triggers.sync=\"triggers\"\n        >\n        </trigger-configuration>\n\n        <algorithm-configuration\n          :STEPPERS_DATA=\"STEPPERS_DATA\"\n          :stepper=\"stepper\"\n          @addAlgorithm=\"addAlgorithm\"\n          @removeAlgorithm=\"removeAlgorithm\"\n          v-bind:algorithms.sync=\"algorithms\"\n          >\n        </algorithm-configuration>\n\n\n        <result-configuration\n          :STEPPERS_DATA=\"STEPPERS_DATA\"\n          :stepper=\"stepper\"\n          :inputs=\"inputs\"\n          v-bind:resultName.sync=\"resultName\"\n          v-bind:resultType.sync=\"resultType\"\n          v-bind:intervalTime.sync=\"intervalTime\"\n          v-bind:ticketContextId.sync=\"ticketContextId\"\n          v-bind:ticketProcessId.sync=\"ticketProcessId\"\n          v-bind:phoneNumber.sync=\"phoneNumber\"\n          v-bind:phoneMessage.sync=\"phoneMessage\"\n          v-bind:gChatMessage.sync=\"gChatMessage\"\n          v-bind:gChatSpaceName.sync=\"gChatSpaceName\"\n          v-bind:alarmPriority.sync=\"alarmPriority\">\n        </result-configuration>\n\n\n        <io-dependencies\n          :STEPPERS_DATA=\"STEPPERS_DATA\"\n          :stepper=\"stepper\"\n          :inputs=\"inputs\"\n          :algorithms=\"algorithms\"\n          v-bind:ioDependencies.sync=\"ioDependencies\"\n          >\n        </io-dependencies>\n\n        <summary-analytic\n          :STEPPERS_DATA=\"STEPPERS_DATA\"\n          :stepper=\"stepper\"\n          :analyticName=\"analyticName\"\n          :trackingMethods=\"trackingMethods\"\n          :followedEntity=\"followedEntity\"\n          :algorithm=\"algorithm\"\n          :algorithmParameters=\"algorithmParameters\"\n          :resultName=\"resultName\"\n          :resultType=\"resultType\"\n          :intervalTime=\"intervalTime\"\n        >\n        </summary-analytic> \n      </md-steppers>\n    </md-dialog-content>\n\n    <md-dialog-actions>\n      <md-button class=\"md-primary\" @click=\"closeDialog(false)\"\n        >Close</md-button\n      >\n\n      <md-button\n        class=\"md-primary\"\n        v-if=\"stepper.active !== this.STEPPERS_DATA.summary\"\n        @click=\"PassToNextStep\"\n        >Next\n      </md-button>\n      <md-button\n        v-if=\"stepper.active === this.STEPPERS_DATA.summary\"\n        :disabled=\"isSaveButtonDisabled()\"\n        class=\"md-primary\"\n        @click=\"closeDialog(true)\"\n        >Save</md-button\n      >\n    </md-dialog-actions>\n  </md-dialog>\n</template>\n\n<script>\nimport {\n  spinalAnalyticService,\n  CATEGORY_ATTRIBUTE_TICKET_LOCALIZATION_PARAMETERS,\n  CATEGORY_ATTRIBUTE_ALGORTHM_PARAMETERS,\n  CATEGORY_ATTRIBUTE_RESULT_PARAMETERS,\n  CATEGORY_ATTRIBUTE_TRACKING_METHOD_PARAMETERS,\n  CATEGORY_ATTRIBUTE_TWILIO_PARAMETERS,\n  CATEGORY_ATTRIBUTE_ANALYTIC_PARAMETERS,\n  CATEGORY_ATTRIBUTE_IO_DEPENDENCIES,\n  CATEGORY_ATTRIBUTE_TRIGGER_PARAMETERS,\n  CATEGORY_ATTRIBUTE_ALGORITHM_INDEX_MAPPING,\n  CATEGORY_ATTRIBUTE_GCHAT_PARAMETERS,\n  ATTRIBUTE_GCHAT_MESSAGE,\n  ATTRIBUTE_GCHAT_SPACE,\n  ATTRIBUTE_PHONE_NUMBER,\n  ATTRIBUTE_PHONE_MESSAGE,\n  ATTRIBUTE_SEPARATOR,\n  ATTRIBUTE_TRACKING_METHOD,\n  ATTRIBUTE_FILTER_VALUE,\n  ATTRIBUTE_TIMESERIES,\n  ATTRIBUTE_RESULT_NAME,\n  ATTRIBUTE_RESULT_TYPE,\n  ATTRIBUTE_ANALYTIC_STATUS,\n  ATTRIBUTE_ANALYTIC_DESCRIPTION,\n  ATTRIBUTE_SEARCH_DEPTH,\n  ATTRIBUTE_STRICT_DEPTH,\n  ATTRIBUTE_SEARCH_RELATIONS,\n  ATTRIBUTE_TRIGGER_AT_START,\n  ATTRIBUTE_TICKET_CONTEXT_ID,\n  ATTRIBUTE_TICKET_PROCESS_ID,\n  ATTRIBUTE_ALARM_PRIORITY,\n  ATTRIBUTE_VALUE_SEPARATOR,\n  ANALYTIC_RESULT_TYPE,\n  TRACK_METHOD,\n  ALGORITHMS,\n  ANALYTIC_STATUS\n} from 'spinal-model-analysis';\n\nimport analyticNameVue from './components/analyticSteps/analyticName.vue';\nimport followedEntityVue from './components/analyticSteps/followedEntity.vue';\nimport inputConfiguration from './components/analyticSteps/inputConfiguration.vue';\nimport triggerConfiguration from './components/analyticSteps/triggerConfiguration.vue';\nimport algorithmConfiguration from './components/analyticSteps/algorithmConfiguration.vue';\nimport resultConfiguration from './components/analyticSteps/resultConfiguration.vue';\nimport IODependenciesVue from './components/analyticSteps/IODependencies.vue';\nimport configurationVue from './components/analyticSteps/configuration.vue';\nimport summaryVue from './components/analyticSteps/summary.vue';\n\n\nexport default {\n  name: 'createAnalyticDialog',\n  props: ['onFinised'],\n  components: {\n    'analytic-name': analyticNameVue,\n    'followed-entity': followedEntityVue,\n    'input-configuration': inputConfiguration,\n    'trigger-configuration': triggerConfiguration,\n    'algorithm-configuration': algorithmConfiguration,\n    'result-configuration': resultConfiguration,\n    'io-dependencies': IODependenciesVue,\n    'configuration': configurationVue,\n    'summary-analytic': summaryVue,\n  },\n  data() {\n\n    this.STEPPERS_DATA = {\n      analytic: 'first',\n      followedEntity: 'second',\n      inputConfiguration: 'third',\n      triggerConfiguration: 'fourth',\n      algorithmConfiguration: 'fifth',\n      resultConfiguration: 'sixth',\n      IODependencies : 'seventh',\n      summary : 'eighth',\n    };\n\n    return {\n      showDialog: true,\n      showPreviewDialog: false,\n\n      // Analytic attributes data\n      analyticName: '',\n      analyticDescription:'',\n      analyticShouldTriggerAtStart : false,\n      analyticStatus : false,\n\n\n      // Inputs -> Followed Entity -> attribute data\n      followedEntity: undefined, \n\n      // Inputs  -> Tracking Method -> attribute data\n      inputs: { },\n\n\n      // Config -> trigger attribute data\n      triggers: { },\n\n      // Config -> Algorithms attribute data\n      algorithms: {},\n\n      // Config -> I/O Dependencies attribute data\n      ioDependencies : { R : \"\"},\n\n      // Config -> Result attribute data\n      resultType : '',\n      resultName : '', \n      ticketContextId: '',\n      ticketProcessId: '',\n      phoneNumber:'',\n      phoneMessage:'',\n      alarmPriority: null,\n      gChatMessage : '',\n      gChatSpaceName : '',\n      \n      selectedNode: undefined,\n      entityType: undefined,\n\n      stepper: {\n        active: this.STEPPERS_DATA.analytic,\n        first: false,\n        second: false,\n        third: false,\n        fourth: false,\n        fifth: false,\n        sixth: false,\n        seventh: false,\n        eighth: false,\n      },\n    };\n  },\n\n  created() {\n    this.ANALYTIC_STATUS = ANALYTIC_STATUS;\n  },\n\n  methods: {\n    opened(option) {\n      this.selectedNode = option.selectedNode;\n      this.entityType = this.selectedNode.entityType.get();\n    },\n\n    async removed(res) {\n      if (res.closeResult) {\n\n        // there must be a better way to get the context id...\n        const contextId = Object.keys(this.selectedNode.contextIds.get())[0];\n\n        //create analytic Node\n        const IAnalytic = {\n          name: this.analyticName,\n          description: '',\n        };\n\n        const analyticInfo = await spinalAnalyticService.addAnalytic(\n          IAnalytic,\n          contextId,\n          this.selectedNode.id.get()\n        );\n\n        //create trackingMethod Node\n        const trackingMethodAttributes = this.getTrackingMethodAttributes();\n        console.log('trackingMethodAttributes :', trackingMethodAttributes);\n        \n        const trackingMethodInfo =\n          await spinalAnalyticService.addInputTrackingMethod(\n            trackingMethodAttributes,\n            contextId,\n            analyticInfo.id.get()\n          );\n\n\n\n        //create followedEntity Node\n\n        const followedEntityInfo =\n          await spinalAnalyticService.addInputLinkToFollowedEntity(\n            contextId,\n            analyticInfo.id.get(),\n            this.followedEntity\n        );\n\n\n        //create config Node\n        const configAttributes = {};\n\n\n        //Add all analytic parameters ( description, status, triggerAtStart)\n        const analyticAttributes = this.getAnalyticAttributes();\n        configAttributes[\n          CATEGORY_ATTRIBUTE_ANALYTIC_PARAMETERS\n        ] = analyticAttributes;\n\n\n        const triggerAttributes = this.getTriggerAttributes();\n        configAttributes[\n          CATEGORY_ATTRIBUTE_TRIGGER_PARAMETERS\n        ] = triggerAttributes;\n\n\n        const resultAttributes = this.getResultAttributes();\n        configAttributes[CATEGORY_ATTRIBUTE_RESULT_PARAMETERS] = resultAttributes;\n        \n\n\n        const algorithmParametersAttributes = this.getAlgorithmParametersAttributes();\n        configAttributes[CATEGORY_ATTRIBUTE_ALGORTHM_PARAMETERS] =\n          algorithmParametersAttributes;\n        \n        const algorithmMappingAttributes = this.getAlgorithmMappingAttributes();\n        configAttributes[CATEGORY_ATTRIBUTE_ALGORITHM_INDEX_MAPPING] = algorithmMappingAttributes;\n\n        const ioAttributes = this.getIOAttributes();\n        configAttributes[CATEGORY_ATTRIBUTE_IO_DEPENDENCIES] = ioAttributes;\n        \n        if (this.ticketContextId && this.ticketProcessId) {\n          const ticketAttributes = this.getTicketAttributes();\n          configAttributes[\n            CATEGORY_ATTRIBUTE_TICKET_LOCALIZATION_PARAMETERS\n          ] = ticketAttributes;\n        }\n\n        if(this.resultType == ANALYTIC_RESULT_TYPE.SMS){\n          const smsAttributes = this.getSMSAttributes();\n          configAttributes[\n            CATEGORY_ATTRIBUTE_TWILIO_PARAMETERS\n          ] = smsAttributes;\n        };\n\n        if([ANALYTIC_RESULT_TYPE.GCHAT_MESSAGE,ANALYTIC_RESULT_TYPE.GCHAT_ORGAN_CARD].includes(this.resultType)){\n          const gChatAttributes = this.getGChatAttributes();\n          configAttributes[\n            CATEGORY_ATTRIBUTE_GCHAT_PARAMETERS\n          ] = gChatAttributes;\n        };\n        \n        console.log('configAttributes :', configAttributes);\n\n        const configInfo = await spinalAnalyticService.addConfig(\n          configAttributes,\n          analyticInfo.id.get(),\n          contextId\n        );\n      }\n\n      this.showDialog = false;\n    },\n\n    closeDialog(closeResult) {\n      if (typeof this.onFinised === 'function') {\n        this.onFinised({\n          closeResult,\n          analyticName: this.analyticName,\n        });\n      }\n    },\n\n    addInput() {\n      let length = Object.keys(this.inputs).length;\n      console.log('adding input');\n      this.inputs = { ...this.inputs, [`I${length}`]: { trackingMethod: '', filterValue: '', searchDepth:0, strictDepth:false, searchRelations:'', timeseriesIntervalTime : 0 }};\n    },\n\n    removeInput(inputName) {\n      delete this.inputs[inputName];\n      let index = Number(inputName.match(/(\\d+)/)[0]);\n      // shift back all the inputs after the deleted one.\n      let i = index;\n      while (this.inputs[`I${i + 1}`] !== undefined) {\n        this.inputs[`I${i}`] = this.inputs[`I${i + 1}`];\n        i++;\n      }\n      // Remove the last item.\n      delete this.inputs[`I${i}`];\n\n      this.inputs = { ...this.inputs };\n      console.log(\"deleted input : \", inputName);\n    },\n\n    addTrigger() {\n      let length = Object.keys(this.triggers).length;\n      console.log('adding input');\n      this.triggers = { ...this.triggers, [`T${length}`]: { triggerType: '', triggerValue: '', changeOfValueThreshold : 0 }};\n      \n    },\n\n    removeTrigger(triggerName) {\n      delete this.triggers[triggerName];\n      let index = Number(triggerName.match(/(\\d+)/)[0]);\n      // shift back all the elements after the deleted one.\n      let i = index;\n      while (this.triggers[`T${i + 1}`] !== undefined) {\n        this.triggers[`T${i}`] = this.triggers[`T${i + 1}`];\n        i++;\n      }\n      // Remove the last item.\n      delete this.triggers[`T${i}`];\n\n      this.triggers = { ...this.triggers };\n      console.log(\"deleted trigger : \", triggerName);\n    },\n\n    addAlgorithm(){\n      let length = Object.keys(this.algorithms).length;\n      console.log('adding algorithm');\n      this.algorithms = { ...this.algorithms, [`A${length}`]: { name :'', params: []}};\n    },\n\n    removeAlgorithm(algorithmIndexName){\n      delete this.algorithms[algorithmIndexName];\n      let index = Number(algorithmIndexName.match(/(\\d+)/)[0]);\n      // shift back all the elements after the deleted one.\n      let i = index;\n      while (this.algorithms[`A${i + 1}`] !== undefined) {\n        this.algorithms[`A${i}`] = this.algorithms[`A${i + 1}`];\n        i++;\n      }\n      // Remove the last item.\n      delete this.algorithms[`A${i}`];\n\n      this.algorithms = { ...this.algorithms };\n      console.log(\"deleted algorithm : \", algorithmIndexName);\n    },\n\n    changeStep(stepId) {\n      this.stepper.active = stepId;\n    },\n\n    PassToNextStep() {\n      switch (this.stepper.active) {\n        case this.STEPPERS_DATA.analytic:\n          this.stepper.first = true;\n          this.stepper.active = this.STEPPERS_DATA.followedEntity;\n          break;\n        case this.STEPPERS_DATA.followedEntity:\n          this.stepper.second = true;\n          this.stepper.active = this.STEPPERS_DATA.inputConfiguration;\n          break;\n        case this.STEPPERS_DATA.inputConfiguration:\n          this.stepper.third = true;\n          this.stepper.active = this.STEPPERS_DATA.triggerConfiguration;\n          break;\n        case this.STEPPERS_DATA.triggerConfiguration:\n          this.stepper.fourth = true;\n          this.stepper.active = this.STEPPERS_DATA.algorithmConfiguration;\n          break;\n        case this.STEPPERS_DATA.algorithmConfiguration:\n          this.stepper.fifth = true;\n          this.stepper.active = this.STEPPERS_DATA.resultConfiguration;\n          break;\n        case this.STEPPERS_DATA.resultConfiguration:\n          this.stepper.sixth = true;\n          this.stepper.active = this.STEPPERS_DATA.IODependencies;\n          break;\n        case this.STEPPERS_DATA.IODependencies:\n          this.stepper.seventh = true;\n          this.stepper.active = this.STEPPERS_DATA.summary;\n          break;\n        case this.STEPPERS_DATA.summary:\n          this.stepper.eighth = true;\n          this.stepper.active = this.STEPPERS_DATA.summary;\n          break;\n      }\n    },\n\n    isSaveButtonDisabled() {\n      return (\n        this.analyticName === '' ||\n        this.algorithm === '' ||\n        this.resultType === '' ||\n        this.resultName === '' ||\n        this.intervalTime === null ||\n        !this.followedEntity\n      );\n    },\n\n    getTrackingMethodAttributes(){\n      const trackingMethodAttributes = {};\n      for ( const inputKey of Object.keys(this.inputs))\n      {\n        trackingMethodAttributes[inputKey] = []\n        trackingMethodAttributes[inputKey].push({ name: `${ATTRIBUTE_TRACKING_METHOD}`,\n                  type: 'string',\n                  value: this.inputs[inputKey].trackingMethod });\n        trackingMethodAttributes[inputKey].push({ name: `${ATTRIBUTE_FILTER_VALUE}`,\n                  type: 'string',\n                  value: this.inputs[inputKey].filterValue });\n        trackingMethodAttributes[inputKey].push({ name: `${ATTRIBUTE_SEARCH_DEPTH}`,\n                  type: 'number',\n                  value: this.inputs[inputKey].searchDepth });\n        trackingMethodAttributes[inputKey].push({ name: `${ATTRIBUTE_STRICT_DEPTH}`,\n                  type: 'boolean',\n                  value: this.inputs[inputKey].strictDepth });\n        trackingMethodAttributes[inputKey].push({ name: `${ATTRIBUTE_SEARCH_RELATIONS}`,\n                  type: 'string',\n                  value: this.inputs[inputKey].searchRelations });\n        \n        if([TRACK_METHOD.CONTROL_ENDPOINT_NAME_FILTER,TRACK_METHOD.ENDPOINT_NAME_FILTER].includes(this.inputs[inputKey].trackingMethod) ){\n          trackingMethodAttributes[inputKey].push({ name: `${ATTRIBUTE_TIMESERIES}`,\n                  type: 'number',\n                  value: this.inputs[inputKey].timeseriesIntervalTime });\n        }\n        \n      }\n      return trackingMethodAttributes;\n    },\n\n    getAnalyticAttributes(){\n      const analyticAttributes = [];\n      analyticAttributes.push({\n        name: `${ATTRIBUTE_ANALYTIC_DESCRIPTION}`,\n        type: 'string',\n        value: this.analyticDescription,\n      });\n      analyticAttributes.push({\n        name: `${ATTRIBUTE_ANALYTIC_STATUS}`,\n        type: 'string',\n        value: this.analyticStatus? ANALYTIC_STATUS.ACTIVE : ANALYTIC_STATUS.INACTIVE,\n      });\n      analyticAttributes.push({\n        name: `${ATTRIBUTE_TRIGGER_AT_START}`,\n        type: 'boolean',\n        value: this.analyticShouldTriggerAtStart,\n      });\n      return analyticAttributes;\n    },\n\n    getResultAttributes(){\n      const resultAttributes = [];\n      resultAttributes.push({\n        name: `${ATTRIBUTE_RESULT_TYPE}`,\n        type: 'string',\n        value: this.resultType,\n      });\n      resultAttributes.push({\n        name: `${ATTRIBUTE_RESULT_NAME}`,\n        type: 'string',\n        value: this.resultName,\n      });\n      return resultAttributes;\n    },\n\n    getAlgorithmParametersAttributes(){\n      const algorithmParametersAttributes = [];\n      for (const algorithmIndexName of Object.keys(this.algorithms)) {\n        let algoName = this.algorithms[algorithmIndexName].name;\n        const doc = ALGORITHMS[algoName].requiredParams;\n        for(let i = 0 ; i<this.algorithms[algorithmIndexName].params.length; i++){\n          algorithmParametersAttributes.push({\n            name: `${algorithmIndexName}${ATTRIBUTE_SEPARATOR}${doc[i].name}`,\n            value: doc[i].type === 'number' ? + this.algorithms[algorithmIndexName].params[i] : this.algorithms[algorithmIndexName].params[i],\n            type: doc[i].type,\n          });\n        }\n      }\n      return algorithmParametersAttributes;\n    },\n\n    getAlgorithmMappingAttributes(){\n      const algorithmMappingAttributes = [];\n      for (const algorithmIndexName of Object.keys(this.algorithms)) {\n        algorithmMappingAttributes.push({\n          name: `${algorithmIndexName}`,\n          type: 'string',\n          value: this.algorithms[algorithmIndexName].name,\n        });\n      }\n      return algorithmMappingAttributes;\n    },\n\n    getTicketAttributes(){\n      const ticketAttributes = [];\n      ticketAttributes.push({\n        name: `${ATTRIBUTE_TICKET_CONTEXT_ID}`,\n        type: 'string',\n        value: this.ticketContextId,\n      });\n      ticketAttributes.push({\n        name: `${ATTRIBUTE_TICKET_PROCESS_ID}`,\n        type: 'string',\n        value: this.ticketProcessId,\n      });\n      if(this.alarmPriority){\n          ticketAttributes.push({\n            name: `${ATTRIBUTE_ALARM_PRIORITY}`,\n            value: this.alarmPriority,\n            type: 'number',\n          });\n        }\n      return ticketAttributes;\n    },\n\n    getSMSAttributes(){\n      const smsAttributes = [];\n      smsAttributes.push({\n        name: `${ATTRIBUTE_PHONE_NUMBER}`,\n        type: 'string',\n        value: this.phoneNumber,\n      });\n      smsAttributes.push({\n        name: `${ATTRIBUTE_PHONE_MESSAGE}`,\n        type: 'string',\n        value: this.phoneMessage,\n      });\n      return smsAttributes;\n    },\n\n    getGChatAttributes(){\n      const gChatAttributes = [];\n      gChatAttributes.push({\n        name: `${ATTRIBUTE_GCHAT_MESSAGE}`,\n        type: 'string',\n        value: this.gChatMessage,\n      });\n      gChatAttributes.push({\n        name: `${ATTRIBUTE_GCHAT_SPACE}`,\n        type: 'string',\n        value: this.gChatSpaceName,\n      });\n      return gChatAttributes;\n    },\n    \n\n    getIOAttributes(){\n      const ioAttributes = [];\n      for (const ioDependencyName of Object.keys(this.ioDependencies)) {\n        let str = \"\";\n        for (const ioDependency of this.ioDependencies[ioDependencyName]) {\n          str += `${ioDependency}${ATTRIBUTE_VALUE_SEPARATOR}`;\n        }\n        str = str.slice(0, -1);\n        ioAttributes.push({\n          name: `${ioDependencyName}`,\n          type: 'string',\n          value: str,\n        });\n      }\n      return ioAttributes;\n    },\n\n    getTriggerAttributes(){\n      const triggerAttributes = [];\n      for (const triggerIndex of Object.keys(this.triggers)) {\n        let str = `${this.triggers[triggerIndex].triggerType}${ATTRIBUTE_VALUE_SEPARATOR}${this.triggers[triggerIndex].triggerValue}`;\n        if (this.triggers[triggerIndex].changeOfValueThreshold !== null) {\n          str += `${ATTRIBUTE_VALUE_SEPARATOR}${this.triggers[triggerIndex].changeOfValueThreshold}`;\n        }\n        triggerAttributes.push({\n          name: `${triggerIndex}`,\n          type: 'string',\n          value: str,\n        });\n      }\n      return triggerAttributes;\n    },\n    \n  },\n};\n</script>\n\n<style scoped>\n.mdDialog {\n  width: 1200px;\n  max-width: 1500px;\n  height: 600px;\n}\n\n.mdDialog .mdDialogTitle {\n  text-align: center;\n}\n\n.mdDialog .mdDialogContainer {\n  width: 1200px;\n  max-width: 1500px;\n  height: 100%;\n  overflow: auto;\n}\n\n.fixed-size-field {\n  width: 85%;\n  max-width: 85%;\n}\n\n.md-dialog-actions {\n  padding: 8px 16px; /* Add this line */\n  margin: 0; /* Add this line */\n}\n\n.md-button {\n  margin: 0 8px; /* Add this line */\n}\n\n.mdDialog .mdDialogContainer .mdStep {\n  height: 350px;\n  padding: 10px 0px;\n  overflow: auto;\n}\n</style>\n\n<style>\n.mdDialog .mdDialogContainer .mdStep .md-stepper-content.md-active {\n  width: 100%;\n  height: 100%;\n}\n.fixed-size-field {\n  width: 85%;\n  max-width: 85%;\n}\n\n.mdDialog .mdDialogContainer .mdStep .contents {\n  width: 100%;\n  height: 100%;\n  align-items: center;\n  overflow: auto;\n}\n</style>\n","<template>\n  <md-step\n    class=\"mdStep\"\n    :id=\"STEPPERS_DATA.analytic\"\n    md-label=\"Analytic\"\n    :md-done.sync=\"stepper.first\"\n  >\n    <md-content class=\"contents\">\n      <md-field class=\"fixed-size-field\">\n        <label>Analytic name</label>\n        <md-input\n          :disabled=\"!editable\"\n          @change=\"update('analyticName',localAnalyticName)\"\n          v-model=\"localAnalyticName\"\n        ></md-input>\n      </md-field>\n\n      <md-field class=\"fixed-size-field\">\n        <label>Analytic Description</label>\n        <md-input\n          @change=\"update('analyticDescription',localAnalyticDescription)\"\n          v-model=\"localAnalyticDescription\"\n        ></md-input>\n      </md-field>\n\n        <md-switch\n          @change=\"update('analyticShouldTriggerAtStart',localAnalyticShouldTriggerAtStart)\"\n          v-model=\"localAnalyticShouldTriggerAtStart\"\n        >Should force trigger at start : <b>{{ localAnalyticShouldTriggerAtStart ? 'Yes': 'No'}} </b> </md-switch>\n\n        <md-switch\n          @change=\"update('analyticStatus',localAnalyticStatus)\"\n          v-model=\"localAnalyticStatus\"\n        >Analytic Status : <b> {{localAnalyticStatus ? 'Active' : 'Inactive'}} </b> </md-switch>\n      \n    </md-content>\n  </md-step>\n</template>\n\n<script>\nimport { ANALYTIC_STATUS } from \"spinal-model-analysis\"\nexport default {\n  props: [\n    'STEPPERS_DATA',\n    'stepper',\n    'analyticName',\n    'analyticDescription',\n    'analyticShouldTriggerAtStart',\n    'analyticStatus',\n    'editable',\n  ],\n  data() {\n    return {\n      localAnalyticName: this.analyticName,\n      localAnalyticDescription: this.analyticDescription,\n      localAnalyticShouldTriggerAtStart: this.analyticShouldTriggerAtStart,\n      localAnalyticStatus: this.analyticStatus,\n      statuSwitchValue : this.computedStatuSwitchValue,\n    };\n  },\n  created() {\n    this.ANALYTIC_STATUS = ANALYTIC_STATUS;\n  },\n\n  computed : {\n    computedAnalyticStatus () {\n      return this.statuSwitchValue ? ANALYTIC_STATUS.ACTIVE : ANALYTIC_STATUS.INACTIVE;\n    },\n\n    computedStatuSwitchValue () {\n      return this.localAnalyticStatus === ANALYTIC_STATUS.ACTIVE;\n    }\n  },\n  methods: {\n    update(key, value) {\n      console.log('update ', key, value);\n      this.$emit(`update:${key}`, value);\n    },\n  },\n  watch: {\n    analyticName() {\n      this.localAnalyticName = this.analyticName;\n    },\n    analyticDescription() {\n      this.localAnalyticDescription = this.analyticDescription;\n    },\n    analyticShouldTriggerAtStart() {\n      this.localAnalyticShouldTriggerAtStart = this.analyticShouldTriggerAtStart;\n    },\n    analyticStatus() {\n      this.localAnalyticStatus = this.analyticStatus;\n\n    },\n  },\n};\n</script>\n","<template>\n  <md-step\n    class=\"mdStep\"\n    :id=\"STEPPERS_DATA.followedEntity\"\n    md-label=\"Anchor\"\n    :md-done.sync=\"stepper.second\"\n  >\n    <md-content class=\"contents md-scrollbar\">\n      <div>\n        <p> The followed entity (Anchor) is the source that is providing the inputs.</p>\n        <p>\n          For exemple, if the target entity type is Room and the followed entity\n          is a room, the analytic will be applied to that specific room.</p\n        >\n        <p>\n          If the target entity type is Room and the followed entity is a group\n          of rooms, the analytic will be applied to all the rooms of the\n          group.</p\n        >\n        <p>\n          <strong> Currently selected node </strong>:\n          {{ !followedEntity ? 'None' : followedEntityName }}\n        </p>\n        <md-button @click=\"showSelectGroupEntityDialog = true\">\n          Follow group entity\n        </md-button>\n\n        <md-button\n          v-if=\"showSpatialSelector\"\n          @click=\"showSelectSpatialEntityDialog = true\"\n        >\n          Follow spatial entity\n        </md-button>\n\n        <md-button\n        @click=\"showSelectContextEntityDialog = true\"\n        > Follow Context </md-button>\n\n\n      </div>\n\n\n      <link-to-context\n        v-if=\"entityType\"\n        :visible=\"showSelectContextEntityDialog\"\n        :entityType=\"entityType\"\n        @closeSelection=\"closeSelectContextEntityDialog\"\n      />\n\n      <link-to-entity\n        v-if=\"entityType && entityType != 'MonitoringServiceOrgan'\"\n        :visible=\"showSelectGroupEntityDialog\"\n        :entityType=\"\n          entityType.includes('Group') ? entityType : entityType + 'Group'\n        \"\n        @closeSelection=\"closeSelectGroupEntityDialog\"\n      />\n\n      <link-to-spatial-entity\n        v-if=\"entityType && entityType != 'MonitoringServiceOrgan'\"\n        :visible=\"showSelectSpatialEntityDialog\"\n        :entityType=\"entityType\"\n        @closeSelection=\"closeSelectSpatialEntityDialog\"\n      />\n    </md-content>\n  </md-step>\n</template>\n\n<script>\nimport linkToEntityVue from '../linkToEntity.vue';\nimport linkToSpatialEntityVue from '../linkToSpatialEntity.vue';\nimport linkToContextVue from '../linkToContext.vue';\nimport { SpinalGraphService } from 'spinal-env-viewer-graph-service';\n\nexport default {\n  props: ['STEPPERS_DATA', 'stepper', 'entityType', 'followedEntity'],\n  components: {\n    'link-to-entity': linkToEntityVue,\n    'link-to-spatial-entity': linkToSpatialEntityVue,\n    'link-to-context': linkToContextVue,\n  },\n  data() {\n    return {\n      localFollowedEntity: this.followedEntity,\n      showSelectSpatialEntityDialog: false,\n      showSelectGroupEntityDialog: false,\n      showSelectContextEntityDialog: false,\n    };\n  },\n  methods: {\n    closeSelectSpatialEntityDialog(selectedEntity) {\n      console.log('selected Entity :', selectedEntity);\n      this.$emit('update:followedEntity', selectedEntity);\n      this.showSelectSpatialEntityDialog = false;\n    },\n\n    closeSelectGroupEntityDialog(selectedGroup) {\n      console.log('selected Entity :', selectedGroup);\n      this.$emit('update:followedEntity', selectedGroup);\n      this.showSelectGroupEntityDialog = false;\n    },\n    closeSelectContextEntityDialog(selectedEntity) {\n      console.log('selected Entity :', selectedEntity);\n      this.$emit('update:followedEntity', selectedEntity);\n      this.showSelectContextEntityDialog = false;\n    },\n  },\n  computed: {\n\n    showSpatialSelector(){\n      if (!this.entityType) return false;\n      return !this.entityType.includes('Group') && this.entityType !== 'BIMObject';\n    },\n\n    followedEntityName() {\n      if (!this.followedEntity) return '';\n      const info = SpinalGraphService.getInfo(this.followedEntity);\n      console.log(info);\n      return `${info.name.get()} | Type : ${info.type.get()} | Node id : ${info.id.get()}`;\n    },\n  },\n};\n</script>\n","<template>\n   <md-dialog\n      class=\"mdDialogContainer\"\n      :md-active.sync=\"visible\"\n    >\n      <md-dialog-title class=\"dialogTitle\">Link to Group</md-dialog-title>\n      <md-dialog-content class=\"content\">\n   \n\n         <div class=\"section\">\n            <link-template\n               :title=\"'Contexts'\"\n               :data=\"data\"\n               :itemSelected=\"contextSelected\"\n               @select=\"selectContext\"\n            ></link-template>\n         </div>\n\n         <div class=\"section\">\n            <link-template\n               :title=\"'Categories'\"\n               :data=\"categories\"\n               :itemSelected=\"categorySelected\"\n               @select=\"selectCategory\"\n               :disableBtn=\"!contextSelected\"\n            ></link-template>\n\n         </div>\n\n         <div class=\"section\">\n            <link-template\n               :title=\"'Groups'\"\n               :data=\"groups\"\n               :itemSelected=\"groupSelected\"\n               @select=\"selectGroup\"\n               :disableBtn=\"!categorySelected\"\n            ></link-template>\n         </div>\n      </md-dialog-content>\n      <md-dialog-actions>\n         <md-button\n            class=\"md-primary\"\n            @click=\"closeDialog(false)\"\n         >Close</md-button>\n         <md-button\n            class=\"md-primary\"\n            :disabled=\"disabled()\"\n            @click=\"closeDialog(true)\"\n         >Save</md-button>\n      </md-dialog-actions>\n   </md-dialog>\n\n</template>\n\n<script>\nimport attributeService from \"../../../services/index\";\n\n\nimport { spinalPanelManagerService } from \"spinal-env-viewer-panel-manager-service\";\nimport { SpinalGraphService } from \"spinal-env-viewer-graph-service\";\n\nimport linkToGroupTemplate from \"./linkerTemplate.vue\";\n\nexport default {\n   name: \"dialogComponent\",\n   components: {\n      \"link-template\": linkToGroupTemplate,\n   },\n   props: [\"visible\",\"entityType\"],\n   data() {\n      return {\n         showDialog: true,\n         data: [],\n         groups: [],\n         categories: [],\n         contextSelected: undefined,\n         categorySelected: undefined,\n         groupSelected: undefined,\n         items: [],\n         type: undefined,\n         callback: undefined,\n      };\n   },\n\n   mounted() {\n      this.type = this.entityType + \"Context\";\n      this.getAllData();\n   \n   },\n\n   methods: {\n\n      closeDialog(closeResult) {\n         if(!closeResult) {\n            this.$emit(\"closeSelection\", undefined);\n         }\n         else {\n            this.$emit(\"closeSelection\",this.groupSelected)\n         }\n         \n      },\n   \n      getAllData() {\n         attributeService.getAllGroupContext(this.type).then((res) => {\n            this.data = res;\n            this.updateCategory();\n            this.updateGroups();\n         });\n      },\n      \n      getGroups() {\n         this.groupSelected = undefined;\n\n         if (this.contextSelected && this.categorySelected) {\n            let context = this.data.find(\n               (el) => el.id === this.contextSelected\n            );\n            if (context) {\n               let category = context.category.find(\n                  (el) => el.id == this.categorySelected\n               );\n\n               if (category) return category.groups;\n            }\n         }\n         return [];\n      },\n\n      disabled() {\n         return !(\n            this.contextSelected &&\n            this.categorySelected &&\n            this.groupSelected\n         );\n      },\n\n      //////////////////////////////////////////////////////////////////\n      // Modify\n      //////////////////////////////////////////////////////////////////\n\n      updateCategory() {\n         // this.categorySelected = undefined;\n         this.categories = [];\n         if (this.contextSelected) {\n            let val = this.data.find((el) => el.id === this.contextSelected);\n            if (val) this.categories = val.category;\n         }\n      },\n\n      updateGroups() {\n         // this.groupSelected = undefined;\n         this.groups = [];\n         if (this.contextSelected && this.categorySelected) {\n            let context = this.data.find(\n               (el) => el.id === this.contextSelected\n            );\n            if (context) {\n               let category = context.category.find(\n                  (el) => el.id == this.categorySelected\n               );\n\n               if (category) this.groups = category.groups;\n            }\n         }\n      },\n\n      selectContext(id) {\n         this.contextSelected = id;\n      },\n\n      selectCategory(id) {\n         this.categorySelected = id;\n      },\n\n      selectGroup(id) {\n         this.groupSelected = id;\n      },\n   },\n   watch: {\n      contextSelected() {\n         this.categorySelected = undefined;\n         this.groupSelected = undefined;\n\n         this.updateCategory();\n         this.updateGroups();\n      },\n\n      categorySelected() {\n         this.groupSelected = undefined;\n\n         this.updateGroups();\n      },\n   },\n};\n</script>\n\n<style scoped>\n.mdDialogContainer {\n   transform: translate(-50%,-50%) scale(1) !important;\n   z-index: 1000 !important;\n   width: 100%;\n   height: 600px;\n}\n\n.mdDialogContainer .dialogTitle {\n   text-align: center;\n}\n\n.mdDialogContainer .content {\n   display: flex;\n   justify-content: space-between;\n   align-items: stretch;\n}\n\n.mdDialogContainer .content .section {\n   width: 30%;\n   border: 1px solid grey;\n   border-radius: 4% 4% 0 0;\n   padding: 15px;\n}\n\n/* .mdIcon {\n  display: flex;\n  align-items: center;\n} */\n</style>\n\n<style>\n.mdDialogContainer .md-dialog-container {\n   max-width: 100%;\n   max-height: 100%;\n}\n</style>","import SpinalAttributeService from './classes/spinalAttributeService';\nimport SpinalConfigurationService from './classes/spinalConfigurationService';\n\nconst spinalAttributeService = new SpinalAttributeService();\nconst spinalConfigurationService = new SpinalConfigurationService()\n\nexport default spinalAttributeService;\n\nexport {\n  spinalAttributeService,\n  spinalConfigurationService\n}","import {\n  SpinalGraphService\n} from \"spinal-env-viewer-graph-service\";\n\nimport {\n  serviceDocumentation\n} from 'spinal-env-viewer-plugin-documentation-service';\n\nimport {\n  BIM_OBJECT_TYPE\n} from \"spinal-env-viewer-plugin-forge/dist/Constants\";\n\nimport {\n  bimObjectManagerService\n} from \"spinal-env-viewer-bim-manager-service\";\n\nimport {\n  groupManagerService\n} from \"spinal-env-viewer-plugin-group-manager-service\";\n\n// import {\n//   groupService\n// } from \"spinal-env-viewer-room-manager/services/service.js\";\n\n\nexport default class SpinalAttributeService {\n\n  constructor() { }\n\n  async testGetAllAttributes(nodeId) {\n    const node = SpinalGraphService.getRealNode(nodeId);\n    return serviceDocumentation.getAllAttributes(nodeId)\n  }\n\n  getAllAttributes(nodeId, liste) {\n    let realNode = SpinalGraphService.getRealNode(nodeId);\n\n    if (realNode) {\n      // return serviceDocumentation.getAllAttributes(realNode).then(\n      //   argAttributes => {\n      //     return argAttributes.map(el => {\n      //       let info = el.get();\n      //       if (liste && liste.indexOf(info.label) === -1) liste.push(info\n      //         .label);\n      //       return info;\n      //     })\n      //   });\n\n      return serviceDocumentation.getCategory(realNode).then(res => {\n        return res.map(el => {\n          let attrs = el.element.get();\n          return attrs.map(attr => {\n            if (liste && liste.indexOf(attr.label) === -1) liste\n              .push(attr.label);\n            attr[\"category\"] = el.nameCat;\n            return attr;\n          })\n        }).flat();\n      });\n\n    } else {\n      return Promise.resolve([]);\n    }\n  }\n\n  async getAllData(contextId, nodeId) {\n    let context = SpinalGraphService.getRealNode(contextId);\n    let realNode = SpinalGraphService.getRealNode(nodeId);\n    let res = {\n      types: [],\n      attributes: [],\n      data: {}\n    };\n\n    if (context && realNode) {\n      await realNode.findInContext(context, async (node) => {\n        SpinalGraphService._addNode(node);\n        let type = node.getType().get();\n        let info = node.info.get();\n\n        if (res.types.indexOf(type) === -1) {\n          res.types.push(type);\n        }\n\n        if (typeof res.data[type] === \"undefined\") res.data[\n          type] = [];\n\n        info[\"attributes\"] = await this.getAllAttributes(info.id, res\n          .attributes);\n\n        res.data[type].push(info);\n\n      })\n    }\n\n    return res;\n  }\n\n  getBimObjectAttribute(bimObjectInfo, attributeName) {\n\n    let model = window.spinal.BimObjectService.getModelByBimfile(bimObjectInfo\n      .bimFileId);\n\n    let value = attributeName.toLowerCase();\n\n\n    if (model) {\n      return bimObjectManagerService.getBimObjectProperties({\n        model: model,\n        selection: [bimObjectInfo.dbid]\n      }).then(res => {\n        let properties = res[0].properties[0].properties;\n\n        let found = properties.find(el => {\n          let attrName = el.attributeName.toLowerCase();\n          let displayName = el.displayName.toLowerCase();\n\n          return attrName === value || displayName === value;\n        })\n\n        if (found) {\n          return found.displayValue;\n        } else {\n          return \"-\";\n        }\n\n      }).catch(err => {\n        console.error(err);\n      })\n    } else {\n      return \"-\";\n    }\n\n  }\n\n  async createAttribute(nodeId, categoryName, attributeName) {\n    let realNode = SpinalGraphService.getRealNode(nodeId);\n\n    let category;\n\n    category = await serviceDocumentation.getCategoryByName(realNode,\n      categoryName);\n\n    if (typeof category === \"undefined\") {\n      category = await serviceDocumentation.addCategoryAttribute(realNode,\n        categoryName);\n    }\n\n\n    let attr = {\n      label: attributeName,\n      value: \"-\"\n    }\n    if (realNode.getType().get() === BIM_OBJECT_TYPE) {\n      attr.value = await this.getBimObjectAttribute(realNode.info.get(),\n        attributeName);\n    }\n\n    await serviceDocumentation.addAttributeByCategory(realNode, category,\n      attr\n        .label, attr.value);\n\n  }\n\n  async updateAttributeValue(nodeId, categoryName, attributeName,\n    attributeValue) {\n\n\n    let attr = await this.getOrCreateAttribute(nodeId, categoryName,\n      attributeName);\n\n    if (attr && attr.value) {\n      attr.value.set(attributeValue);\n    }\n  }\n\n  getBimObjects(nodeId) {\n    // console.log(SpinalGraphService.getInfo(nodeId));\n    // return SpinalGraphService.findNodes(nodeId,)\n  }\n\n  async getOrCreateAttribute(nodeId, categoryName, attributeName) {\n    let realNode = SpinalGraphService.getRealNode(nodeId);\n    if (realNode) {\n      let category = await serviceDocumentation.getCategoryByName(realNode,\n        categoryName);\n\n      if (typeof category === \"undefined\") {\n        category = await serviceDocumentation.addCategoryAttribute(realNode,\n          categoryName);\n      }\n\n      let attributes = await serviceDocumentation.getAttributesByCategory(\n        realNode,\n        categoryName);\n\n      let attr = attributes.find(el => {\n        return el.label.get() === attributeName;\n      })\n\n      if (attr) return attr;\n\n\n      await serviceDocumentation.addAttributeByCategory(realNode, category,\n        attributeName, \"-\");\n\n      attributes = await serviceDocumentation.getAttributesByCategory(\n        realNode,\n        categoryName);\n\n      return attributes.find(el => {\n        return el.label.get() === attributeName;\n      })\n\n    }\n  }\n\n\n  getAllGroupContext(type) {\n    return groupManagerService.getGroupContexts(type).then((contexts) => {\n      const promises = contexts.map(async context => {\n        context[\"category\"] = await this.getCategory(context.id);\n        return context;\n      })\n\n      return Promise.all(promises);\n    })\n\n  }\n  async getAllContexts(){\n    const contexts = await SpinalGraphService.getGraph().getChildren(\"hasContext\");\n    return contexts.map(el => SpinalGraphService.getInfo(el.info.id.get()));\n  }\n\n  async getCategory(contextId) {\n    const categories = await groupManagerService.getCategories(contextId)\n\n    const promises = categories.map(async category => {\n      let info = category.get();\n      info[\"groups\"] = await this.getGroup(category.id);\n      return info;\n    })\n\n    return Promise.all(promises);\n\n  }\n\n  async getGroup(categoryId) {\n\n    const groups = await groupManagerService.getGroups(categoryId);\n\n    return groups.map(el => el.get());\n\n  }\n\n  async getAllSpatialBuildings(){\n    const spatialContext = SpinalGraphService.getContext(\"spatial\");\n    const buildings = await SpinalGraphService.findInContextByType(spatialContext.info.id.get(),spatialContext.info.id.get(),\"geographicBuilding\");\n    //return buildings.map(el => SpinalGraphService.getInfo(el.info.id.get()));\n    return buildings;\n  }\n  linkItem(contextId, parentId, itemId) {\n    // groupService.linkElementToGroup(parentId, itemId, contextId)\n    return groupManagerService.linkElementToGroup(contextId, parentId,\n      itemId);\n  }\n\n}","\"use strict\";\n/*\n * Copyright 2020 SpinalCom - www.spinalcom.com\n *\n * This file is part of SpinalCore.\n *\n * Please read all of the following terms and conditions\n * of the Free Software license Agreement (\"Agreement\")\n * carefully.\n *\n * This Agreement is a legally binding contract between\n * the Licensee (as defined below) and SpinalCom that\n * sets forth the terms and conditions that govern your\n * use of the Program. By installing and/or using the\n * Program, you agree to abide by all the terms and\n * conditions stated or referenced herein.\n *\n * If you do not agree to abide by these terms and\n * conditions, do not demonstrate your acceptance and do\n * not install or use the Program.\n * You should have received a copy of the license along\n * with this file. If not, see\n * <http://resources.spinalcom.com/licenses.pdf>.\n */\nexports.__esModule = true;\nexports.REFERENCE_OBJECT_RELATION_TYPE = exports.BIM_OBJECT_RELATION_TYPE = exports.BIM_NODE_RELATION_TYPE = exports.BIM_OBJECT_VERSION_RELATION_TYPE = exports.REFERENCE_OBJECT_RELATION_NAME = exports.BIM_OBJECT_VERSION_RELATION_NAME = exports.BIM_OBJECT_RELATION_NAME = exports.BIM_NODE_RELATION_NAME = exports.BIM_CONTEXT_RELATION_TYPE = exports.BIM_CONTEXT_RELATION_NAME = exports.BIM_OBJECT_TYPE = exports.PART_RELATION_TYPE = exports.SCENE_RELATION_TYPE = exports.PART_RELATION_NAME = exports.SCENE_TYPE = exports.SCENE_RELATION_NAME = void 0;\nvar spinal_env_viewer_graph_service_1 = require(\"spinal-env-viewer-graph-service\");\nvar constants_js_1 = require(\"spinal-env-viewer-context-geographic-service/build/constants.js\");\nexports.SCENE_RELATION_NAME = 'hasScene';\nexports.SCENE_TYPE = \"scene\";\nexports.PART_RELATION_NAME = 'hasParts';\nexports.SCENE_RELATION_TYPE = spinal_env_viewer_graph_service_1.SPINAL_RELATION_PTR_LST_TYPE;\nexports.PART_RELATION_TYPE = spinal_env_viewer_graph_service_1.SPINAL_RELATION_PTR_LST_TYPE;\nexports.BIM_OBJECT_TYPE = constants_js_1.EQUIPMENT_TYPE;\nexports.BIM_CONTEXT_RELATION_NAME = \"hasBimContext\";\nexports.BIM_CONTEXT_RELATION_TYPE = spinal_env_viewer_graph_service_1.SPINAL_RELATION_PTR_LST_TYPE;\nexports.BIM_NODE_RELATION_NAME = \"hasBimNode\";\nexports.BIM_OBJECT_RELATION_NAME = constants_js_1.EQUIPMENT_RELATION;\nexports.BIM_OBJECT_VERSION_RELATION_NAME = \"hasBimVersion\";\nexports.REFERENCE_OBJECT_RELATION_NAME = constants_js_1.REFERENCE_RELATION;\nexports.BIM_OBJECT_VERSION_RELATION_TYPE = spinal_env_viewer_graph_service_1.SPINAL_RELATION_PTR_LST_TYPE;\nexports.BIM_NODE_RELATION_TYPE = spinal_env_viewer_graph_service_1.SPINAL_RELATION_PTR_LST_TYPE;\nexports.BIM_OBJECT_RELATION_TYPE = spinal_env_viewer_graph_service_1.SPINAL_RELATION_PTR_LST_TYPE;\nexports.REFERENCE_OBJECT_RELATION_TYPE = spinal_env_viewer_graph_service_1.SPINAL_RELATION_PTR_LST_TYPE;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst bimService_1 = require(\"./bimObjects/bimService\");\nexports.bimObjectManagerService = bimService_1.default;\n//# sourceMappingURL=index.js.map",null,"\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass BimObjectManagerService {\n    constructor() { }\n    getAllBimObjectsProperties(model) {\n        return this.getBimObjectProperties([\n            {\n                model: model,\n                selection: this.getLeafDbIds(model).selection\n            }\n        ]);\n    }\n    getBimObjectProperties(argBimObjects) {\n        // let properties = [];\n        let bimOjects = Array.isArray(argBimObjects)\n            ? argBimObjects\n            : [argBimObjects];\n        let promises = bimOjects.map(el => {\n            return this._getProperties(el.model, el.selection);\n        });\n        return Promise.all(promises).then(res => {\n            return res;\n        });\n    }\n    getLeafDbIds(model, rootId) {\n        const tree = model.getInstanceTree();\n        const dbIds = [];\n        if (typeof rootId === \"undefined\") {\n            rootId = [tree.nodeAccess.rootId];\n        }\n        else {\n            rootId = Array.isArray(rootId) ? rootId : [rootId];\n        }\n        rootId.forEach(el => {\n            const queue = [el];\n            let hasChildren;\n            while (queue.length) {\n                let id = queue.pop();\n                hasChildren = false;\n                tree.enumNodeChildren(id, childId => {\n                    hasChildren = true;\n                    queue.push(childId);\n                });\n                if (!hasChildren) {\n                    dbIds.push(id);\n                }\n            }\n        });\n        return { model: model, selection: dbIds };\n    }\n    getBimObjectsByPropertiesName(model, properties) {\n        return this.getAllBimObjectsProperties(model).then(res => {\n            let result = [];\n            for (let i = 0; i < res.length; i++) {\n                const element = res[i];\n                for (let j = 0; j < element.properties.length; j++) {\n                    const property = element.properties[j];\n                    if (typeof this._getLabel(property, properties) !== \"undefined\") {\n                        result.push(property);\n                    }\n                    // }\n                }\n                return result;\n            }\n        });\n    }\n    getBimObjectsValidated(referential, regEx) {\n        return this.getBimObjectProperties(referential).then(res => {\n            return res.map(element => {\n                return {\n                    model: element.model,\n                    properties: element.properties.filter(el => {\n                        return this._isValid(el, regEx);\n                    })\n                };\n            });\n        });\n    }\n    getBimObjectsByName(model, bimObjectName, labelName) {\n        return new Promise(resolve => {\n            model.search(bimObjectName.trim(), (res) => __awaiter(this, void 0, void 0, function* () {\n                let properties = yield this.getBimObjectProperties([\n                    { model: model, selection: res }\n                ]);\n                resolve(properties);\n            }), () => {\n                resolve([]);\n            }, labelName);\n        });\n    }\n    ////////////////////////////////////////////////////////////////////////\n    //                             PRIVATES                               //\n    ////////////////////////////////////////////////////////////////////////\n    _getProperties(model, selection) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let properties = selection.map(el => {\n                return new Promise(resolve => {\n                    model.getProperties(el, res => {\n                        // properties.push(res);\n                        resolve(res);\n                    }, err => {\n                        resolve(undefined);\n                    });\n                });\n            });\n            return {\n                model: model,\n                properties: yield Promise.all(properties)\n            };\n        });\n    }\n    _getAllDbIds(model) {\n        var instanceTree = model.getData().instanceTree;\n        var allDbIdsStr = Object.keys(instanceTree.nodeAccess.dbIdToIndex);\n        return allDbIdsStr.map(function (id) {\n            return parseInt(id);\n        });\n    }\n    _getLabel(bim, properties) {\n        for (let i = 0; i < properties.length; i++) {\n            const propertieValue = properties[i].value;\n            const propertyName = properties[i].name;\n            const found = bim.properties.find(el => {\n                return typeof propertieValue === \"undefined\" ||\n                    propertieValue.length === 0\n                    ? el.displayName.toLowerCase() ===\n                        propertyName.trim().toLocaleLowerCase()\n                    : el.displayName.toLowerCase() ===\n                        propertyName.trim().toLocaleLowerCase() &&\n                        propertieValue == el.displayValue;\n            });\n            if (typeof found === \"undefined\") {\n                return undefined;\n            }\n        }\n        return true;\n    }\n    _isValid(el, regEx) {\n        for (let i = 0; i < regEx.length; i++) {\n            let nameRegex = regEx[i].nameRegex;\n            let valueRegex = regEx[i].valueRegex;\n            let found = el.properties.find(res => {\n                if (typeof valueRegex === \"undefined\") {\n                    return nameRegex.test(res.displayName);\n                }\n                return (nameRegex.test(res.displayName) && valueRegex.test(res.displayValue));\n            });\n            if (typeof found === \"undefined\") {\n                return false;\n            }\n        }\n        return true;\n    }\n}\nexports.default = new BimObjectManagerService();\n//# sourceMappingURL=bimService.js.map",null,"import {\n  groupManagerService\n} from \"spinal-env-viewer-plugin-group-manager-service\";\n\n\nimport {\n  SpinalGraphService\n} from \"spinal-env-viewer-graph-service\";\n\nexport default class SpinalConfigurationService {\n  constructor() {\n    this.CONTEXT_NAME = \"NomenclatureConfiguration\";\n    this.CONFIGURATION_PROFIL_TYPE = \"AttributeConfiguration\";\n    this.ATTRIBUTE_TYPE = \"configurationAttribute\";\n  }\n\n  async createOrGetContext() {\n    const context = await groupManagerService.createGroupContext(\n      this.CONTEXT_NAME,\n      this.CONFIGURATION_PROFIL_TYPE\n    );\n\n    return context;\n  }\n\n  async createCategory(categoryName, iconName) {\n    const context = await this.createOrGetContext();\n    const contextId = context ? context.info.id.get() : undefined;\n\n    return groupManagerService.addCategory(contextId, categoryName, iconName);\n  }\n\n  async createGroup(categoryId, groupName, groupColor) {\n    const context = await this.createOrGetContext();\n    const contextId = context ? context.info.id.get() : undefined;\n\n    return groupManagerService.addGroup(\n      contextId,\n      categoryId,\n      groupName,\n      groupColor\n    );\n  }\n\n  async createConfiguration(\n    groupId,\n    configurationName,\n    configurationCategories = []\n  ) {\n    const context = await this.createOrGetContext();\n    const contextId = context ? context.info.id.get() : undefined;\n\n    const configurationNodeId = SpinalGraphService.createNode({\n        name: configurationName,\n        type: this.CONFIGURATION_PROFIL_TYPE,\n      },\n      new Model({\n        name: configurationName,\n        categories: configurationCategories,\n      })\n    );\n\n    await groupManagerService.linkElementToGroup(\n      contextId,\n      groupId,\n      configurationNodeId\n    );\n\n    return SpinalGraphService.getRealNode(configurationNodeId);\n  }\n\n  setAsCurrentConfiguration(nodeId) {\n    this.createOrGetContext().then((context) => {\n      let realNode = SpinalGraphService.getRealNode(nodeId);\n\n      if (realNode) {\n        if (context.info.currentConfiguration) {\n          context.info.rem_attr(\"currentConfiguration\");\n        }\n\n        context.info.add_attr({\n          currentConfiguration: new Ptr(realNode),\n        });\n      }\n    });\n  }\n\n  async deleteCurrentConf() {\n    const context = await this.createOrGetContext();\n    if (context && context.info.currentConfiguration)\n      context.info.rem_attr(\"currentConfiguration\");\n  }\n\n  getCurrentConfiguration() {\n    return this.createOrGetContext().then((context) => {\n      let confPtr = context.info.currentConfiguration;\n\n      if (typeof confPtr !== \"undefined\") {\n        return new Promise((resolve) => {\n          confPtr.load((realNode) => {\n            SpinalGraphService._addNode(realNode);\n            return realNode.getElement().then((el) => {\n              let element = el.get();\n              element[\"id\"] = realNode.info.id.get();\n              resolve(element);\n            });\n          });\n        });\n      }\n\n      return {\n        name: \"\",\n        categories: [],\n      };\n    });\n  }\n\n  editConfiguration(configurationId, configurationElement) {\n    let realNode = SpinalGraphService.getRealNode(configurationId);\n\n    if (realNode) {\n      realNode.getElement().then((element) => {\n        element.set(configurationElement);\n      });\n    }\n  }\n\n  async getConfigurationById(configId) {\n    const realNode = SpinalGraphService.getRealNode(configId);\n\n    if (realNode) {\n      const elementModel = await realNode.getElement();\n\n      if (elementModel) {\n        let element = elementModel.get();\n        element[\"id\"] = configId;\n        return element;\n      }\n    }\n\n  }\n\n  async getCategories() {\n    const context = await this.createOrGetContext();\n    return groupManagerService.getCategories(context.info.id.get());\n  }\n\n  getGroups(nodeId) {\n    // const context = await this.createOrGetContext();\n    return groupManagerService.getGroups(nodeId);\n  }\n\n  getConfigurations(groupId) {\n    return groupManagerService.getElementsLinkedToGroup(groupId);\n  }\n\n\n  isGroup(type) {\n    return groupManagerService.isGroup(type);\n  }\n\n  isCategory(type) {\n    return groupManagerService.isCategory(type);\n  }\n\n  async getElementGroup(id) {\n    const parents = await SpinalGraphService.getParents(id, []);\n\n    return parents[0];\n  }\n\n  async getTree(info) {\n    const obj = {\n      categoryId: undefined,\n      groupId: undefined,\n      configId: undefined\n    }\n\n    if (this.isCategory(info.type)) {\n\n      obj.categoryId = info.id;\n\n    } else if (this.isGroup(info.type)) {\n\n      const category = await groupManagerService.getGroupCategory(info.id);\n      if (category) obj.categoryId = category.id.get();\n\n      obj.groupId = info.id;\n\n    } else if (info.type === this.CONFIGURATION_PROFIL_TYPE) {\n\n      obj.configId = info.id;\n      const group = await this.getElementGroup(info.id);\n\n      if (group) {\n        obj.groupId = group.id.get();\n        const category = await groupManagerService.getGroupCategory(group.id\n          .get());\n\n        if (category) obj.categoryId = category.id.get();\n\n      }\n\n    }\n\n    return obj;\n\n  }\n\n}","<!--\nCopyright 2020 SpinalCom - www.spinalcom.com\nThis file is part of SpinalCore.\nPlease read all of the following terms and conditions\nof the Free Software license Agreement (\"Agreement\")\ncarefully.\nThis Agreement is a legally binding contract between\nthe Licensee (as defined below) and SpinalCom that\nsets forth the terms and conditions that govern your\nuse of the Program. By installing and/or using the\nProgram, you agree to abide by all the terms and\nconditions stated or referenced herein.\nIf you do not agree to abide by these terms and\nconditions, do not demonstrate your acceptance and do\nnot install or use the Program.\nYou should have received a copy of the license along\nwith this file. If not, see\n<http://resources.spinalcom.com/licenses.pdf>.\n-->\n\n\n<template>\n   <div class=\"subContent\">\n      <md-list class=\"title\">\n\n         <!--<md-list-item> \n          <div class=\"md-list-item-text\">\n          <span>{{title}}</span>\n          <span class=\"md-caption\"\n                v-if=\"subTitle\">{{subTitle}}</span>\n        </div>\n\n        <div class=\"md-layout-item md-size-10 mdIcon\">\n          <md-button class=\"md-icon-button\"\n                     @click=\"createEvent\"\n                     v-if=\"showBtn\">\n            <md-icon>control_point</md-icon>\n          </md-button>\n        </div> \n        </md-list-item>-->\n         <md-list-item>\n            <span class=\"md-list-item-text\">{{title}}</span>\n            <md-button\n               class=\"md-icon-button\"\n               @click=\"createEvent\"\n               v-if=\"showBtn\"\n            >\n               <md-icon>control_point</md-icon>\n            </md-button>\n         </md-list-item>\n\n      </md-list>\n\n      <md-content class=\"container md-scrollbar\">\n         <md-list>\n            <md-list-item\n               class=\"list-item\"\n               v-for=\"(item,index) in data\"\n               :key=\"index\"\n               @click=\"selectItem(item.id)\"\n               :class=\"{'selected' : item.id === itemSelected}\"\n               v-tooltip=\"item.name\"\n            >\n\n               <span class=\"md-list-item-text\">{{item.name}}</span>\n\n            </md-list-item>\n         </md-list>\n      </md-content>\n\n   </div>\n</template>\n\n<script>\nexport default {\n   name: \"linkToGroupTemplate\",\n   props: [\"data\", \"title\", \"itemSelected\", \"showBtn\", \"subTitle\"],\n   methods: {\n      createEvent() {\n         this.$emit(\"create\");\n      },\n      selectItem(id) {\n         this.$emit(\"select\", id);\n      },\n   },\n};\n</script>\n\n<style scoped>\n.subContent {\n   width: 100%;\n   height: 100%;\n}\n.subContent .title {\n   width: 100%;\n   display: flex;\n   justify-content: space-between;\n   align-items: center;\n   padding: 0 15px 0 15px;\n   border-bottom: 1px dashed grey;\n}\n.subContent .container {\n   width: 100%;\n   height: calc(100% - 50px);\n   padding: 0px !important;\n   /* border: 1px solid red; */\n   overflow: hidden;\n   overflow-y: auto;\n}\n.subContent .container .list-item {\n   border-bottom: 1px solid grey;\n}\n\n.subContent .container .list-item .md-list-item-text {\n   width: 100%;\n   display: block;\n   overflow: hidden;\n   white-space: nowrap;\n   text-overflow: ellipsis;\n}\n\n.subContent .container .list-item.selected {\n   background-color: #448aff;\n}\n</style>","<!--\nCopyright 2020 SpinalCom - www.spinalcom.com\n\nThis file is part of SpinalCore.\n\nPlease read all of the following terms and conditions\nof the Free Software license Agreement (\"Agreement\")\ncarefully.\n\nThis Agreement is a legally binding contract between\nthe Licensee (as defined below) and SpinalCom that\nsets forth the terms and conditions that govern your\nuse of the Program. By installing and/or using the\nProgram, you agree to abide by all the terms and\nconditions stated or referenced herein.\n\nIf you do not agree to abide by these terms and\nconditions, do not demonstrate your acceptance and do\nnot install or use the Program.\nYou should have received a copy of the license along\nwith this file. If not, see\n<http://resources.spinalcom.com/licenses.pdf>.\n-->\n\n<template>\n  <md-dialog\n    class=\"mdDialogContainer\"\n    :md-active.sync=\"visible\"\n  >\n    <md-dialog-title class=\"dialogTitle\"\n      >Link to {{ this.entityType }}</md-dialog-title\n    >\n    <md-dialog-content class=\"content\">\n      <div class=\"section\">\n        <link-template\n          :title=\"'Buildings'\"\n          :data=\"data\"\n          :itemSelected=\"buildingSelected\"\n          @select=\"selectBuilding\"\n        ></link-template>\n      </div>\n\n      <div class=\"section\" v-if=\"this.entityType != 'geographicBuilding'\">\n        <link-template\n          :title=\"'Floors'\"\n          :data=\"floors\"\n          :itemSelected=\"floorSelected\"\n          @select=\"selectFloor\"\n          :disableBtn=\"!buildingSelected\"\n        ></link-template>\n      </div>\n\n      <div class=\"section\" v-if=\"this.entityType == 'geographicRoom'\">\n        <link-template\n          :title=\"'Rooms'\"\n          :data=\"rooms\"\n          :itemSelected=\"roomSelected\"\n          @select=\"selectRoom\"\n          :disableBtn=\"!floorSelected\"\n        ></link-template>\n      </div>\n    </md-dialog-content>\n    <md-dialog-actions>\n      <md-button class=\"md-primary\" @click=\"closeDialog(false)\"\n        >Close</md-button\n      >\n      <md-button\n        class=\"md-primary\"\n        :disabled=\"!buildingSelected\"\n        @click=\"closeDialog(true)\"\n        >Save</md-button\n      >\n    </md-dialog-actions>\n  </md-dialog>\n</template>\n\n<script>\nimport attributeService from '../../../services/index';\n\nimport { spinalPanelManagerService } from 'spinal-env-viewer-panel-manager-service';\nimport { SpinalGraphService } from 'spinal-env-viewer-graph-service';\n\nimport linkToGroupTemplate from './linkerTemplate.vue';\n\nexport default {\n  name: 'spatialSelectComponent',\n  components: {\n    'link-template': linkToGroupTemplate,\n  },\n  props: ['visible', 'entityType'],\n  data() {\n    return {\n      showDialog: true,\n      data: [],\n      rooms: [],\n      floors: [],\n      buildingSelected: undefined,\n      floorSelected: undefined,\n      roomSelected: undefined,\n\n      items: [],\n      spatialContextId: undefined,\n    };\n  },\n\n  mounted() {\n    this.getAllData();\n    this.spatialContextId =\n      SpinalGraphService.getContext('spatial').info.id.get();\n  },\n\n  methods: {\n\n    closeDialog(closeResult) {\n      if (!closeResult) {\n        this.$emit('closeSelection', undefined);\n      } else {\n          if(this.roomSelected){\n            this.$emit('closeSelection', this.roomSelected); \n            return;   \n          }\n          if(this.floorSelected){\n            this.$emit('closeSelection', this.floorSelected);\n            return;\n          }\n          if(this.buildingSelected){\n            this.$emit('closeSelection', this.buildingSelected);\n            return;\n          }\n            \n        \n      }\n    },\n\n    getAllData() {\n      attributeService.getAllSpatialBuildings().then((res) => {\n        this.data = res;\n        //this.updateCategory();\n        //this.updateGroups();\n      });\n    },\n\n    updateCategory() {\n      // this.floorSelected = undefined;\n      this.floors = [];\n      if (this.buildingSelected) {\n        SpinalGraphService.findInContextByType(\n          this.buildingSelected,\n          this.spatialContextId,\n          'geographicFloor'\n        ).then((res) => {\n          this.floors = res;\n        });\n      }\n    },\n\n    updateGroups() {\n      // this.roomSelected = undefined;\n      this.rooms = [];\n      if (this.floorSelected) {\n        SpinalGraphService.findInContextByType(\n          this.floorSelected,\n          this.spatialContextId,\n          'geographicRoom'\n        ).then((res) => {\n          this.rooms = res;\n        });\n      }\n    },\n\n    selectBuilding(id) {\n      console.log('select building ', id);\n      this.buildingSelected = id;\n      this.floorSelected = undefined;\n      this.roomSelected = undefined;\n    },\n\n    selectFloor(id) {\n      console.log('select floor ', id);\n      this.floorSelected = id;\n      this.roomSelected = undefined;\n    },\n\n    selectRoom(id) {\n      console.log('select room ', id);\n      this.roomSelected = id;\n    },\n  },\n  watch: {\n    buildingSelected() {\n      this.floorSelected = undefined;\n      this.roomSelected = undefined;\n\n      this.updateCategory();\n      this.updateGroups();\n    },\n\n    floorSelected() {\n      this.roomSelected = undefined;\n\n      this.updateGroups();\n    },\n  },\n};\n</script>\n\n<style scoped>\n.mdDialogContainer {\n  transform: translate(-50%, -50%) scale(1) !important;\n  z-index: 1000 !important;\n  width: 100%;\n  height: 600px;\n}\n\n.mdDialogContainer .dialogTitle {\n  text-align: center;\n}\n\n.mdDialogContainer .content {\n  display: flex;\n  justify-content: flex-start;\n  align-items: stretch;\n}\n\n.mdDialogContainer .content .section {\n  flex: 1;\n  border: 1px solid grey;\n  border-radius: 4% 4% 0 0;\n  padding: 15px;\n}\n\n/* .mdIcon {\n  display: flex;\n  align-items: center;\n} */\n</style>\n\n<style>\n.mdDialogContainer .md-dialog-container {\n  max-width: 100%;\n  max-height: 100%;\n}\n</style>\n","<!--\nCopyright 2020 SpinalCom - www.spinalcom.com\n\nThis file is part of SpinalCore.\n\nPlease read all of the following terms and conditions\nof the Free Software license Agreement (\"Agreement\")\ncarefully.\n\nThis Agreement is a legally binding contract between\nthe Licensee (as defined below) and SpinalCom that\nsets forth the terms and conditions that govern your\nuse of the Program. By installing and/or using the\nProgram, you agree to abide by all the terms and\nconditions stated or referenced herein.\n\nIf you do not agree to abide by these terms and\nconditions, do not demonstrate your acceptance and do\nnot install or use the Program.\nYou should have received a copy of the license along\nwith this file. If not, see\n<http://resources.spinalcom.com/licenses.pdf>.\n-->\n\n<template>\n  <md-dialog class=\"mdDialogContainer\" :md-active.sync=\"visible\">\n    <md-dialog-title class=\"dialogTitle\">Link to context</md-dialog-title>\n    <md-dialog-content class=\"content\">\n      <div class=\"section\">\n        <link-template\n          :title=\"'Contexts'\"\n          :data=\"data\"\n          :itemSelected=\"contextSelected\"\n          @select=\"selectContext\"\n        ></link-template>\n      </div>\n    </md-dialog-content>\n    <md-dialog-actions>\n      <md-button class=\"md-primary\" @click=\"closeDialog(false)\"\n        >Close</md-button\n      >\n      <md-button\n        class=\"md-primary\"\n        :disabled=\"!contextSelected\"\n        @click=\"closeDialog(true)\"\n        >Save</md-button\n      >\n    </md-dialog-actions>\n  </md-dialog>\n</template>\n\n<script>\nimport attributeService from '../../../services/index';\n\nimport linkToGroupTemplate from './linkerTemplate.vue';\n\nexport default {\n  name: 'spatialSelectComponent',\n  components: {\n    'link-template': linkToGroupTemplate,\n  },\n  props: ['visible', 'entityType'],\n  data() {\n    return {\n      showDialog: true,\n      data: [],\n      contextSelected: undefined,\n      items: [],\n    };\n  },\n\n  mounted() {\n    this.getAllData();\n  },\n\n  methods: {\n    closeDialog(closeResult) {\n      if (!closeResult) {\n        this.$emit('closeSelection', undefined);\n      } else {\n        this.$emit('closeSelection', this.contextSelected);\n      }\n    },\n\n    getAllData() {\n      attributeService.getAllContexts().then((res) => {\n        this.data = res;\n      });\n    },\n\n    //////////////////////////////////////////////////////////////////\n    // Modify\n    //////////////////////////////////////////////////////////////////\n\n    selectContext(id) {\n      console.log('select context ', id);\n      this.contextSelected = id;\n    },\n  },\n  watch: {\n    // buildingSelected() {\n    //   this.floorSelected = undefined;\n    //   this.roomSelected = undefined;\n    //   this.updateCategory();\n    //   this.updateGroups();\n    // },\n    // floorSelected() {\n    //   this.roomSelected = undefined;\n    //   this.updateGroups();\n    // },\n  },\n};\n</script>\n\n<style scoped>\n.mdDialogContainer {\n  transform: translate(-50%, -50%) scale(1) !important;\n  z-index: 1000 !important;\n  width: 100%;\n  height: 600px;\n}\n\n.mdDialogContainer .dialogTitle {\n  text-align: center;\n}\n\n.mdDialogContainer .content {\n  display: flex;\n  justify-content: flex-start;\n  align-items: stretch;\n}\n\n.mdDialogContainer .content .section {\n  flex: 1;\n  border: 1px solid grey;\n  border-radius: 4% 4% 0 0;\n  padding: 15px;\n}\n\n/* .mdIcon {\n  display: flex;\n  align-items: center;\n} */\n</style>\n\n<style>\n.mdDialogContainer .md-dialog-container {\n  max-width: 100%;\n  max-height: 100%;\n}\n</style>\n","<template>\n  <md-step\n    class=\"mdStep\"\n    :id=\"STEPPERS_DATA.inputConfiguration\"\n    md-label=\"Inputs\"\n    :md-done.sync=\"stepper.third\"\n  >\n    <md-content class=\"contents md-scrollbar\">\n      <p>Each tracking method is an input for an algorithm</p>\n      <p>\n        The <b>search depth</b> is how deep the program should search for the tracked item. If 0, only the infered followed entities of\n        the anchor will be considered.\n      </p>\n      <p>\n        If the <b>strict depth</b> is true, the program will only consider the items found at exactly the given depth.\n      </p>\n      <p>\n        The <b>search relations</b> are the relations that the program is allowed to use to find the tracked item.\n      </p>\n      <p>\n        Timeseries interval time is how far in the past should the analytic gather data. Must be positive or null. If\n        null (equal 0), only the currentValue will be picked, otherwise, the\n        data will be picked from the current time at which the analytic will be\n        run to (currentTime - intervalTime). Beware, if the interval time > 0,\n        make sure the control-endpoint/ endpoint has timeseries.\n      </p>\n      <div v-for=\"([inputName, value]) in Object.entries(localInputs)\" :key=\"inputName\" class=\"trackingMethodBlock\">\n\n        <b>Input {{inputName}}</b>\n        <md-field class=\"fixed-size-field\">\n          <label>Tracking Method</label>\n          <md-select v-model=\"value.trackingMethod\">\n            <md-option\n              v-for=\"data of TRACK_METHOD\"\n              :key=\"data\"\n              :value=\"data\"\n            >{{ data }}</md-option\n            >\n          </md-select>\n        </md-field>\n        <md-field class=\"fixed-size-field\"  v-if=\"value.trackingMethod != ''\">\n          <label> Search Depth </label>\n          <md-input type=\"number\" min=\"0\" v-model=\"value.searchDepth\"></md-input>\n        </md-field>\n        <md-button\n          class=\"md-primary\"\n          :disabled=\"isShowAvailableDataDisabled(value)\"\n          @click=\"scanRelations(value)\"\n        >\n          Scan relations\n        </md-button>\n  \n        <md-button\n          class=\"md-primary\"\n          :disabled=\"isShowAvailableDataDisabled(value)\"\n          @click=\"getPreviewAvailableData(value)\"\n        >\n          Show available data\n        </md-button>\n\n        <md-field class=\"fixed-size-field\"  v-if=\"value.trackingMethod != '' && value.searchDepth>0\" >\n          <label> \n            Search Relations separated by comma (example: hasBimObject,relation2,... )\n          </label>\n          <md-input v-model=\"value.searchRelations\"></md-input>\n        </md-field>\n        \n\n        <md-field class=\"fixed-size-field\"  v-if=\"value.trackingMethod != ''\">\n          <label> Filter Value ( Case sensitive )</label>\n          <md-input v-model=\"value.filterValue\"></md-input>\n        </md-field>\n\n        <md-switch v-if=\"value.trackingMethod != '' && value.searchDepth >0\"\n          v-model=\"value.strictDepth\"\n        >Data must be found at exactly depth {{value.searchDepth}} : <b> {{value.strictDepth ? 'Yes' : 'No'}} </b> \n        </md-switch>\n\n        \n\n        <md-field class=\"fixed-size-field\"  v-if=\"showTimeSeriesField(value)\">\n          <label> Timeseries interval time ( 0 to only take current value )</label>\n          <md-input type=\"number\" min=\"0\" v-model=\"value.timeseriesIntervalTime\"></md-input>\n        </md-field>\n        \n        <md-button\n          class=\"md-primary\"\n          :disabled=\"isPreviewDisabled(value)\"\n          @click=\"getPreviewData(value)\"\n        >\n          Preview input\n        </md-button>\n        <md-button\n          class=\"md-accent\"\n          @click=\"removeInput(inputName)\">\n          Remove\n        </md-button>\n        \n      </div>\n\n      <md-button\n        class=\"md-primary\"\n        @click=\"addInput\"\n      >\n        Add Input\n      </md-button>\n\n      <!--     \n      <md-button\n        class=\"md-primary\"\n        :disabled=\"isGlobalPreviewDisabled\"\n        @click=\"getGlobalPreviewData()\"\n      >\n      Preview All inputs\n      </md-button> -->\n    </md-content>\n    <preview-dialog\n      :visible=\"showPreviewDialog\"\n      :data=\"prettyData\"\n      @closeDialog=\"closePreviewDialog\"\n    >\n    </preview-dialog>\n  </md-step>\n</template>\n\n<script>\nimport { TRACK_METHOD, spinalAnalyticService, ATTRIBUTE_VALUE_SEPARATOR,\n getChoiceRelationsWithDepth, getAvailableData } from 'spinal-model-analysis';\nimport { SpinalGraphService } from 'spinal-env-viewer-graph-service';\nimport previewDialogVue from '../previewDialog.vue';\n\nexport default {\n  props: ['STEPPERS_DATA', 'stepper','entityType','followedEntity'\n  ,'inputs' ],\n  components: {\n    'preview-dialog': previewDialogVue,\n  },\n  data() {\n    return {\n        localInputs : this.inputs,\n        showPreviewDialog:false,\n        previewData: '',\n        scannedRelations:'',\n      \n    };\n  },\n  created() {\n    this.TRACK_METHOD = TRACK_METHOD;\n  },\n  methods: {\n    \n    addInput() {\n      console.log('clicked on button add input');\n      this.$emit('addInput');\n    },\n    removeInput(index){\n      this.$emit('removeInput',index);\n    },\n\n    async getCapturedInputs(tracking,entity){\n      console.log('Calling getCapturedInputs tracking:' ,tracking)\n      const capturedInput =\n          await spinalAnalyticService.applyTrackingMethodWithParams(\n            entity,\n            tracking.trackingMethod,\n            tracking.filterValue,\n            tracking.searchDepth,\n            tracking.strictDepth,\n            tracking.searchRelations.split(ATTRIBUTE_VALUE_SEPARATOR)\n          );\n        if (!capturedInput) return \"!! Not found !!\";\n        console.log('capturedInput :', capturedInput);\n        if(tracking.trackingMethod === this.TRACK_METHOD.ATTRIBUTE_NAME_FILTER){\n          if (Array.isArray(capturedInput)) return capturedInput;\n          return capturedInput.label.get();\n        }\n        if(Array.isArray(capturedInput)) return capturedInput.map(el => el.name.get());\n        return capturedInput.name.get();\n    },\n\n    async scanRelations(tracking){\n      this.showPreviewDialog = true;\n      this.previewData = '';\n      console.log('Calling scanRelations');\n      \n      const followedEntityInfo = SpinalGraphService.getInfo(\n        this.followedEntity\n      );\n      const previewData = {};\n      const entities  = await spinalAnalyticService.getWorkingFollowedEntitiesWithParam(followedEntityInfo,this.entityType);\n      for (const subEntity of entities) {\n        let subEntityName = subEntity.name.get();\n        subEntityName = subEntityName.replace(/(\\r\\n|\\n|\\r)/gm, \"\");\n        const relations = await getChoiceRelationsWithDepth(subEntity.id.get(),tracking.searchDepth);\n        previewData[subEntityName] = relations;\n      }\n      this.previewData = previewData;\n\n    },\n\n    async getPreviewAvailableData(tracking){\n      this.showPreviewDialog = true;\n      this.previewData = '';\n      console.log('Calling getPreviewAvailableData');\n      const followedEntityInfo = SpinalGraphService.getInfo(\n        this.followedEntity\n      );\n      const entities  = await spinalAnalyticService.getWorkingFollowedEntitiesWithParam(followedEntityInfo,this.entityType);\n      const previewData = {};\n      for (const subEntity of entities) {\n        let subEntityName = subEntity.name.get();\n        subEntityName = subEntityName.replace(/(\\r\\n|\\n|\\r)/gm, \"\");\n        const availableData = await getAvailableData(\n          tracking.trackingMethod,\n          subEntity.id.get(),\n          tracking.filterValue,\n          tracking.searchDepth,\n          tracking.strictDepth,\n          tracking.searchRelations.split(ATTRIBUTE_VALUE_SEPARATOR));\n        previewData[subEntityName] = availableData;\n      }\n      this.previewData = previewData;\n    },\n\n    async getPreviewData(tracking){\n      this.showPreviewDialog = true;\n      this.previewData = '';\n      console.log('Calling getPreviewData');\n      const followedEntityInfo = SpinalGraphService.getInfo(\n        this.followedEntity\n      );\n      const entities  = await spinalAnalyticService.getWorkingFollowedEntitiesWithParam(followedEntityInfo,this.entityType);\n      const previewData = {};\n      for (const subEntity of entities) {\n        let subEntityName = subEntity.name.get();\n        subEntityName = subEntityName.replace(/(\\r\\n|\\n|\\r)/gm, \"\");\n        const capturedInputs = await this.getCapturedInputs(tracking,subEntity);\n        previewData[subEntityName] = capturedInputs;\n      }\n      \n      //this.previewData = JSON.stringify(previewData, null, 2);\n      this.previewData = previewData;\n\n    },\n    \n    /*async getPreviewData2(tracking) {\n      this.showPreviewDialog = true;\n      this.previewData = '';\n      console.log('Calling getPreviewData');\n\n      const followedEntityInfo = SpinalGraphService.getInfo(\n        this.followedEntity\n      );\n\n      let followedEntityName = followedEntityInfo.name.get();\n      followedEntityName = followedEntityName.replace(/(\\r\\n|\\n|\\r)/gm, \"\");\n\n      const previewData = { [followedEntityName]: {} };\n\n      if (this.entityType === followedEntityInfo.type.get()) {\n        const capturedInputs = await this.getCapturedInputs(tracking,followedEntityInfo);\n        previewData[followedEntityName] = capturedInputs;\n      } else {\n        const isGroup = followedEntityInfo.type.get().includes('Group');\n        let subEntities;\n        if (isGroup) {\n          const relationNameToSubEntities = 'groupHas' + this.entityType;\n          subEntities = await SpinalGraphService.getChildren(\n            followedEntityInfo.id.get(),\n            [relationNameToSubEntities]\n          );\n        } else {\n          console.log('Getting sub entities through spatial context');\n          const spatialContextId = SpinalGraphService.getContext('spatial').info.id.get();\n          subEntities = await SpinalGraphService.findInContextByType(\n          this.followedEntity,\n          spatialContextId,\n          this.entityType\n          );\n        }\n\n        await this.updatePreviewData(tracking,subEntities, followedEntityName, previewData);\n      }\n\n      console.log('previewData :', previewData);\n      //this.previewData = JSON.stringify(previewData, null, 2);\n      this.previewData = previewData;\n    },*/\n\n\n    closePreviewDialog(){\n      this.showPreviewDialog = false;\n    },\n\n    isPreviewDisabled(tracking) {\n      return (\n        !this.followedEntity ||\n        tracking.trackingMethod === ''\n        || tracking.filterValue === ''\n      );\n    },\n    isShowAvailableDataDisabled(tracking) {\n      return (\n        !this.followedEntity ||\n        tracking.trackingMethod === ''\n      );\n    },\n    showTimeSeriesField(tracking) {\n      return  (tracking.trackingMethod === this.TRACK_METHOD.ENDPOINT_NAME_FILTER ||\n       tracking.trackingMethod === this.TRACK_METHOD.CONTROL_ENDPOINT_NAME_FILTER);\n    },\n\n  },\n  computed: {\n    isGlobalPreviewDisabled() {\n      return (\n        true);\n    },\n    \n\n    followedEntityName() {\n      if (!this.followedEntity) return '';\n      const info = SpinalGraphService.getInfo(this.followedEntity);\n      console.log(info);\n      return `${info.name.get()} | Type : ${info.type.get()} | Node id : ${info.id.get()}`;\n    },\n    prettyData() {\n      return JSON.stringify(this.previewData, null, 2);\n    },\n  },\n\n  watch:{\n    inputs(){\n      console.log('parent inputs changed')\n      this.localInputs = this.inputs;\n    }\n  }\n};\n</script>\n\n<style scoped>\n.trackingMethodBlock {\n  border: 2px dashed #ffffff;\n  padding: 10px;\n  margin-bottom: 10px;\n  width: 90%;\n}\n\n\n</style>\n\n","<template>\n  <div>\n    <md-dialog\n      :md-click-outside-to-close=\"false\"\n      :md-close-on-esc=\"false\"\n      class=\"mdDialog\"\n      :md-active.sync=\"visible\"\n    >\n      <md-dialog-title>Preview captured data</md-dialog-title>\n      \n      <md-content class=\"content md-scrollbar\">\n        <div class=\"json-preview\">\n          <pre>{{ data }}</pre>\n        </div>\n      </md-content>\n\n      <md-dialog-actions>\n        <md-button class=\"md-primary\" @click=\"close\">Close</md-button>\n      </md-dialog-actions>\n    </md-dialog>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'previewDialog',\n  props: {\n    visible: {\n      type: Boolean,\n      required: true,\n    },\n    data: {\n      type: String,\n      required: true,\n    },\n  },\n  data: () => ({}),\n  methods: {\n    close() {\n      this.$emit('closeDialog');\n    },\n  },\n};\n</script>\n\n<style scoped>\n.mdDialog {\n  transform: translate(-50%, -50%) scale(1) !important;\n  z-index: 1000 !important;\n}\n.content {\n  max-height: 400px;\n  width: 700px;\n  overflow-y: auto;\n}\n.json-preview {\n  margin: 20px;\n  background-color: #1e1e1e;\n  border: 2px solid #3a3a3a;\n  border-radius: 8px;\n  padding: 20px;\n  color: #ffffff;\n  font-family: monospace;\n  white-space: pre-wrap;\n  word-wrap: break-word;\n}\n\n.json-preview pre {\n  margin: 10px;\n}\n</style>\n","<template>\n  <md-step\n    class=\"mdStep\"\n    :id=\"STEPPERS_DATA.triggerConfiguration\"\n    md-label=\"Triggers\"\n    :md-done.sync=\"stepper.fourth\"\n  >\n    <md-content class=\"contents md-scrollbar\">\n      <p>\n        A trigger is a condition that must be met for the analytic to be\n        executed. For exemple you can bind on one of the inputs to execute the\n        analytic when the value of the input is changed. Or you can add a time\n        based trigger that will make the analytic execute every 20000 ms ( 20s\n        ).\n      </p>\n\n      <div\n        v-for=\"[triggerName, value] in Object.entries(localTriggers)\"\n        :key=\"triggerName\"\n        class=\"block\"\n      >\n        <b>Trigger {{ triggerName }}</b>\n        <md-field class=\"fixed-size-field\">\n          <label>Trigger type</label>\n          <md-select\n            v-model=\"value.triggerType\"\n            @md-selected=\"resetInfo(value)\"\n          >\n            <md-option v-for=\"data of TRIGGER_TYPE\" :key=\"data\" :value=\"data\">{{\n              data\n            }}</md-option>\n          </md-select>\n        </md-field>\n\n        <md-field\n          class=\"fixed-size-field\"\n          v-if=\"value.triggerType == TRIGGER_TYPE.INTERVAL_TIME\"\n        >\n          <label> Interval time value (ms) </label>\n          <md-input\n            type=\"number\"\n            min=\"0\"\n            v-model=\"value.triggerValue\"\n          ></md-input>\n        </md-field>\n        <md-field\n          class=\"fixed-size-field\"\n          v-if=\"showInputSelection(value.triggerType)\"\n        >\n          <label\n            >Input selection (which input do you want to use for change of value\n            tracking)</label\n          >\n          <md-select v-model=\"value.triggerValue\">\n            <md-option\n              v-for=\"data of Object.keys(inputs)\"\n              :key=\"data\"\n              :value=\"data\"\n              >{{ data }}</md-option\n            >\n          </md-select>\n        </md-field>\n        <md-field\n          class=\"fixed-size-field\"\n          v-if=\"\n            value.triggerType == TRIGGER_TYPE.CHANGE_OF_VALUE_WITH_THRESHOLD\n          \"\n        >\n          <label>\n            Threshold value (any change greater than treshold value will trigger\n            analytic)\n          </label>\n          <md-input\n            type=\"number\"\n            min=\"0\"\n            v-model=\"value.changeOfValueThreshold\"\n          ></md-input>\n        </md-field>\n\n        <div v-if=\"value.triggerType == TRIGGER_TYPE.CRON\" >\n          \n          <md-button class=\"md-primary\" @click=\"showCronHelper\"> Need help ?\n            <md-icon class=\"help-icon\" @click=\"showCronHelper\"\n              >help</md-icon\n            >\n          </md-button>\n          <md-field\n            class=\"fixed-size-field\"\n            \n          >\n            <label> Cron pattern </label>\n            <md-input\n              v-model=\"value.triggerValue\"\n              placeholder=\"* * * * *\"\n            ></md-input>\n            \n          </md-field>\n        </div>\n        \n\n        <md-button class=\"md-accent\" @click=\"removeTrigger(triggerName)\">\n          Remove\n        </md-button>\n      </div>\n\n      <md-button class=\"md-primary\" @click=\"addTrigger\">\n        Add Trigger\n      </md-button>\n      <cron-help-dialog\n          :showCronHelpModal=\"showCronHelpModal\"\n          @closeCronHelpDialog=\"showCronHelpModal = false\"\n        ></cron-help-dialog>\n    </md-content>\n  </md-step>\n</template>\n\n<script>\nimport { TRIGGER_TYPE } from 'spinal-model-analysis';\nimport cronHelpDialog from '../cronHelpDialog.vue';\n\nexport default {\n  props: ['STEPPERS_DATA', 'stepper', 'inputs', 'triggers'],\n  components: {\n    'cron-help-dialog':cronHelpDialog,\n  },\n  data() {\n    return {\n      localTriggers: this.triggers,\n      showPreviewDialog: false,\n      showCronHelpModal: false,\n      previewData: '',\n    };\n  },\n  created() {\n    this.TRIGGER_TYPE = TRIGGER_TYPE;\n  },\n  methods: {\n    addTrigger() {\n      console.log('clicked on button add Trigger');\n      this.$emit('addTrigger');\n    },\n    removeTrigger(triggerName) {\n      this.$emit('removeTrigger', triggerName);\n    },\n    showInputSelection(triggerType) {\n      return [\n        TRIGGER_TYPE.CHANGE_OF_VALUE_WITH_THRESHOLD,\n        TRIGGER_TYPE.CHANGE_OF_VALUE,\n      ].includes(triggerType);\n    },\n\n    showCronHelper() {\n      this.showCronHelpModal = true;\n      console.log('showCronHelper : ', this.showCronHelpModal);\n    },\n\n    resetInfo(triggerInfo) {\n      console.log('reset info');\n      triggerInfo.changeOfValueThreshold = null;\n      triggerInfo.triggerValue = '';\n    },\n  },\n  computed: {},\n\n  watch: {\n    triggers() {\n      console.log('parent triggers changed');\n      this.localTriggers = this.triggers;\n    },\n  },\n};\n</script>\n\n<style scoped>\n.block {\n  border: 2px dashed #ffffff;\n  padding: 10px;\n  margin-bottom: 10px;\n  width: 90%;\n}\n.help-icon {\n  cursor: pointer;\n  margin-left: 10px;\n}\n</style>\n","<template>\n  <md-dialog\n    :md-click-outside-to-close=\"false\"\n    :md-close-on-esc=\"false\"\n    class=\"mdDialog\"\n    :md-active.sync=\"showCronHelpModal\"\n  >\n    <md-dialog-title>Cron Pattern Guide</md-dialog-title>\n    <md-dialog-content>\n      <p\n        >This guide will help you understand how to create cron patterns for\n        scheduling tasks. A cron pattern is composed of five fields separated by a blank space: (minute) (hour) (day of the month) (month) (day of the week)</p\n      >\n      <ul>\n        <li><strong>Minute</strong> (0 - 59)</li>\n        <li><strong>Hour</strong> (0 - 23)</li>\n        <li><strong>Day of the Month</strong> (1 - 31)</li>\n        <li><strong>Month</strong> (1 - 12 or JAN - DEC)</li>\n        <li\n          ><strong>Day of the Week</strong> (0 - 7, where 0 or 7 is Sunday, or\n          SUN - SAT)</li\n        >\n      </ul>\n      <p>A field may be an asterisk (*), which always stands for first-last</p>\n\n      <p\n        >Ranges of numbers are allowed. Ranges are two numbers separated with a\n        hyphen. The specified range is inclusive. For example, 8-11 for an\n        ''hour'' entry specifies execution at hours 8, 9, 10 and 11.</p\n      >\n\n      <p\n        >Lists are allowed.  A list is a set of numbers (or ranges)\n             separated by commas.  Examples: ``1,2,5,9'', ``0-4,8-12''.</p\n      >\n\n      <p>Here are some common examples:</p>\n      <ul>\n        <li><code>0 * * * *</code> - Every hour at the start of the hour.</li>\n        <li><code>30 9 * * 1</code> - Every Monday at 9:30 AM.</li>\n        <li\n          ><code>0 0 1 * *</code> - The first day of every month at\n          midnight.</li\n        >\n      </ul>\n    </md-dialog-content>\n    <md-dialog-actions>\n      <md-button class=\"md-primary\" @click=\"closeDialog()\">Close</md-button>\n    </md-dialog-actions>\n  </md-dialog>\n</template>\n\n<script>\nexport default {\n  props: ['showCronHelpModal'],\n  data() {\n    return {};\n  },\n  methods: {\n    closeDialog() {\n      this.$emit('closeCronHelpDialog');\n    },\n  },\n};\n</script>\n\n<style scoped>\n.mdDialog {\n  z-index: 1000 !important;\n  width: 100%;\n  padding: 20px;\n  border-radius: 10px;\n}\n\n.md-dialog-content ul {\n  padding-left: 20px;\n  list-style-type: disc;\n}\n.md-dialog-content code {\n  background-color: #e5e5e5;\n  margin-bottom: 5px;\n  padding: 2px 4px;\n  border-radius: 4px;\n  font-family: monospace;\n}\n</style>\n","<template>\n  <md-step\n    class=\"mdStep\"\n    :id=\"STEPPERS_DATA.algorithmConfiguration\"\n    md-label=\"Algorithms\"\n    :md-done.sync=\"stepper.fifth\"\n  >\n    <md-content class=\"contents md-scrollbar\">\n        <p>\n        An algorithm is a function that the analytic uses to get the work done.\n        </p>\n\n      <div v-for=\"(algorithmIndexName, index) of Object.keys(localAlgorithms)\" :key=\"index\" class=\"block\">\n        <b>Algorithm {{algorithmIndexName}}</b>\n        <md-field class=\"fixed-size-field\">\n          <label>Algorithm</label>\n          <md-select @md-selected=\"resetParams(algorithmIndexName)\" v-model=\"algorithms[algorithmIndexName].name\">\n            <md-option\n              v-for=\"data of algo_names\"\n              :key=\"data.name\"\n              :value=\"data.name\"\n            >{{ data.name }}</md-option\n            >\n          </md-select>\n        </md-field>\n\n        <div v-if=\"algorithms[algorithmIndexName].name != ''\">\n        <p>\n          <strong> Description : </strong>\n          {{ ALGORITHMS[algorithms[algorithmIndexName].name].description }}</p\n        >\n        </div>\n\n      <!-- \n      <div v-if=\"algorithm != ''\">\n        <div v-if=\"ALGORITHMS[algorithm].requiredParams == 'boolean'\">\n          <div\n          class=\"fixed-size-field\"\n          v-for=\"(item, index) of inputs\"\n          :key=\"index\"\n        >\n          <label> {{ index }} </label>\n          <md-radio value=\"false\">\n            False\n          </md-radio>\n          <md-radio value=\"true\">\n            True\n          </md-radio>\n        </div>\n        </div>\n        <div v-else-if=\"ALGORITHMS[algorithm].requiredParams == 'number'\">\n          <md-field\n            class=\"fixed-size-field\"\n            v-for=\"(item, index) of inputs\"\n            :key=\"index\"\n          >\n            <label> {{ index }} </label>\n            <md-input\n              @change=\"update('algorithmParameters',localAlgorithmParameters)\"\n              type=\"number\"\n              v-model=\"localAlgorithmParameters[index]\"\n            ></md-input>\n          </md-field>\n        </div>\n        <div v-else-if=\"ALGORITHMS[algorithm].requiredParams == 'string'\">\n          <md-field\n            class=\"fixed-size-field\"\n            v-for=\"(item, index) of inputs\"\n            :key=\"index\"\n          >\n            <label> {{ index }} </label>\n            <md-input\n              @change=\"update('algorithmParameters',localAlgorithmParameters)\"\n              v-model=\"localAlgorithmParameters[index]\"\n            ></md-input>\n          </md-field>\n        </div>\n        -->\n\n        <div v-if=\"algorithms[algorithmIndexName].name != ''\">\n          <md-field\n            class=\"fixed-size-field\"\n            v-for=\"(item, index) in ALGORITHMS[algorithms[algorithmIndexName].name].requiredParams\"\n            :key=\"index\"\n          >\n            <label>{{ item.name }}, {{ item.description }}</label>\n            <md-input\n              :type=\"item.type\"\n              v-model=\"algorithms[algorithmIndexName].params[index]\"\n            ></md-input>\n          </md-field>\n        </div>\n\n        <md-button\n          class=\"md-accent\"\n          @click=\"removeAlgorithm(algorithmIndexName)\">\n          Remove\n        </md-button>\n        \n      </div>\n\n      <md-button\n        class=\"md-primary\"\n        @click=\"addAlgorithm\"\n      >\n        Add Algorithm\n      </md-button> \n\n    </md-content>\n  </md-step>\n</template>\n\n<script>\nimport { ALGORITHMS} from 'spinal-model-analysis';\n\nexport default {\n  props: ['STEPPERS_DATA', 'stepper','entityType','followedEntity'\n  ,'inputs', 'algorithms','algorithms_parameters' ],\n  components: {\n  },\n  data() {\n    return {\n        localAlgorithms: this.algorithms,      \n    };\n  },\n  created() {\n    this.ALGORITHMS = ALGORITHMS;\n  },\n  methods: {\n    addAlgorithm() {\n      console.log('clicked on button add Algorithm');\n      this.$emit('addAlgorithm');\n    },\n    removeAlgorithm(algoIndexName){\n      this.$emit('removeAlgorithm',algoIndexName);\n    },\n    resetParams(algoIndexName){\n      this.algorithms[algoIndexName].params = [];\n    }\n    \n  },\n  computed: {\n    algo_names() {\n      return Object.values(ALGORITHMS);\n    },\n  },\n\n  watch:{\n    algorithms(){\n      console.log('parent algorithms changed')\n      this.localAlgorithms = this.algorithms;\n    }\n  }\n};\n</script>\n\n<style scoped>\n.block {\n  border: 2px dashed #ffffff;\n  padding: 10px;\n  margin-bottom: 10px;\n  width: 90%;\n}\n\n\n</style>\n\n","<template>\n  <md-step\n    class=\"mdStep\"\n    :id=\"STEPPERS_DATA.resultConfiguration\"\n    md-label=\"Result\"\n    :md-done.sync=\"stepper.sixth\"\n  >\n    <md-content class=\"contents md-scrollbar\">\n      <p>\n        The result is the output of the analytic. It can be something that will be  created,\n         like a ticket, an alarm, or something\n         that must be modified, like a control endpoint.\n      </p>\n      <md-field class=\"fixed-size-field\">\n        <label>Result name</label>\n        <md-input\n          @change=\"update('resultName',localResultName)\"\n          v-model=\"localResultName\"\n        ></md-input>\n      </md-field>\n\n      <md-field class=\"fixed-size-field\">\n        <label>Result type</label>\n        <md-select @md-selected=\"update('resultType',localResultType)\" v-model=\"localResultType\">\n          <md-option\n            v-for=\"data of CONST_ANALYTIC_RESULT_TYPE\"\n            :key=\"data\"\n            :value=\"data\"\n            >{{ data }}</md-option\n          >\n        </md-select>\n      </md-field>\n      <p>\n        For ticket/alarm, result name will be used as part of the ticket/alarm name.\n        For control endpoints, result name will be used to find the control endpoint to update.\n        In some cases result name is not used at all.\n      </p> \n\n      <div v-if=\"requireTicketLocalization\">\n      <md-field class=\"fixed-size-field\">\n        <label> Ticket/Alarm context </label>\n        <md-select @md-selected=\"update('ticketContextId',localTicketContextId)\" v-model=\"localTicketContextId\">\n          <md-option\n            v-for=\"data of alarmContexts\"\n            :key=\"data.id\"\n            :value=\"data.id\"\n            >{{ data.name }}</md-option\n          >\n        </md-select>\n      </md-field>\n        <md-field class=\"fixed-size-field\">\n          <label>Ticket/Alarm process id </label>\n           <md-select @md-selected=\"update('ticketProcessId',localTicketProcessId)\" v-model=\"localTicketProcessId\">\n            <md-option\n              v-for=\"data of ticketProcesses\"\n              :key=\"data.id\"\n              :value=\"data.id\"\n              >{{ data.name }}</md-option\n            >\n        </md-select>\n        </md-field>\n        <md-field class=\"fixed-size-field\">\n          <label> Alarm priority </label>\n          <md-input\n            type=\"number\"\n            @change=\"update('alarmPriority',localAlarmPriority)\"\n            v-model=\"localAlarmPriority\"\n          ></md-input>\n        </md-field>\n      </div>\n\n      <div v-if=\"requirePhoneInformation\">\n        <md-field class=\"fixed-size-field\">\n          <label>Phone number</label>\n          <md-input\n           @change=\"update('phoneNumber',localPhoneNumber)\"\n            v-model=\"localPhoneNumber\"\n          ></md-input>\n        </md-field>\n        <md-field class=\"fixed-size-field\">\n          <label>Message</label>\n          <md-input\n           @change=\"update('phoneMessage',localPhoneMessage)\"\n           type=\"text\"\n            v-model=\"localPhoneMessage\"\n          ></md-input>\n        </md-field>\n      </div>\n\n      <div v-if=\"requireGChatInformation\">\n        <md-field class=\"fixed-size-field\">\n          <label>Google chat space name</label>\n          <md-input\n           @change=\"update('gChatSpaceName',localGChatSpaceName)\"\n            v-model=\"localGChatSpaceName\"\n          ></md-input>\n        </md-field>\n        <md-field class=\"fixed-size-field\">\n          <label>Google chat message</label>\n          <md-input\n           @change=\"update('gChatMessage',localGChatMessage)\"\n           type=\"text\"\n            v-model=\"localGChatMessage\"\n          ></md-input>\n        </md-field>\n      </div>\n    </md-content>\n  </md-step>\n</template>\n\n<script>\nimport {\n  ANALYTIC_RESULT_TYPE\n} from 'spinal-model-analysis';\n\nimport{ spinalServiceTicket } from \"spinal-service-ticket\";\n\nexport default {\n  props: [\n    'STEPPERS_DATA',\n    'stepper',\n    'resultName',\n    'resultType',\n    'ticketContextId',\n    'ticketProcessId',\n    'alarmPriority',\n    'phoneNumber',\n    'phoneMessage',\n    'gChatMessage',\n    'gChatSpaceName'\n  ],\n  components: {},\n  data() {\n    return {\n      localResultName: this.resultName,\n      localResultType: this.resultType,\n      localIntervalTime: this.intervalTime,\n      localTicketContextId: this.ticketContextId,\n      localTicketProcessId: this.ticketProcessId,\n      localAlarmPriority: this.alarmPriority,\n      localPhoneNumber: this.phoneNumber,\n      localPhoneMessage: this.phoneMessage,\n      localGChatMessage: this.gChatMessage,\n      localGChatSpaceName: this.gChatSpaceName,\n      ticketProcesses: [],\n      \n    };\n  },\n  created(){\n    this.CONST_ANALYTIC_RESULT_TYPE = ANALYTIC_RESULT_TYPE;\n    this.alarmContexts = spinalServiceTicket.getContexts();\n\n\n  },\n  methods: {\n    update(key, value) {\n      console.log(\"update \", key, value)\n      this.$emit(`update:${key}`, value);\n    },\n\n    async refreshContextProcesses(){\n      const processes = await spinalServiceTicket.getAllProcess(this.localTicketContextId);\n      for(const process of processes){\n        this.ticketProcesses.push({name: process.name.get(), id: process.id.get()});\n      }\n    },\n    \n\n\n\n\n    \n  },\n  computed: {\n    requireTicketLocalization() {\n      return (\n        [this.CONST_ANALYTIC_RESULT_TYPE.TICKET, this.CONST_ANALYTIC_RESULT_TYPE.ALARM].includes(this.localResultType)\n      );\n    },\n\n    requireAlarmPriority(){\n      return this.localResultType == this.CONST_ANALYTIC_RESULT_TYPE.ALARM\n    },\n\n    requirePhoneInformation(){\n      return this.localResultType == this.CONST_ANALYTIC_RESULT_TYPE.SMS\n    },\n\n    requireGChatInformation(){\n      return [this.CONST_ANALYTIC_RESULT_TYPE.GCHAT_MESSAGE, this.CONST_ANALYTIC_RESULT_TYPE.GCHAT_ORGAN_CARD].includes(this.localResultType)\n    }\n\n    \n  },\n\n  watch: {\n    resultName() {\n      this.localResultName = this.resultName;\n    },\n    resultType() {\n      this.localResultType = this.resultType;\n    },\n    ticketContextId() {\n      this.localTicketContextId = this.ticketContextId;\n      this.refreshContextProcesses();\n    },\n    ticketProcessId() {\n      this.localTicketProcessId = this.ticketProcessId;\n    },\n    gChatMessage(){\n      this.localGChatMessage = this.gChatMessage;\n    },\n    gChatSpaceName(){\n      this.localGChatSpaceName = this.gChatSpaceName;\n    },\n    phoneNumber(){\n      this.localPhoneNumber = this.phoneNumber;\n    },\n    phoneMessage(){\n      this.localPhoneMessage = this.phoneMessage;\n    },\n    alarmPriority() {\n      this.localAlarmPriority = this.alarmPriority;\n    },\n\n  },\n};\n</script>\n","<template>\n  <md-step\n    class=\"mdStep\"\n    :id=\"STEPPERS_DATA.IODependencies\"\n    md-label=\"IO\"\n    :md-done.sync=\"stepper.seventh\"\n  >\n    <md-content class=\"contents md-scrollbar\">\n      <div v-if=\"Object.keys(algorithms).length==0\">\n        <p>\n          <b>Warning</b>\n          An analytic must have a minimum of 1 algorithm. Please add an\n          algorithm first\n        </p>\n      </div>\n      <div v-else>\n        <p>\n          Dependencies :\n        </p>\n\n        <md-list>\n          <md-list-item class=\"pretty-list-item\">\n            R (Result) : \n              <div class=\"draggable-item\">\n                Final Result : {{ ioDependencies['R'][0] }}\n              </div>\n          \n            <md-button @click=\"showSelection('R')\">Select dependencies</md-button>\n\n          </md-list-item>\n          <md-list-item\n            v-for=\"(algorithmIndexName, index) of Object.keys(algorithms)\"\n            :key=\"index\" class=\"pretty-list-item\">\n            {{algorithmIndexName}} : \n          \n        <draggable v-model=\"ioDependencies[algorithmIndexName]\" @end=\"updateDependenciesOrder(algorithmIndexName)\">\n          <div v-for=\"(dep,indexDep) in ioDependencies[algorithmIndexName]\" :key=\"dep\" class=\"draggable-item\">\n            Input {{ indexDep+1 }} : {{ dep }}\n          </div>\n        </draggable>\n            <md-button @click=\"showSelection(algorithmIndexName)\">Select dependencies</md-button>\n\n          </md-list-item>\n        </md-list>\n      </div>\n      <input-selection-table\n        :algorithms=\"algorithms\"\n        :inputs=\"inputs\"\n        :ioDependencies=\"ioDependencies\"\n        :showSelectionDialog=\"showSelectionDialog\"\n        :selectedAlgorithm=\"selectedAlgorithm\"\n        @closeSelectionDialog=\"closeSelectionDialog\"\n        @sendSelectedInputs=\"saveSelectedDependencies\"\n        >\n      </input-selection-table>\n    </md-content>\n  </md-step>\n</template>\n\n<script>\nimport inputSelectionTableVue from './inputSelectionTable.vue';\nimport draggable from \"vuedraggable\";\nimport { spinalAnalyticService } from 'spinal-model-analysis'\n\n\n\nexport default {\n  props: ['STEPPERS_DATA', 'stepper', 'algorithms', 'inputs','ioDependencies'],\n  components: {\n    draggable,\n    'input-selection-table': inputSelectionTableVue,\n  },\n  data() {\n    return {\n      showSelectionDialog: false,\n      selectedAlgorithm : '',\n    };\n  },\n  created() {},\n  methods: {\n    updateDependenciesOrder(algorithmIndexName) {\n      console.log(\"Updated order for:\", algorithmIndexName);\n      console.log(this.ioDependencies[algorithmIndexName]);\n    },\n\n    showSelection(indexName) {\n      this.selectedAlgorithm = indexName;\n      this.showSelectionDialog = true;\n      \n    },\n    closeSelectionDialog(){\n        this.showSelectionDialog = false;\n    },\n\n\n    findExecutionOrder(dependencies ) {\n    const graph = {};\n    const visited = {};\n    const stack = [];\n    const tempStack = []; // for cycle detection\n\n    // Create graph from dependency map\n    for (let algo of Object.keys(dependencies)) {\n        graph[algo] = graph[algo] || [];\n        for (let dep of dependencies[algo]) {\n            graph[dep] = graph[dep] || [];\n            graph[dep].push(algo);\n        }\n    }\n\n    const visit = (node) => {\n        if (tempStack.includes(node)) {\n            return false; // cycle detected\n        }\n        if (!visited[node]) {\n            visited[node] = true;\n            tempStack.push(node);\n            if (graph[node]) {\n                for (let neighbor of graph[node]) {\n                    if (!visit(neighbor)) return false; // propagate cycle detection\n                }\n            }\n            tempStack.pop();\n            stack.push(node);\n        }\n        return true;\n    };\n\n    for (let node of Object.keys(graph)) {\n        if (!visited[node]) {\n            if (!visit(node)) return null; // cycle detected\n        }\n    }\n\n    return stack.filter(x => x.startsWith('A'));\n    },\n\n\n    saveSelectedDependencies(selectedItems) {\n      console.log(\"saving selected dependencies : \", selectedItems)\n      console.log(\" to \", this.selectedAlgorithm)\n\n      let indexNames = selectedItems.map(item => item.indexName);\n      this.ioDependencies[this.selectedAlgorithm]=indexNames;\n\n      console.log(\"ioDependencies : \", this.ioDependencies)\n      const executionOrder = this.findExecutionOrder(this.ioDependencies)\n      console.log(\"executionOrder : \", executionOrder)\n    },\n\n    \n  },\n  computed: {},\n\n  watch: {},\n};\n</script>\n\n<style scoped>\n.draggable-item {\n  display: inline-block;\n  margin: 0 5px;\n  padding: 5px 10px;\n  border-radius: 4px;\n  background-color: #484848;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n  transition: background-color 0.3s ease;\n}\n\n.draggable-item:hover {\n  background-color: #232323;\n  cursor: grab;\n}\n\n.draggable-item:active {\n  background-color: #572727;\n  cursor: grabbing;\n}\n\n\n.pretty-list-item {\n    display: flex !important;\n    align-items: center !important;\n    justify-content: space-between !important;\n    border-bottom: 1px solid #ccc !important;\n    padding-bottom: 10px !important;\n    margin-bottom: 10px !important; \n}\n\nmd-button {\n  margin-left: 20px;\n}\n</style>\n","<template>\n    <md-dialog :md-click-outside-to-close=\"false\" :md-close-on-esc=\"false\" class=\"mdDialog\" :md-active.sync=\"showSelectionDialog\">\n      \n      <!-- Inputs Table -->\n      <md-table v-model=\"inputListComputed\" md-card @md-selected=\"onSelectInput\" :md-selected-value.sync=\"selectedInputs\" class=\"table\">\n        <md-table-toolbar>\n          <h1 class=\"md-title table-title\">Inputs</h1>\n        </md-table-toolbar>\n        <md-table-toolbar slot=\"md-table-alternate-header\" slot-scope=\"{ count }\">\n          <div class=\"md-toolbar-section-start\">{{ getAlternateLabel(count) }}</div>\n          <div class=\"md-toolbar-section-end\">\n            <md-button @click=\"deleteAllInputSelection\" class=\"md-icon-button delete-button\">\n              <md-icon >delete</md-icon>\n            </md-button>\n          </div>\n        </md-table-toolbar>\n      \n      \n      <md-table-row slot=\"md-table-row\" slot-scope=\"{ item }\" md-selectable=\"multiple\" md-auto-select\n      :md-disabled=\"isResultSelection\"\n      :class=\"{ 'disabled-row': isResultSelection}\"\n      >\n        <md-table-cell md-label=\"Index Name\"> {{item.indexName}} </md-table-cell>\n        <md-table-cell md-label=\"Tracking Method\"> {{item.trackingMethod}} </md-table-cell>\n        <md-table-cell md-label=\"Filter value\"> {{item.filterValue}} </md-table-cell>\n        <md-table-cell md-numeric md-label=\"Timeseries\"> {{item.timeseriesIntervalTime}} </md-table-cell>\n      </md-table-row>\n\n\n    </md-table>\n\n    \n    <md-table v-model=\"algorithmListComputed\" md-card @md-selected=\"onSelectAlgorithm\" class=\"table\"\n    :md-selected-value.sync=\"selectedAlgorithms\">\n        <md-table-toolbar>\n          <h1 class=\"md-title table-title\">Algorithms</h1>\n        </md-table-toolbar>\n      <md-table-toolbar slot=\"md-table-alternate-header\" slot-scope=\"{ count }\">\n        <div class=\"md-toolbar-section-start\">{{ getAlternateLabel(count) }}</div>\n\n        <div class=\"md-toolbar-section-end\">\n          <md-button @click=\"deleteAllAlgoSelection\" class=\"md-icon-button\">\n            <md-icon>delete</md-icon>\n          </md-button>\n        </div>\n      </md-table-toolbar>\n\n      <md-table-row slot=\"md-table-row\" slot-scope=\"{ item }\" :md-selectable=\"isResultSelection? 'single': 'multiple'\" md-auto-select \n      :md-disabled=\"disableSameAlgorithmSelection(item.indexName)\"\n      :class=\"{ 'disabled-row': disableSameAlgorithmSelection(item.indexName) }\">\n        <md-table-cell md-label=\"Index Name\"> {{item.indexName}} </md-table-cell>\n        <md-table-cell md-label=\"Algorithm name\"> {{item.name}} </md-table-cell>\n        <md-table-cell md-label=\"Parameters\"> {{item.params}} </md-table-cell>\n      </md-table-row>\n    </md-table>\n    <md-dialog-actions class=\"dialog-actions\">\n        <md-button class=\"md-accent action-button\" @click=\"closeDialog\">Close</md-button>\n        <md-button class=\"md-primary action-button\" @click=\"sendSelected\">Save</md-button>\n      </md-dialog-actions>\n\n\n  </md-dialog>\n</template>\n\n<script>\nexport default {\n  props: ['selectedAlgorithm','algorithms', 'inputs','showSelectionDialog'],\n  components: {},\n  data() {\n    return {\n      selectedInputs: [],\n      selectedAlgorithms : [],\n\n    };\n  },\n  created() {\n  \n  },\n  methods: {\n    deleteAllInputSelection(){\n        console.log(\"deleteAllInputSelection\")\n        this.selectedInputs = [];\n    },\n    deleteAllAlgoSelection(){\n        this.selectedAlgorithms = [];\n    },\n\n    closeDialog(){\n        this.selectedAlgorithms = [];\n        this.selectedInputs = [];\n        this.$emit(\"closeSelectionDialog\");\n    },\n    sendSelected() \n    {\n      this.$emit('sendSelectedInputs', this.selectedInputs.concat(this.selectedAlgorithms));\n      this.$emit(\"closeSelectionDialog\");\n      this.selectedAlgorithms = [];\n      this.selectedInputs = [];\n      console.log(\"sendSelectedEvent :\" , this.selectedAlgorithms)\n    },\n    onSelectInput (items) {\n        console.log(\"onSelectInputEvent :\" , items)\n        this.selectedInputs = items\n\n    },\n    onSelectAlgorithm ( items ) {\n        console.log(\"onSelectAlgorithmEvent :\" , items)\n        this.selectedAlgorithms = items\n    },\n    getAlternateLabel (count) {\n        let plural = ''\n\n        if (count > 1) {\n          plural = 's'\n        }\n        return `${count} Item${plural} selected`\n    },\n\n    flattenObject(obj) {\n    const flattened = [];\n    for (let key in obj) {\n        if (obj.hasOwnProperty(key)) {\n            const flatItem = {\n                indexName: key,\n                ...obj[key]\n            };\n            flattened.push(flatItem);\n        }\n    }\n    return flattened;\n    },\n\n    disableSameAlgorithmSelection(indexName){\n        return indexName == this.selectedAlgorithm;\n    },\n\n    \n    \n  },\n  computed: {\n    inputListComputed: {\n        get() {\n            return this.flattenObject(this.inputs);\n        },\n        set(newValue) {\n            \n        }\n    },\n    algorithmListComputed: {\n        get() {\n            return this.flattenObject(this.algorithms);\n        },\n        set(newValue) {\n            \n        }\n    },\n\n    isResultSelection(){\n        return  this.selectedAlgorithm == 'R';\n    }\n\n  },\n\n  watch: {},\n};\n</script>\n\n<style  scoped>\n.mdDialog {\n    z-index: 1000 !important;\n    width: 100%;\n    height: 100%;\n    padding: 20px;\n}\n\n.table {\n    margin-bottom: 20px;\n    border: 1px dashed #ccc;\n}\n\n.table md-table-row {\n    border-bottom: 1px dashed #ccc;\n}\n\n.table-title {\n    font-weight: 600;\n    color: #333;\n    margin-bottom: 10px;\n}\n\n.delete-button {\n    color: #f44336; /* Red color for delete */\n}\n\n.selected-label {\n    font-weight: 600;\n    margin-top: 10px;\n}\n\n.selected-content {\n    background-color: #f5f5f5;\n    padding: 10px;\n    border-radius: 5px;\n    margin-top: 5px;\n}\n\n.dialog-actions {\n    display: flex;\n    justify-content: right;\n    margin-top: 20px;\n}\n\n.action-button {\n    padding: 10px 20px;\n    border-radius: 5px;\n    transition: background-color 0.3s;\n}\n\n.action-button:hover {\n    background-color: #f5f5f5;\n}\n\n.disabled-row {\n    background-color: #f0f0f026; /* Light grey background */\n    color: #aaa; /* Grey text */\n    pointer-events: none; /* Makes the row non-interactive */\n}\n</style>","<template>\n  <md-step\n    class=\"mdStep\"\n    :id=\"STEPPERS_DATA.config\"\n    md-label=\"Configuration\"\n    :md-done.sync=\"stepper.fourth\"\n  >\n    <md-content class=\"contents md-scrollbar\">\n      <md-field class=\"fixed-size-field\">\n        <label>Algorithm</label>\n        <md-select @md-selected=\"update('algorithm',localAlgorithm)\" v-model=\"localAlgorithm\">\n          <md-option\n            v-for=\"data of algo_names\"\n            :key=\"data.name\"\n            :value=\"data.name\"\n            >{{ data.name }}</md-option\n          >\n        </md-select>\n      </md-field>\n\n      <!-- Algorithm Description -->\n      <div v-if=\"algorithm != ''\">\n        <p>\n          <strong> Description : </strong>\n          {{ ALGORITHMS[algorithm].description }}</p\n        >\n      </div>\n\n      <!-- Algorithm Parameters -->\n      <div v-if=\"algorithm != ''\">\n        <div v-if=\"ALGORITHMS[algorithm].requiredParams == 'boolean'\">\n          <div\n          class=\"fixed-size-field\"\n          v-for=\"(item, index) of inputs\"\n          :key=\"index\"\n        >\n          <label> {{ index }} </label>\n          <md-radio value=\"false\">\n            False\n          </md-radio>\n          <md-radio value=\"true\">\n            True\n          </md-radio>\n        </div>\n        </div>\n        <div v-else-if=\"ALGORITHMS[algorithm].requiredParams == 'number'\">\n          <md-field\n            class=\"fixed-size-field\"\n            v-for=\"(item, index) of inputs\"\n            :key=\"index\"\n          >\n            <label> {{ index }} </label>\n            <md-input\n              @change=\"update('algorithmParameters',localAlgorithmParameters)\"\n              type=\"number\"\n              v-model=\"localAlgorithmParameters[index]\"\n            ></md-input>\n          </md-field>\n        </div>\n        <div v-else-if=\"ALGORITHMS[algorithm].requiredParams == 'string'\">\n          <md-field\n            class=\"fixed-size-field\"\n            v-for=\"(item, index) of inputs\"\n            :key=\"index\"\n          >\n            <label> {{ index }} </label>\n            <md-input\n              @change=\"update('algorithmParameters',localAlgorithmParameters)\"\n              v-model=\"localAlgorithmParameters[index]\"\n            ></md-input>\n          </md-field>\n        </div>\n\n        <div v-else>\n          <md-field\n            class=\"fixed-size-field\"\n            v-for=\"(item, index) in ALGORITHMS[algorithm].requiredParams\"\n            :key=\"index\"\n          >\n            <label>{{ item.name }}, {{ item.description }}</label>\n            <md-input\n              @change=\"update('algorithmParameters',localAlgorithmParameters)\"\n              :type=\"item.type\"\n              v-model=\"localAlgorithmParameters[index]\"\n            ></md-input>\n          </md-field>\n        </div>\n      </div>\n\n      <md-field class=\"fixed-size-field\">\n        <label>Result name</label>\n        <md-input\n          @change=\"update('resultName',localResultName)\"\n          v-model=\"localResultName\"\n        ></md-input>\n      </md-field>\n      <md-field class=\"fixed-size-field\">\n        <label>Result type</label>\n        <md-select @md-selected=\"update('resultType',localResultType)\" v-model=\"localResultType\">\n          <md-option\n            v-for=\"data of CONST_ANALYTIC_RESULT_TYPE\"\n            :key=\"data\"\n            :value=\"data\"\n            >{{ data }}</md-option\n          >\n        </md-select>\n      </md-field>\n\n      <div v-if=\"requireTicketLocalization\">\n        <md-field class=\"fixed-size-field\">\n          <label>Ticket/Alarm context id</label>\n          <md-input\n           @change=\"update('ticketContextId',localTicketContextId)\"\n            v-model=\"localTicketContextId\"\n          ></md-input>\n        </md-field>\n        <md-field class=\"fixed-size-field\">\n          <label>Ticket/Alarm process id </label>\n          <md-input\n            @change=\"update('ticketProcessId',localTicketProcessId)\"\n            v-model=\"localTicketProcessId\"\n          ></md-input>\n        </md-field>\n        <md-field class=\"fixed-size-field\">\n          <label> Alarm priority </label>\n          <md-input\n            type=\"number\"\n            @change=\"update('alarmPriority',localAlarmPriority)\"\n            v-model=\"localAlarmPriority\"\n          ></md-input>\n        </md-field>\n      </div>\n\n      <div v-if=\"requirePhoneInformation\">\n        <md-field class=\"fixed-size-field\">\n          <label>Phone number</label>\n          <md-input\n           @change=\"update('phoneNumber',localPhoneNumber)\"\n            v-model=\"localPhoneNumber\"\n          ></md-input>\n        </md-field>\n        <md-field class=\"fixed-size-field\">\n          <label>Message</label>\n          <md-input\n           @change=\"update('phoneMessage',localPhoneMessage)\"\n           type=\"text\"\n            v-model=\"localPhoneMessage\"\n          ></md-input>\n        </md-field>\n      </div>\n\n      <md-field class=\"fixed-size-field\">\n        <label\n          >Interval time (ms), 0 will make the analytic behave in COV\n          mode</label\n        >\n        <md-input\n          @change=\"update('intervalTime',localIntervalTime)\"\n          type=\"number\"\n          v-model=\"localIntervalTime\"\n        ></md-input>\n      </md-field>\n\n      <md-switch @change=\"update('triggerAtStart',localTriggerAtStart)\" v-model=\"localTriggerAtStart\"> Trigger instantly when organs starts </md-switch>\n\n    </md-content>\n  </md-step>\n</template>\n\n<script>\nimport {\n  ANALYTIC_RESULT_TYPE,\n  ALGORITHMS\n} from 'spinal-model-analysis';\n\nexport default {\n  props: [\n    'STEPPERS_DATA',\n    'stepper',\n    'inputs',\n    'algorithm',\n    'algorithmParameters',\n    'resultName',\n    'resultType',\n    'intervalTime',\n    'ticketContextId',\n    'ticketProcessId',\n    'alarmPriority',\n    'triggerAtStart',\n    'phoneNumber',\n    'phoneMessage'\n  ],\n  components: {},\n  data() {\n    return {\n      localAlgorithm: this.algorithm,\n      localAlgorithmParameters: this.algorithmParameters,\n      localResultName: this.resultName,\n      localResultType: this.resultType,\n      localIntervalTime: this.intervalTime,\n      localTicketContextId: this.ticketContextId,\n      localTicketProcessId: this.ticketProcessId,\n      localAlarmPriority: this.alarmPriority,\n      localPhoneNumber: this.phoneNumber,\n      localPhoneMessage: this.phoneMessage,\n      localTriggerAtStart: this.triggerAtStart,\n    };\n  },\n  created(){\n    this.CONST_ANALYTIC_RESULT_TYPE = ANALYTIC_RESULT_TYPE;\n  },\n  methods: {\n    update(key, value) {\n      console.log(\"update \", key, value)\n      if (key == 'algorithm' && this.algorithm != value){\n        this.update('algorithmParameters', [])\n      }\n      this.$emit(`update:${key}`, value);\n    },\n  },\n  computed: {\n    algo_names() {\n      return Object.values(ALGORITHMS);\n    },\n    ALGORITHMS() {\n      return ALGORITHMS;\n    },\n\n    requireTicketLocalization() {\n      return (\n        [this.CONST_ANALYTIC_RESULT_TYPE.TICKET, this.CONST_ANALYTIC_RESULT_TYPE.ALARM].includes(this.localResultType)\n      );\n    },\n\n    requireAlarmPriority(){\n      return this.localResultType == this.CONST_ANALYTIC_RESULT_TYPE.ALARM\n    },\n\n    requirePhoneInformation(){\n      return this.localResultType == this.CONST_ANALYTIC_RESULT_TYPE.SMS\n    }\n  },\n\n  watch: {\n    algorithm() {\n      this.localAlgorithm = this.algorithm;\n    },\n    algorithmParameters() {\n      this.localAlgorithmParameters = this.algorithmParameters;\n    },\n    resultName() {\n      this.localResultName = this.resultName;\n    },\n    resultType() {\n      this.localResultType = this.resultType;\n    },\n    intervalTime() {\n      this.localIntervalTime = this.intervalTime;\n    },\n    ticketContextId() {\n      this.localTicketContextId = this.ticketContextId;\n    },\n    ticketProcessId() {\n      this.localTicketProcessId = this.ticketProcessId;\n    },\n    alarmPriority() {\n      this.localAlarmPriority = this.alarmPriority;\n    },\n    triggerAtStart() {\n      this.localTriggerAtStart = this.triggerAtStart;\n    },\n\n  },\n};\n</script>\n","<template>\n  <md-step\n    class=\"mdStep\"\n    :id=\"STEPPERS_DATA.summary\"\n    md-label=\"Summary\"\n    :md-done.sync=\"stepper.eighth\"\n  >\n    <md-content class=\"contents md-scrollbar\">\n      <p>\n        Please check that all the information are correct before saving the\n        analytic.\n      </p>\n      <div\n        v-for=\"(field, index) in summaryList\"\n        :key=\"index\"\n        class=\"summary-item\"\n      >\n        <strong>{{ field.label }}:</strong>\n        {{ field.value === '' ? 'Missing !' : field.value }}\n      </div>\n    </md-content>\n  </md-step>\n</template>\n\n<script>\n\nexport default {\n  props: [\n    'STEPPERS_DATA',\n    'stepper',\n    'analyticName',\n    'trackingMethods',\n    'followedEntity',\n    'algorithm',\n    'algorithmParameters',\n    'resultName',\n    'resultType',\n    'intervalTime',\n  ],\n  data() {\n\n    return {\n\n    };\n  },\n  methods: {},\n  computed: {\n    summaryList() {\n      return [\n        { label: 'Analytic Name', value: this.analyticName },\n        { label: 'Tracking Methods', value: JSON.stringify(this.trackingMethods) },\n        { label: 'Followed Entity', value: this.followedEntity },\n        { label: 'Algorithm', value: this.algorithm },\n        {\n          label: 'Algorithm Parameters',\n          value: JSON.stringify(this.algorithmParameters),\n        },\n        { label: 'Result Name', value: this.resultName },\n        { label: 'Result Type', value: this.resultType },\n        { label: 'Interval Time (ms)', value: this.intervalTime },\n      ];\n    },\n  },\n};\n</script>\n\n<style scoped>\n.summary-item {\n  padding: 8px 0;\n  font-size: 16px;\n  line-height: 1.5;\n}\n\n.summary-item strong {\n  margin-right: 8px;\n}\n</style>\n","<template>\n  <md-dialog\n    :md-active.sync=\"showDialog\"\n    :md-click-outside-to-close=\"false\"\n    @md-closed=\"closeDialog(false)\"\n    class=\"mdDialog\"\n  >\n    <md-dialog-title class=\"mdDialogTitle\"> Modify Analytic </md-dialog-title>\n\n    <md-dialog-content class=\"mdDialogContainer\">\n      <md-steppers\n        :md-active-step.sync=\"stepper.active\"\n        @md-changed=\"changeStep\"\n        md-linear\n      >\n        <analytic-name\n          :STEPPERS_DATA=\"STEPPERS_DATA\"\n          :stepper=\"stepper\"\n          v-bind:analyticName.sync=\"analyticName\"\n          v-bind:analyticDescription.sync=\"analyticDescription\"\n          v-bind:analyticShouldTriggerAtStart.sync=\"analyticShouldTriggerAtStart\"\n          v-bind:analyticStatus.sync=\"analyticStatus\"\n          :editable=\"false\"\n        ></analytic-name>\n\n         <followed-entity\n          :STEPPERS_DATA=\"STEPPERS_DATA\"\n          :stepper=\"stepper\"\n          :entityType=\"entityType\"\n          v-bind:followedEntity.sync=\"followedEntity\"\n        ></followed-entity>\n\n        <input-configuration\n          :STEPPERS_DATA=\"STEPPERS_DATA\"\n          :stepper=\"stepper\"\n          :entityType=\"entityType\"\n          :followedEntity=\"followedEntity\"\n          @addInput=\"addInput\"\n          @removeInput=\"removeInput\"\n          v-bind:inputs.sync=\"inputs\"\n        >\n        </input-configuration>\n\n        <trigger-configuration\n          :STEPPERS_DATA=\"STEPPERS_DATA\"\n          :stepper=\"stepper\"\n          :inputs=\"inputs\"\n          @addTrigger=\"addTrigger\"\n          @removeTrigger=\"removeTrigger\"\n          v-bind:triggers.sync=\"triggers\"\n        >\n        </trigger-configuration>\n\n        <algorithm-configuration\n          :STEPPERS_DATA=\"STEPPERS_DATA\"\n          :stepper=\"stepper\"\n          @addAlgorithm=\"addAlgorithm\"\n          @removeAlgorithm=\"removeAlgorithm\"\n          v-bind:algorithms.sync=\"algorithms\"\n          >\n        </algorithm-configuration>\n\n\n        <result-configuration\n          :STEPPERS_DATA=\"STEPPERS_DATA\"\n          :stepper=\"stepper\"\n          :inputs=\"inputs\"\n          v-bind:resultName.sync=\"resultName\"\n          v-bind:resultType.sync=\"resultType\"\n          v-bind:intervalTime.sync=\"intervalTime\"\n          v-bind:ticketContextId.sync=\"ticketContextId\"\n          v-bind:ticketProcessId.sync=\"ticketProcessId\"\n          v-bind:phoneNumber.sync=\"phoneNumber\"\n          v-bind:phoneMessage.sync=\"phoneMessage\"\n          v-bind:gChatMessage.sync=\"gChatMessage\"\n          v-bind:gChatSpaceName.sync=\"gChatSpaceName\"\n          v-bind:alarmPriority.sync=\"alarmPriority\">\n        </result-configuration>\n\n\n        <io-dependencies\n          :STEPPERS_DATA=\"STEPPERS_DATA\"\n          :stepper=\"stepper\"\n          :inputs=\"inputs\"\n          :algorithms=\"algorithms\"\n          v-bind:ioDependencies.sync=\"ioDependencies\"\n          >\n        </io-dependencies>\n\n        <summary-analytic\n          :STEPPERS_DATA=\"STEPPERS_DATA\"\n          :stepper=\"stepper\"\n          :analyticName=\"analyticName\"\n          :trackingMethods=\"trackingMethods\"\n          :followedEntity=\"followedEntity\"\n          :algorithm=\"algorithm\"\n          :algorithmParameters=\"algorithmParameters\"\n          :resultName=\"resultName\"\n          :resultType=\"resultType\"\n          :intervalTime=\"intervalTime\"\n        >\n        </summary-analytic> \n      </md-steppers>\n    </md-dialog-content>\n\n    <md-dialog-actions>\n      <md-button class=\"md-primary\" @click=\"closeDialog(false)\"\n        >Close</md-button\n      >\n\n      <md-button\n        class=\"md-primary\"\n        v-if=\"stepper.active !== this.STEPPERS_DATA.summary\"\n        @click=\"PassToNextStep\"\n        >Next\n      </md-button>\n      <md-button\n        v-if=\"stepper.active === this.STEPPERS_DATA.summary\"\n        :disabled=\"isSaveButtonDisabled()\"\n        class=\"md-primary\"\n        @click=\"closeDialog(true)\"\n        >Save</md-button\n      >\n    </md-dialog-actions>\n  </md-dialog>\n</template>\n\n<script>\nimport {\n  spinalAnalyticService,\n  CATEGORY_ATTRIBUTE_TICKET_LOCALIZATION_PARAMETERS,\n  CATEGORY_ATTRIBUTE_ALGORTHM_PARAMETERS,\n  CATEGORY_ATTRIBUTE_RESULT_PARAMETERS,\n  CATEGORY_ATTRIBUTE_TRACKING_METHOD_PARAMETERS,\n  CATEGORY_ATTRIBUTE_TWILIO_PARAMETERS,\n  CATEGORY_ATTRIBUTE_ANALYTIC_PARAMETERS,\n  CATEGORY_ATTRIBUTE_IO_DEPENDENCIES,\n  CATEGORY_ATTRIBUTE_TRIGGER_PARAMETERS,\n  CATEGORY_ATTRIBUTE_ALGORITHM_INDEX_MAPPING,\n  CATEGORY_ATTRIBUTE_GCHAT_PARAMETERS,\n  ATTRIBUTE_GCHAT_MESSAGE,\n  ATTRIBUTE_GCHAT_SPACE,\n  ATTRIBUTE_PHONE_NUMBER,\n  ATTRIBUTE_PHONE_MESSAGE,\n  ATTRIBUTE_SEPARATOR,\n  ATTRIBUTE_TRACKING_METHOD,\n  ATTRIBUTE_SEARCH_DEPTH,\n  ATTRIBUTE_STRICT_DEPTH,\n  ATTRIBUTE_SEARCH_RELATIONS,\n  ATTRIBUTE_FILTER_VALUE,\n  ATTRIBUTE_TIMESERIES,\n  ATTRIBUTE_RESULT_NAME,\n  ATTRIBUTE_RESULT_TYPE,\n  ATTRIBUTE_ANALYTIC_STATUS,\n  ATTRIBUTE_ANALYTIC_DESCRIPTION,\n  ATTRIBUTE_TRIGGER_AT_START,\n  ATTRIBUTE_TICKET_CONTEXT_ID,\n  ATTRIBUTE_TICKET_PROCESS_ID,\n  ATTRIBUTE_ALARM_PRIORITY,\n  ATTRIBUTE_VALUE_SEPARATOR,\n  ANALYTIC_RESULT_TYPE,\n  ANALYTIC_STATUS,\n  TRACK_METHOD,\n  ALGORITHMS\n} from 'spinal-model-analysis';\n\nimport analyticNameVue from './components/analyticSteps/analyticName.vue';\nimport followedEntityVue from './components/analyticSteps/followedEntity.vue';\nimport inputConfiguration from './components/analyticSteps/inputConfiguration.vue';\nimport triggerConfiguration from './components/analyticSteps/triggerConfiguration.vue';\nimport algorithmConfiguration from './components/analyticSteps/algorithmConfiguration.vue';\nimport resultConfiguration from './components/analyticSteps/resultConfiguration.vue';\nimport IODependenciesVue from './components/analyticSteps/IODependencies.vue';\nimport configurationVue from './components/analyticSteps/configuration.vue';\nimport summaryVue from './components/analyticSteps/summary.vue';\nimport { SpinalGraphService } from 'spinal-env-viewer-graph-service';\nimport AttributeService, { attributeService} from 'spinal-env-viewer-plugin-documentation-service';\n\nexport default {\n  name: 'modifyAnalyticDialog',\n  props: ['onFinised'],\n  components: {\n    'analytic-name': analyticNameVue,\n    'followed-entity': followedEntityVue,\n    'input-configuration': inputConfiguration,\n    'trigger-configuration': triggerConfiguration,\n    'algorithm-configuration': algorithmConfiguration,\n    'result-configuration': resultConfiguration,\n    'io-dependencies': IODependenciesVue,\n    'configuration': configurationVue,\n    'summary-analytic': summaryVue,\n  },\n  data() {\n\n    this.STEPPERS_DATA = {\n      analytic: 'first',\n      followedEntity: 'second',\n      inputConfiguration: 'third',\n      triggerConfiguration: 'fourth',\n      algorithmConfiguration: 'fifth',\n      resultConfiguration: 'sixth',\n      IODependencies : 'seventh',\n      summary : 'eighth',\n    };\n\n    return {\n      showDialog: true,\n      showPreviewDialog: false,\n\n      // Analytic attributes data\n      analyticName: '',\n      analyticDescription:'',\n      analyticShouldTriggerAtStart : undefined,\n      analyticStatus : undefined,\n\n\n      // Inputs -> Followed Entity -> attribute data\n      followedEntity: undefined, \n\n      // Inputs  -> Tracking Method -> attribute data\n      inputs: { },\n\n\n      // Config -> trigger attribute data\n      triggers: { },\n\n      // Config -> Algorithms attribute data\n      algorithms: {},\n\n      // Config -> I/O Dependencies attribute data\n      ioDependencies : { R : \"\"},\n\n      // Config -> Result attribute data\n      resultType : '',\n      resultName : '', \n      ticketContextId: '',\n      ticketProcessId: '',\n      phoneNumber:'',\n      phoneMessage:'',\n      alarmPriority: null,\n      gChatMessage : '',\n      gChatSpaceName : '',\n      \n      selectedNode: undefined,\n      entityType: undefined,\n\n      stepper: {\n        active: this.STEPPERS_DATA.analytic,\n        first: false,\n        second: false,\n        third: false,\n        fourth: false,\n        fifth: false,\n        sixth: false,\n        seventh: false,\n        eighth: false,\n      },\n    };\n  },\n  methods: {\n    async opened(option) {\n      this.selectedNode = option.selectedNode;\n      // selectedNode is the analytic node\n      const selectedNodeId = this.selectedNode.id.get();\n      const entity = await spinalAnalyticService.getEntityFromAnalytic(selectedNodeId);\n      this.entityType = entity.entityType.get();\n      this.analyticName = this.selectedNode.name.get();\n      const followedEntityNode = await spinalAnalyticService.getFollowedEntity(selectedNodeId);\n      this.followedEntity = followedEntityNode ? followedEntityNode.id.get() : undefined;\n\n      // need to get all the category names first\n      const trackingMethodNodeRef = await spinalAnalyticService.getTrackingMethod(selectedNodeId);\n      const parseInputs = await spinalAnalyticService.getAllCategoriesAndAttributesFromNode(trackingMethodNodeRef.id.get());\n      for(const inputKey of Object.keys(parseInputs)){\n        this.inputs[inputKey] = { trackingMethod : parseInputs[inputKey][ATTRIBUTE_TRACKING_METHOD],\n                                  filterValue :parseInputs[inputKey][ATTRIBUTE_FILTER_VALUE],\n                                  searchDepth : parseInputs[inputKey][ATTRIBUTE_SEARCH_DEPTH],\n                                  strictDepth : parseInputs[inputKey][ATTRIBUTE_STRICT_DEPTH],\n                                  searchRelations : parseInputs[inputKey][ATTRIBUTE_SEARCH_RELATIONS],\n                                  timeseriesIntervalTime : parseInputs[inputKey][ATTRIBUTE_TIMESERIES] };\n      }\n\n      this.inputs = { ...this.inputs };\n      //this.input = Object.assign({}, this.inputs);\n\n      console.log(this.inputs);\n      const configNode = await spinalAnalyticService.getConfig(selectedNodeId);\n      const analyticAttributes = await spinalAnalyticService.getAttributesFromNode(configNode.id.get(),CATEGORY_ATTRIBUTE_ANALYTIC_PARAMETERS);\n      this.analyticDescription = analyticAttributes[ATTRIBUTE_ANALYTIC_DESCRIPTION];\n      this.analyticStatus = analyticAttributes[ATTRIBUTE_ANALYTIC_STATUS]===ANALYTIC_STATUS.ACTIVE;\n      this.analyticShouldTriggerAtStart = analyticAttributes[ATTRIBUTE_TRIGGER_AT_START];\n      const triggerAttributes = await spinalAnalyticService.getAttributesFromNode(configNode.id.get(),CATEGORY_ATTRIBUTE_TRIGGER_PARAMETERS);\n      for(const triggerKey of Object.keys(triggerAttributes)){\n        let triggerValue = triggerAttributes[triggerKey].split(ATTRIBUTE_VALUE_SEPARATOR);\n        this.triggers[triggerKey] = { triggerType : triggerValue[0],\n                                      triggerValue : triggerValue[1],\n                                      changeOfValueThreshold : triggerValue[2] ? triggerValue[2] : null };\n      }\n      this.triggers = { ...this.triggers };\n\n      const algorithmMappingAttributes = await spinalAnalyticService.getAttributesFromNode(configNode.id.get(),CATEGORY_ATTRIBUTE_ALGORITHM_INDEX_MAPPING);\n      for(const algorithmIndexName of Object.keys(algorithmMappingAttributes)){\n        this.algorithms[algorithmIndexName] = { name : algorithmMappingAttributes[algorithmIndexName],\n                                                params : []};\n      }\n      const algorithmParametersAttributes = await spinalAnalyticService.getAttributesFromNode(configNode.id.get(),CATEGORY_ATTRIBUTE_ALGORTHM_PARAMETERS);\n      for(const algorithmIndexName of Object.keys(this.algorithms)){\n        let algoName = this.algorithms[algorithmIndexName].name;\n        const doc = ALGORITHMS[algoName].requiredParams;\n        for(let i = 0 ; i<doc.length; i++){\n          this.algorithms[algorithmIndexName].params.push(algorithmParametersAttributes[`${algorithmIndexName}${ATTRIBUTE_SEPARATOR}${doc[i].name}`]);\n        }\n      }\n      this.algorithms = { ...this.algorithms };\n\n      const resultAttributes = await spinalAnalyticService.getAttributesFromNode(configNode.id.get(),CATEGORY_ATTRIBUTE_RESULT_PARAMETERS);\n      this.resultType = resultAttributes[ATTRIBUTE_RESULT_TYPE];\n      this.resultName = resultAttributes[ATTRIBUTE_RESULT_NAME];\n      if ([ANALYTIC_RESULT_TYPE.TICKET,ANALYTIC_RESULT_TYPE.ALARM].includes(this.resultType)){\n        const ticketAttributes = await spinalAnalyticService.getAttributesFromNode(configNode.id.get(),CATEGORY_ATTRIBUTE_TICKET_LOCALIZATION_PARAMETERS);\n        this.ticketContextId = ticketAttributes[ATTRIBUTE_TICKET_CONTEXT_ID];\n        this.ticketProcessId = ticketAttributes[ATTRIBUTE_TICKET_PROCESS_ID];\n        if(this.resultType === ANALYTIC_RESULT_TYPE.ALARM){\n          this.alarmPriority = ticketAttributes[ATTRIBUTE_ALARM_PRIORITY];\n        }\n      }\n      if ([ANALYTIC_RESULT_TYPE.SMS].includes(this.resultType)){\n        const smsAttributes = await spinalAnalyticService.getAttributesFromNode(configNode.id.get(),CATEGORY_ATTRIBUTE_TWILIO_PARAMETERS);\n        this.phoneNumber = smsAttributes[ATTRIBUTE_PHONE_NUMBER];\n        this.phoneMessage = smsAttributes[ATTRIBUTE_PHONE_MESSAGE];\n      }\n\n      if([ANALYTIC_RESULT_TYPE.GCHAT_MESSAGE,ANALYTIC_RESULT_TYPE.GCHAT_ORGAN_CARD].includes(this.resultType)){\n        const gChatAttributes = await spinalAnalyticService.getAttributesFromNode(configNode.id.get(),CATEGORY_ATTRIBUTE_GCHAT_PARAMETERS);\n        this.gChatMessage = gChatAttributes[ATTRIBUTE_GCHAT_MESSAGE];\n        this.gChatSpaceName = gChatAttributes[ATTRIBUTE_GCHAT_SPACE];\n      }\n      const ioAttributes = await spinalAnalyticService.getAttributesFromNode(configNode.id.get(),CATEGORY_ATTRIBUTE_IO_DEPENDENCIES);\n      for(const ioDependencyName of Object.keys(ioAttributes)){\n        let ioDependencyValue = ioAttributes[ioDependencyName].split(ATTRIBUTE_VALUE_SEPARATOR);\n        this.ioDependencies[ioDependencyName] = ioDependencyValue;\n      }\n      this.ioDependencies = { ...this.ioDependencies };\n    },\n\n    async removed(res) {\n      if (res.closeResult) {\n        // there must be a better way to get the context id...\n        const contextId = Object.keys(this.selectedNode.contextIds.get())[0];\n        const followedEntityNodeRef = await spinalAnalyticService.getFollowedEntity(this.selectedNode.id.get());\n        if (followedEntityNodeRef && followedEntityNodeRef.id.get() !== this.followedEntity) {\n          console.log(\"change followed entity\");\n          await spinalAnalyticService.removeLinkToFollowedEntity(this.selectedNode.id.get(), followedEntityNodeRef.id.get());\n          await spinalAnalyticService.addInputLinkToFollowedEntity(contextId,this.selectedNode.id.get(), this.followedEntity);\n        }\n        if(!followedEntityNodeRef){\n          await spinalAnalyticService.addInputLinkToFollowedEntity(contextId,this.selectedNode.id.get(), this.followedEntity);\n        }\n\n\n\n        const trackingMethodAttributes = this.getTrackingMethodAttributes();\n        console.log('trackingMethodAttributes :', trackingMethodAttributes);\n        const trackingMethodNodeRef = await spinalAnalyticService.getTrackingMethod(\n          this.selectedNode.id.get(),\n        );\n        const trackingMethodNode =  SpinalGraphService.getRealNode(\n          trackingMethodNodeRef.id.get(),\n        );\n        await spinalAnalyticService.addAttributesToNode(\n          trackingMethodNode,\n          trackingMethodAttributes,\n        );\n\n        \n        const configAttributes = {};\n        const analyticAttributes = this.getAnalyticAttributes();\n        configAttributes[\n          CATEGORY_ATTRIBUTE_ANALYTIC_PARAMETERS\n        ] = analyticAttributes;\n\n\n        const resultAttributes = this.getResultAttributes();\n        configAttributes[\n          CATEGORY_ATTRIBUTE_RESULT_PARAMETERS\n        ] = resultAttributes;\n\n        const algorithmParametersAttributes = this.getAlgorithmParametersAttributes();\n        configAttributes[\n          CATEGORY_ATTRIBUTE_ALGORTHM_PARAMETERS\n        ] = algorithmParametersAttributes;\n\n        const algorithmMappingAttributes = this.getAlgorithmMappingAttributes();\n        configAttributes[\n          CATEGORY_ATTRIBUTE_ALGORITHM_INDEX_MAPPING\n        ] = algorithmMappingAttributes;\n\n        if (this.ticketContextId && this.ticketProcessId) {\n          const ticketAttributes = this.getTicketAttributes();\n          configAttributes[\n            CATEGORY_ATTRIBUTE_TICKET_LOCALIZATION_PARAMETERS\n          ] = ticketAttributes;\n        }\n\n        if(this.resultType == ANALYTIC_RESULT_TYPE.SMS){\n          const smsAttributes = this.getSMSAttributes();\n          configAttributes[\n            CATEGORY_ATTRIBUTE_TWILIO_PARAMETERS\n          ] = smsAttributes;\n        };\n\n        if([ANALYTIC_RESULT_TYPE.GCHAT_MESSAGE,ANALYTIC_RESULT_TYPE.GCHAT_ORGAN_CARD].includes(this.resultType)){\n          const gChatAttributes = this.getGChatAttributes();\n          configAttributes[\n            CATEGORY_ATTRIBUTE_GCHAT_PARAMETERS\n          ] = gChatAttributes;\n        };\n\n        const ioAttributes = this.getIOAttributes();\n        configAttributes[\n          CATEGORY_ATTRIBUTE_IO_DEPENDENCIES\n        ] = ioAttributes;\n\n        const triggerAttributes = this.getTriggerAttributes();\n        configAttributes[\n          CATEGORY_ATTRIBUTE_TRIGGER_PARAMETERS\n        ] = triggerAttributes;\n\n\n\n        const configNodeRef = await spinalAnalyticService.getConfig(\n          this.selectedNode.id.get()\n        );\n        const configNode = SpinalGraphService.getRealNode(\n          configNodeRef.id.get()\n        );\n        await spinalAnalyticService.addAttributesToNode(\n          configNode,\n          configAttributes\n        );\n        \n        \n      }\n\n      this.showDialog = false;\n    },\n\n    closeDialog(closeResult) {\n      if (typeof this.onFinised === 'function') {\n        this.onFinised({\n          closeResult,\n          analyticName: this.analyticName,\n        });\n      }\n    },\n\n    addInput() {\n      let length = Object.keys(this.inputs).length;\n      console.log('adding input');\n      this.inputs = { ...this.inputs, [`I${length}`]: { trackingMethod: '', filterValue: '', searchDepth:0, strictDepth:false, searchRelations:'', timeseriesIntervalTime : 0 }};\n    },\n\n    removeInput(inputName) {\n      delete this.inputs[inputName];\n      let index = Number(inputName.match(/(\\d+)/)[0]);\n      // shift back all the inputs after the deleted one.\n      let i = index;\n      while (this.inputs[`I${i + 1}`] !== undefined) {\n        this.inputs[`I${i}`] = this.inputs[`I${i + 1}`];\n        i++;\n      }\n      // Remove the last item.\n      delete this.inputs[`I${i}`];\n\n      this.inputs = { ...this.inputs };\n      console.log(\"deleted input : \", inputName);\n    },\n\n    addTrigger() {\n      let length = Object.keys(this.triggers).length;\n      console.log('adding input');\n      this.triggers = { ...this.triggers, [`T${length}`]: { triggerType: '', triggerValue: '', changeOfValueThreshold : 0 }};\n      \n    },\n\n    removeTrigger(triggerName) {\n      delete this.triggers[triggerName];\n      let index = Number(triggerName.match(/(\\d+)/)[0]);\n      // shift back all the elements after the deleted one.\n      let i = index;\n      while (this.triggers[`T${i + 1}`] !== undefined) {\n        this.triggers[`T${i}`] = this.triggers[`T${i + 1}`];\n        i++;\n      }\n      // Remove the last item.\n      delete this.triggers[`T${i}`];\n\n      this.triggers = { ...this.triggers };\n      console.log(\"deleted trigger : \", triggerName);\n    },\n\n    addAlgorithm(){\n      let length = Object.keys(this.algorithms).length;\n      console.log('adding algorithm');\n      this.algorithms = { ...this.algorithms, [`A${length}`]: { name :'', params: []}};\n    },\n\n    removeAlgorithm(algorithmIndexName){\n      delete this.algorithms[algorithmIndexName];\n      let index = Number(algorithmIndexName.match(/(\\d+)/)[0]);\n      // shift back all the elements after the deleted one.\n      let i = index;\n      while (this.algorithms[`A${i + 1}`] !== undefined) {\n        this.algorithms[`A${i}`] = this.algorithms[`A${i + 1}`];\n        i++;\n      }\n      // Remove the last item.\n      delete this.algorithms[`A${i}`];\n\n      this.algorithms = { ...this.algorithms };\n      console.log(\"deleted algorithm : \", algorithmIndexName);\n    },\n\n    changeStep(stepId) {\n      this.stepper.active = stepId;\n    },\n\n    PassToNextStep() {\n      switch (this.stepper.active) {\n        case this.STEPPERS_DATA.analytic:\n          this.stepper.first = true;\n          this.stepper.active = this.STEPPERS_DATA.followedEntity;\n          break;\n        case this.STEPPERS_DATA.followedEntity:\n          this.stepper.second = true;\n          this.stepper.active = this.STEPPERS_DATA.inputConfiguration;\n          break;\n        case this.STEPPERS_DATA.inputConfiguration:\n          this.stepper.third = true;\n          this.stepper.active = this.STEPPERS_DATA.triggerConfiguration;\n          break;\n        case this.STEPPERS_DATA.triggerConfiguration:\n          this.stepper.fourth = true;\n          this.stepper.active = this.STEPPERS_DATA.algorithmConfiguration;\n          break;\n        case this.STEPPERS_DATA.algorithmConfiguration:\n          this.stepper.fifth = true;\n          this.stepper.active = this.STEPPERS_DATA.resultConfiguration;\n          break;\n        case this.STEPPERS_DATA.resultConfiguration:\n          this.stepper.sixth = true;\n          this.stepper.active = this.STEPPERS_DATA.IODependencies;\n          break;\n        case this.STEPPERS_DATA.IODependencies:\n          this.stepper.seventh = true;\n          this.stepper.active = this.STEPPERS_DATA.summary;\n          break;\n        case this.STEPPERS_DATA.summary:\n          this.stepper.eighth = true;\n          this.stepper.active = this.STEPPERS_DATA.summary;\n          break;\n      }\n    },\n\n    isSaveButtonDisabled() {\n      return (\n        this.analyticName === '' ||\n        this.algorithm === '' ||\n        this.resultType === '' ||\n        this.resultName === '' ||\n        this.intervalTime === null ||\n        !this.followedEntity\n      );\n    },\n\n    getTrackingMethodAttributes(){\n      const trackingMethodAttributes = {};\n      for ( const inputKey of Object.keys(this.inputs))\n      {\n        trackingMethodAttributes[inputKey] = []\n        trackingMethodAttributes[inputKey].push({ name: `${ATTRIBUTE_TRACKING_METHOD}`,\n                  type: 'string',\n                  value: this.inputs[inputKey].trackingMethod });\n        trackingMethodAttributes[inputKey].push({ name: `${ATTRIBUTE_FILTER_VALUE}`,\n                  type: 'string',\n                  value: this.inputs[inputKey].filterValue });\n        trackingMethodAttributes[inputKey].push({ name: `${ATTRIBUTE_SEARCH_DEPTH}`,\n                  type: 'number',\n                  value: this.inputs[inputKey].searchDepth });\n\n        trackingMethodAttributes[inputKey].push({ name: `${ATTRIBUTE_STRICT_DEPTH}`,\n                  type: 'boolean',\n                  value: this.inputs[inputKey].strictDepth });\n                  \n        trackingMethodAttributes[inputKey].push({ name: `${ATTRIBUTE_SEARCH_RELATIONS}`,\n                  type: 'string',\n                  value: this.inputs[inputKey].searchRelations });\n\n        if([TRACK_METHOD.CONTROL_ENDPOINT_NAME_FILTER,TRACK_METHOD.ENDPOINT_NAME_FILTER].includes(this.inputs[inputKey].trackingMethod) ){\n          trackingMethodAttributes[inputKey].push({ name: `${ATTRIBUTE_TIMESERIES}`,\n                  type: 'number',\n                  value: this.inputs[inputKey].timeseriesIntervalTime });\n        }\n        \n      }\n      return trackingMethodAttributes;\n    },\n\n    getAnalyticAttributes(){\n      const analyticAttributes = [];\n      analyticAttributes.push({\n        name: `${ATTRIBUTE_ANALYTIC_DESCRIPTION}`,\n        type: 'string',\n        value: this.analyticDescription,\n      });\n      analyticAttributes.push({\n        name: `${ATTRIBUTE_ANALYTIC_STATUS}`,\n        type: 'string',\n        value: this.analyticStatus? ANALYTIC_STATUS.ACTIVE : ANALYTIC_STATUS.INACTIVE,\n      });\n      analyticAttributes.push({\n        name: `${ATTRIBUTE_TRIGGER_AT_START}`,\n        type: 'boolean',\n        value: this.analyticShouldTriggerAtStart,\n      });\n      return analyticAttributes;\n    },\n\n    getResultAttributes(){\n      const resultAttributes = [];\n      resultAttributes.push({\n        name: `${ATTRIBUTE_RESULT_TYPE}`,\n        type: 'string',\n        value: this.resultType,\n      });\n      resultAttributes.push({\n        name: `${ATTRIBUTE_RESULT_NAME}`,\n        type: 'string',\n        value: this.resultName,\n      });\n      return resultAttributes;\n    },\n\n    getAlgorithmParametersAttributes(){\n      const algorithmParametersAttributes = [];\n      for (const algorithmIndexName of Object.keys(this.algorithms)) {\n        let algoName = this.algorithms[algorithmIndexName].name;\n        const doc = ALGORITHMS[algoName].requiredParams;\n        for(let i = 0 ; i<this.algorithms[algorithmIndexName].params.length; i++){\n          algorithmParametersAttributes.push({\n            name: `${algorithmIndexName}${ATTRIBUTE_SEPARATOR}${doc[i].name}`,\n            value: doc[i].type === 'number' ? + this.algorithms[algorithmIndexName].params[i] : this.algorithms[algorithmIndexName].params[i],\n            type: doc[i].type,\n          });\n        }\n      }\n      return algorithmParametersAttributes;\n    },\n\n    getAlgorithmMappingAttributes(){\n      const algorithmMappingAttributes = [];\n      for (const algorithmIndexName of Object.keys(this.algorithms)) {\n        algorithmMappingAttributes.push({\n          name: `${algorithmIndexName}`,\n          type: 'string',\n          value: this.algorithms[algorithmIndexName].name,\n        });\n      }\n      return algorithmMappingAttributes;\n    },\n\n    getTicketAttributes(){\n      const ticketAttributes = [];\n      ticketAttributes.push({\n        name: `${ATTRIBUTE_TICKET_CONTEXT_ID}`,\n        type: 'string',\n        value: this.ticketContextId,\n      });\n      ticketAttributes.push({\n        name: `${ATTRIBUTE_TICKET_PROCESS_ID}`,\n        type: 'string',\n        value: this.ticketProcessId,\n      });\n      if(this.alarmPriority){\n          ticketAttributes.push({\n            name: `${ATTRIBUTE_ALARM_PRIORITY}`,\n            value: this.alarmPriority,\n            type: 'number',\n          });\n        }\n      return ticketAttributes;\n    },\n\n    getSMSAttributes(){\n      const smsAttributes = [];\n      smsAttributes.push({\n        name: `${ATTRIBUTE_PHONE_NUMBER}`,\n        type: 'string',\n        value: this.phoneNumber,\n      });\n      smsAttributes.push({\n        name: `${ATTRIBUTE_PHONE_MESSAGE}`,\n        type: 'string',\n        value: this.phoneMessage,\n      });\n      return smsAttributes;\n    },\n\n    getGChatAttributes(){\n      const gChatAttributes = [];\n      gChatAttributes.push({\n        name: `${ATTRIBUTE_GCHAT_MESSAGE}`,\n        type: 'string',\n        value: this.gChatMessage,\n      });\n      gChatAttributes.push({\n        name: `${ATTRIBUTE_GCHAT_SPACE}`,\n        type: 'string',\n        value: this.gChatSpaceName,\n      });\n      return gChatAttributes;\n    },\n\n    getIOAttributes(){\n      const ioAttributes = [];\n      for (const ioDependencyName of Object.keys(this.ioDependencies)) {\n        let str = \"\";\n        for (const ioDependency of this.ioDependencies[ioDependencyName]) {\n          str += `${ioDependency}${ATTRIBUTE_VALUE_SEPARATOR}`;\n        }\n        str = str.slice(0, -1);\n        ioAttributes.push({\n          name: `${ioDependencyName}`,\n          type: 'string',\n          value: str,\n        });\n      }\n      return ioAttributes;\n    },\n\n    getTriggerAttributes(){\n      const triggerAttributes = [];\n      for (const triggerIndex of Object.keys(this.triggers)) {\n        let str = `${this.triggers[triggerIndex].triggerType}${ATTRIBUTE_VALUE_SEPARATOR}${this.triggers[triggerIndex].triggerValue}`;\n        if (this.triggers[triggerIndex].changeOfValueThreshold !== null) {\n          str += `${ATTRIBUTE_VALUE_SEPARATOR}${this.triggers[triggerIndex].changeOfValueThreshold}`;\n        }\n        triggerAttributes.push({\n          name: `${triggerIndex}`,\n          type: 'string',\n          value: str,\n        });\n      }\n      return triggerAttributes;\n    },\n\n  },\n};\n</script>\n\n<style scoped>\n.mdDialog {\n  width: 1200px;\n  max-width: 1500px;\n  height: 600px;\n}\n\n.mdDialog .mdDialogTitle {\n  text-align: center;\n}\n\n.mdDialog .mdDialogContainer {\n  width: 1200px;\n  max-width: 1500px;\n  height: 100%;\n  overflow: auto;\n}\n\n.fixed-size-field {\n  width: 85%;\n  max-width: 85%;\n}\n\n.md-dialog-actions {\n  padding: 8px 16px; /* Add this line */\n  margin: 0; /* Add this line */\n}\n\n.md-button {\n  margin: 0 8px; /* Add this line */\n}\n\n.mdDialog .mdDialogContainer .mdStep {\n  height: 350px;\n  padding: 10px 0px;\n  overflow: auto;\n}\n</style>\n\n<style>\n.mdDialog .mdDialogContainer .mdStep .md-stepper-content.md-active {\n  width: 100%;\n  height: 100%;\n}\n.fixed-size-field {\n  width: 85%;\n  max-width: 85%;\n}\n\n.mdDialog .mdDialogContainer .mdStep .contents {\n  width: 100%;\n  height: 100%;\n  align-items: center;\n  overflow: auto;\n}\n</style>\n","import vue from \"vue\";\n\nconst { SpinalForgeExtention } = require(\"spinal-env-viewer-panel-manager-service_spinalforgeextention\");\n\n\nimport LinkGroupToAnalytics from \"./linkGroupToAnalytics.vue\";\n\nlet panels = [\n   {\n      name: \"linkGroupToAnalyticsPanel\",\n      vueMountComponent: vue.extend(LinkGroupToAnalytics),\n      panel: {\n      title: \"Link Group to Analytic Panel\",\n      closeBehaviour: \"hide\",\n      },\n      style: {\n         height: \"475px\",\n         left: \"400px\",\n      },\n   }\n];\n\nfor (let index = 0; index < panels.length; index++) {\n const element = panels[index];\n const panelExtension = SpinalForgeExtention.createExtention(element);\n SpinalForgeExtention.registerExtention(element.name, panelExtension);\n}","/*\n * Copyright 2018 SpinalCom - www.spinalcom.com\n *\n * This file is part of SpinalCore.\n *\n * Please read all of the following terms and conditions\n * of the Free Software license Agreement (\"Agreement\")\n * carefully.\n *\n * This Agreement is a legally binding contract between\n * the Licensee (as defined below) and SpinalCom that\n * sets forth the terms and conditions that govern your\n * use of the Program. By installing and/or using the\n * Program, you agree to abide by all the terms and\n * conditions stated or referenced herein.\n *\n * If you do not agree to abide by these terms and\n * conditions, do not demonstrate your acceptance and do\n * not install or use the Program.\n * You should have received a copy of the license along\n * with this file. If not, see\n * <http://resources.spinalcom.com/licenses.pdf>.\n */\n\nconst {\n  spinalPanelManagerService,\n  SpinalPanelApp\n} = require(\"spinal-env-viewer-panel-manager-service\");\n\nconst SpinalForgeExtention = require(\"./SpinalForgeExtention.js\")(\n  spinalPanelManagerService,\n  SpinalPanelApp\n);\n\nmodule.exports = {\n  SpinalForgeExtention\n};\n","/*\n * Copyright 2023 SpinalCom - www.spinalcom.com\n * \n * This file is part of SpinalCore.\n * \n * Please read all of the following terms and conditions\n * of the Free Software license Agreement (\"Agreement\")\n * carefully.\n * \n * This Agreement is a legally binding contract between\n * the Licensee (as defined below) and SpinalCom that\n * sets forth the terms and conditions that govern your\n * use of the Program. By installing and/or using the\n * Program, you agree to abide by all the terms and\n * conditions stated or referenced herein.\n * \n * If you do not agree to abide by these terms and\n * conditions, do not demonstrate your acceptance and do\n * not install or use the Program.\n * You should have received a copy of the license along\n * with this file. If not, see\n * <http://resources.spinalcom.com/licenses.pdf>.\n */\n\nfunction configInit(option) {\n  const cfg = {};\n  if (typeof option.toolbar !== \"undefined\") {\n    cfg.toolbar = {\n      icon: option.toolbar.icon || \"done\",\n      label: option.toolbar.label || \"label\",\n      subToolbarName: option.toolbar.subToolbarName || \"spinalcom\",\n      styleBtn: {},\n      styleIcon: {}\n    };\n    Object.assign(cfg.toolbar.styleBtn, option.toolbar.styleBtn);\n    Object.assign(cfg.toolbar.styleIcon, option.toolbar.styleIcon);\n  }\n  if (typeof option.panel !== \"undefined\") {\n    cfg.panel = {\n      title: option.panel.title || \"Spinalcom Panel\",\n      classname: option.panel.classname || \"spinal-pannel\",\n      closeBehaviour: option.panel.closeBehaviour || \"hide\"\n    };\n    if (typeof option.style !== \"undefined\") {\n      cfg.style = {};\n      Object.assign(cfg.style, option.style);\n    }\n  }\n  cfg.name = option.name || \"spinalExtention\";\n  cfg.vueMountComponent = option.vueMountComponent;\n  cfg.onLoad = option.onLoad;\n  cfg.onUnLoad = option.onUnLoad;\n  return cfg;\n}\n\nfunction onToolbarCreated() {\n  this.viewer.removeEventListener(\n    window.Autodesk.Viewing.TOOLBAR_CREATED_EVENT,\n    this.onToolbarCreatedBinded\n  );\n  this.onToolbarCreatedBinded = null;\n  createToolbar.call(this);\n}\n\nfunction createToolbar() {\n  this.toolbarButton = new window.Autodesk.Viewing.UI.Button(\n    this.cfg.toolbar.label\n  );\n  this.toolbarButton.onClick = () => {\n    this.tooglePanel(this.cfg);\n  };\n  var icon = this.toolbarButton.container.firstChild;\n  icon.className = \"adsk-button-icon md-icon md-icon-font md-theme-default\";\n  icon.innerHTML = this.cfg.toolbar.icon;\n\n  for (var key in this.cfg.toolbar.styleIcon) {\n    if (this.cfg.toolbar.styleIcon.hasOwnProperty(key)) {\n      icon.style[key] = this.cfg.toolbar.styleIcon[key];\n    }\n  }\n  for (var key in this.cfg.toolbar.styleBtn) {\n    if (this.cfg.toolbar.styleBtn.hasOwnProperty(key)) {\n      this.toolbarButton.container.style[key] = this.cfg.toolbar.styleBtn[key];\n    }\n  }\n\n  this.toolbarButton.setToolTip(this.cfg.toolbar.label);\n  this.subToolbar = this.viewer.toolbar.getControl(\n    this.cfg.toolbar.subToolbarName\n  );\n  if (!this.subToolbar) {\n    this.subToolbar = new window.Autodesk.Viewing.UI.ControlGroup(\n      this.cfg.toolbar.subToolbarName\n    );\n    this.viewer.toolbar.addControl(this.subToolbar);\n  }\n  this.subToolbar.addControl(this.toolbarButton);\n}\n\nfunction closeComponent() {\n  if (this.cfg.panel.closeBehaviour !== \"hide\") {\n    try {\n      this.component.removed.call(this.component);\n    } catch (e) {\n      console.error(e);\n    }\n    this.panel.container.remove();\n    this.panel = null;\n  } else {\n    try {\n      this.component.closed.call(this.component);\n    } catch (e) {\n      console.error(e);\n    }\n  }\n}\n\nfunction getPanel() {\n  if (this.panel === null) {\n    this.panel = new window.PanelClass(this.viewer, this.cfg.panel.title);\n    var _container = document.createElement(\"div\");\n    var _scrollContainer = this.panel.createScrollContainer();\n\n    _container.className +=\n      this.panel.container.id + \"-panelcontainer \" + this.cfg.panel.classname;\n    for (var key in this.cfg.style) {\n      if (this.cfg.style.hasOwnProperty(key)) {\n        this.panel.container.style[key] = this.cfg.style[key];\n      }\n    }\n\n    if (this.panel.container.style.left) {\n      this.panel.container.style.left = \"0\";\n    }\n\n    this.panel.container.appendChild(_scrollContainer);\n    _scrollContainer.style.height = \"calc(100% - 52px)\";\n    _scrollContainer.appendChild(_container);\n\n    var _footer = this.panel.createFooter();\n    this.panel.container.appendChild(_footer);\n\n    if (this.cfg.vueMountComponent) {\n      this.component = new this.cfg.vueMountComponent().$mount(_container);\n    }\n\n    const _this = this;\n    this.panel.addVisibilityListener(open => {\n      if (!open) {\n        closeComponent.call(_this);\n      }\n    });\n  }\n  return this.panel;\n}\n\n/**\n *\n *\n * @param {*} spinalPanelManagerService\n * @param {*} SpinalPanelApp\n * @returns {object} { createExtention, registerExtention }\n */\nmodule.exports = function (spinalPanelManagerService, SpinalPanelApp) {\n  return {\n    /**\n     * factory function to create a dynamic class that extends the `SpinalPanelApp` class\n     *```js\n{\n  name: \"extention_name\",\n  vueMountComponent: Vue.extend(aVueCompoment),\n  onLoad: () => {console.log(\"onLoad\");},\n  onUnLoad: () => {console.log(\"onUnLoad\");},\n  toolbar: {\n    icon: \"done\",\n    label: \"testLabel\",\n    subToolbarName: \"spinalcom\"\n  },\n  panel: {\n    title: \"Spinalcom Panel\",\n    classname: \"spinal-pannel\",\n    closeBehaviour: \"hide\"\n  },\n  style: {}\n}\n```\n     * @param {object} option see description\n     * @returns SpinalForgeExtention\n     */\n    createExtention(option) {\n      const cfg = configInit(option);\n      /**\n       * class returned by createExtention\n       * this extention is also registered in autodesk viweer\n       * @extends SpinalPanelApp\n       * @property {AutodeskViewer} viewer the autodesk view\n       * @property {AutodeskPanel} panel the panel\n       * @property {Vue.component} component the component mounted\n       * @property {Object} cfg the option given on creation\n       */\n      const SpinalForgeExtention = class extends SpinalPanelApp {\n        constructor(viewer, options) {\n          super();\n          window.Autodesk.Viewing.Extension.call(this, viewer, options);\n          this.viewer = viewer;\n          this.panel = null;\n          this.cfg = cfg;\n          spinalPanelManagerService.registerPanel(cfg.name, this);\n        }\n        /**\n         * method called on load of the extention (managed by the autodesk viewer)\n         * the method create a button in the toolbar if put in the option of `createExtention`.\n         */\n        load() {\n          if (typeof cfg.toolbar !== \"undefined\") {\n            // add toolbar\n            if (this.viewer.toolbar) {\n              createToolbar.call(this);\n            } else {\n              this.onToolbarCreatedBinded = onToolbarCreated.bind(this);\n              this.viewer.addEventListener(\n                window.Autodesk.Viewing.TOOLBAR_CREATED_EVENT,\n                this.onToolbarCreatedBinded\n              );\n            }\n          }\n          if (typeof cfg.onLoad !== \"undefined\") cfg.onLoad.call(this);\n          return true;\n        }\n        /**\n         * method called when the viewer unload of the extention\n         * (managed by the autodesk viewer)\n         */\n        unload() {\n          if (typeof cfg.toolbar !== \"undefined\") {\n            this.viewer.subToolbar.removeControl(this.toolbarButton);\n          }\n          if (typeof cfg.onUnLoad !== \"undefined\") cfg.onUnLoad.call(this);\n          return true;\n        }\n\n        activate() {\n          return this.load();\n        }\n\n        deactivate() {\n          return this.unload();\n        }\n\n        /**\n         *\n         * @param {*} option\n         */\n        openPanel(option) {\n          const panel = getPanel.call(this);\n          panel.setVisible(true);\n          try {\n            this.component.opened.call(this.component, option, this.viewer);\n          } catch (e) {\n            console.error(e);\n          }\n        }\n        /**\n         *\n         *\n         * @param {*} option\n         */\n        closePanel(option) {\n          const panel = getPanel.call(this);\n          panel.setVisible(false);\n        }\n        /**\n         *\n         *\n         * @param {*} option\n         */\n        tooglePanel(option) {\n          if (this.panel === null || this.panel.isVisible() === false) {\n            this.openPanel.call(this, option);\n          } else { this.closePanel.call(this, option); }\n        }\n      };\n      return SpinalForgeExtention;\n    },\n\n    /**\n     * Method to register an extention to the viewer and the forge viewer\n     * @param {string} name name of the extention\n     * @param {*} classExtention an extention created by `createExtention`\n     */\n    registerExtention(name, classExtention) {\n      // register to forge\n      window.Autodesk.Viewing.theExtensionManager.registerExtension(\n        name,\n        classExtention\n      );\n      // register to viewer\n      window.spinal.ForgeExtentionManager.addExtention(name);\n    }\n  };\n};\n","<!--\nCopyright 2020 SpinalCom - www.spinalcom.com\n\nThis file is part of SpinalCore.\n\nPlease read all of the following terms and conditions\nof the Free Software license Agreement (\"Agreement\")\ncarefully.\n\nThis Agreement is a legally binding contract between\nthe Licensee (as defined below) and SpinalCom that\nsets forth the terms and conditions that govern your\nuse of the Program. By installing and/or using the\nProgram, you agree to abide by all the terms and\nconditions stated or referenced herein.\n\nIf you do not agree to abide by these terms and\nconditions, do not demonstrate your acceptance and do\nnot install or use the Program.\nYou should have received a copy of the license along\nwith this file. If not, see\n<http://resources.spinalcom.com/licenses.pdf>.\n-->\n\n<template>\n\t<md-content class=\"mdContent\">\n\t\t<div class=\"header\">\n\t\t\t<div class=\"buscar-caja\" :class=\"{ isOpened: isOpened }\">\n\t\t\t\t<input\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tname=\"\"\n\t\t\t\t\tclass=\"buscar-txt\"\n\t\t\t\t\tplaceholder=\"Search...\"\n\t\t\t\t\t:class=\"{ isOpened: isOpened }\"\n\t\t\t\t\tv-model=\"search\"\n\t\t\t\t/>\n\t\t\t\t<a class=\"md-icon-button buscar-btn\" @click=\"openSearchBar\">\n\t\t\t\t\t<md-icon>search</md-icon>\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div\n\t\t\tv-if=\"tempList.length > 0 && appState === STATES.normal\"\n\t\t\tclass=\"_container\"\n\t\t>\n\t\t\t<md-content class=\"listItem md-scrollbar\">\n\t\t\t\t<RecycleScroller\n\t\t\t\t\t:items=\"tempList\"\n\t\t\t\t\t:item-size=\"60\"\n\t\t\t\t\tkey-field=\"id\"\n\t\t\t\t\tv-slot=\"{ item }\"\n\t\t\t\t>\n\t\t\t\t\t<div class=\"listContainer\">\n\t\t\t\t\t\t<span class=\"md-list-item-text\">{{ item.name }}</span>\n\n\t\t\t\t\t\t<md-button\n\t\t\t\t\t\t\tclass=\"md-icon-button panel_link_button\"\n\t\t\t\t\t\t\t@click=\"linkUnlink(item)\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<md-icon>{{ getIcon(item) }}</md-icon>\n\t\t\t\t\t\t</md-button>\n\t\t\t\t\t</div>\n\t\t\t\t</RecycleScroller>\n\t\t\t</md-content>\n\t\t</div>\n\n\t\t<div\n\t\t\tclass=\"_container empty\"\n\t\t\tv-if=\"tempList.length === 0 && appState === STATES.normal\"\n\t\t>\n\t\t\tNo Data found !\n\t\t</div>\n\n\t\t<div class=\"_container empty\" v-if=\"appState === STATES.loading\">\n\t\t\t<md-progress-spinner\n\t\t\t\tclass=\"spiner\"\n\t\t\t\tmd-mode=\"indeterminate\"\n\t\t\t></md-progress-spinner>\n\t\t</div>\n\n\t\t<div class=\"_container empty\" v-if=\"appState === STATES.error\">\n\t\t\tSorry, Something was wrong. Please retry !!\n\t\t</div>\n\t</md-content>\n</template>\n\n<script>\n\timport Vue from \"vue\";\n\n\timport { groupManagerService } from \"spinal-env-viewer-plugin-group-manager-service\";\n\timport { spinalAnalyticService } from \"spinal-env-viewer-plugin-analytics-service\";\n\n\timport { RecycleScroller } from \"vue-virtual-scroller\";\n\n\tVue.component(\"RecycleScroller\", RecycleScroller);\n\n\texport default {\n\t\tname: \"linkGroupToAnalyticPanel\",\n\t\tcomponents: {\n\t\t\t// \"pagination-component\": paginationComponent,\n\t\t\t// \"filter-menu\": filterMenu,\n\t\t\t// \"virtual-scroller\": VueVirtualScroller,\n\t\t},\n\t\tdata() {\n\t\t\tthis.STATES = {\n\t\t\t\tnormal: 1,\n\t\t\t\tloading: 2,\n\t\t\t\terror: 3,\n\t\t\t};\n\t\t\tthis.contextId;\n\t\t\tthis.analyticId;\n\t\t\tthis.childrenType;\n\n\t\t\tthis.data = [];\n\n\t\t\tthis.countPerPage = 10;\n\n\t\t\treturn {\n\t\t\t\tsearch: \"\",\n\t\t\t\tisOpened: false,\n\t\t\t\ttempList: [],\n\t\t\t\tdataLinked: [],\n\t\t\t\tcurrentPage: 1,\n\t\t\t\tappState: this.STATES.normal,\n\t\t\t};\n\t\t},\n\t\tmethods: {\n\t\t\tasync opened(option) {\n\t\t\t\tthis.appState = this.STATES.loading;\n\t\t\t\tthis.contextId = option.contextId;\n\t\t\t\tthis.analyticId = option.analyticId;\n\t\t\t\tthis.childrenType = option.childrenType;\n\n\t\t\t\tPromise.all([\n\t\t\t\t\tthis.getGroupsLinked(this.analyticId),\n\t\t\t\t\tthis.getAllGroups(this.childrenType),\n\t\t\t\t])\n\t\t\t\t\t.then(([linked, groups]) => {\n\t\t\t\t\t\tthis.data = groups;\n\t\t\t\t\t\tthis.tempList = groups;\n\t\t\t\t\t\tthis.dataLinked = linked;\n\t\t\t\t\t\tthis.appState = this.STATES.normal;\n\t\t\t\t\t})\n\t\t\t\t\t.catch((err) => {\n\t\t\t\t\t\tthis.appState = this.STATES.error;\n\t\t\t\t\t});\n\t\t\t},\n\n\t\t\tisLinked(item) {\n\t\t\t\treturn this.dataLinked.find((el) => {\n\t\t\t\t\treturn item.id === el.id;\n\t\t\t\t});\n\t\t\t},\n\n\t\t\tgetIcon(item) {\n\t\t\t\treturn typeof this.isLinked(item) === \"undefined\"\n\t\t\t\t\t? \"link\"\n\t\t\t\t\t: \"link_off\";\n\t\t\t},\n\n\t\t\t// eventMethod(eventName, item) {\n\t\t\t// \tEventBus.$emit(eventName, item);\n\t\t\t// },\n\n\t\t\topenSearchBar() {\n\t\t\t\tthis.isOpened = !this.isOpened;\n\t\t\t},\n\n\t\t\tasync linkUnlink(item) {\n\t\t\t\tif (!this.isLinked(item)) {\n\t\t\t\t\tawait spinalAnalyticService.linkGroupToAnalytic(\n\t\t\t\t\t\tthis.contextId,\n\t\t\t\t\t\tthis.analyticId,\n\t\t\t\t\t\titem.id\n\t\t\t\t\t);\n\n\t\t\t\t\tthis.dataLinked.push(item);\n\t\t\t\t} else {\n\t\t\t\t\tconst removed =\n\t\t\t\t\t\tawait spinalAnalyticService.unLinkGroupToAnalytic(\n\t\t\t\t\t\t\tthis.analyticId,\n\t\t\t\t\t\t\titem.id\n\t\t\t\t\t\t);\n\n\t\t\t\t\tif (removed) {\n\t\t\t\t\t\tthis.dataLinked = this.dataLinked.filter(\n\t\t\t\t\t\t\t(el) => el.id !== item.id\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tasync getGroupsLinked(analyticId) {\n\t\t\t\tconst groups = await spinalAnalyticService.getGroupsLinked(\n\t\t\t\t\tanalyticId\n\t\t\t\t);\n\t\t\t\treturn groups.map((group) => group.get());\n\t\t\t},\n\n\t\t\tasync getAllGroups(type) {\n\t\t\t\tconst contexts = await groupManagerService.getGroupContexts(type);\n\t\t\t\tconst promises = contexts.map((el) => {\n\t\t\t\t\treturn groupManagerService.getGroups(el.id);\n\t\t\t\t});\n\n\t\t\t\treturn Promise.all(promises).then((result) => {\n\t\t\t\t\tconst _result = result.flat();\n\t\t\t\t\treturn _result.map((el) => el.get());\n\t\t\t\t});\n\t\t\t},\n\t\t},\n\t\twatch: {\n\t\t\tsearch: function (newValue) {\n\t\t\t\tnewValue = newValue.trim();\n\t\t\t\t// console.log(\"newValue\", newValue);\n\t\t\t\tif (newValue.length === 0) {\n\t\t\t\t\tthis.tempList = [...this.data];\n\t\t\t\t} else {\n\t\t\t\t\tthis.tempList = this.data.filter((el) => {\n\t\t\t\t\t\treturn el.name.toLowerCase().includes(newValue.toLowerCase());\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t\t// computed: {\n\t\t//   isOpened: function() {\n\t\t//     return this.search.trim().length > 0;\n\t\t//   }\n\t\t// }\n\t};\n</script>\n\n<style scoped>\n\t.mdContent {\n\t\twidth: 100%;\n\t\theight: calc(100% - 15px);\n\t}\n\n\t.header {\n\t\twidth: 100%;\n\t\theight: 40px;\n\t\tdisplay: flex;\n\t\tflex-direction: row-reverse;\n\t\tmargin-bottom: 10px;\n\t}\n\n\t._container {\n\t\twidth: 100%;\n\t\theight: calc(100% - 50px);\n\t\toverflow: hidden;\n\t}\n\n\t._container .listItem {\n\t\twidth: 98%;\n\t\theight: calc(100% - 10px);\n\t\toverflow: hidden;\n\t\toverflow-y: auto;\n\t\tmargin: auto;\n\t}\n\n\t._container .listItem .listcontent {\n\t\twidth: 95%;\n\t\tmargin: auto;\n\t}\n\n\t.empty {\n\t\twidth: 100%;\n\t\theight: calc(100% - 50px);\n\t\t/* text-align: center; */\n\t\tfont-size: 20px;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t}\n\n\t.listContainer {\n\t\twidth: 95%;\n\t\theight: 60px;\n\t\tfont-size: 1.2em;\n\t\tpadding: 0 5px 0 5px;\n\t\tborder-bottom: 1px solid white;\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t}\n\n\t.listContainer:hover {\n\t\tcursor: pointer;\n\t\tbackground-color: gray;\n\t}\n\n\t.paginationContent {\n\t\twidth: 40%;\n\t\tmargin: auto;\n\t\theight: 40px;\n\t}\n\n\t.paginationContent {\n\t\twidth: 100%;\n\t\theight: 40px;\n\t}\n\n\t/* .groupColor {\n\t\twidth: 24px;\n\t\theight: 24px;\n\t\tborder: 1px solid white;\n\t}\n\n\t.spiner {\n\t\tposition: absolute;\n\t\ttop: calc(50% - 30px);\n\t\tright: calc(50% - 30px);\n\t} */\n</style>\n\n<style>\n\t.listContainer .md-list-item-content {\n\t\tpadding-left: 5px;\n\t\t/* padding-top: 4px;\n  padding-bottom: 4px; */\n\t}\n\n\t.listContainer .panel_link_button .md-ripple {\n\t\tpadding: unset !important;\n\t}\n\n\t/*\n//////////////////////////////////////////////////////////////////\n*/\n\n\t.buscar-caja {\n\t\t/* position: absolute; */\n\t\t/* top: 50%;\n  left: 50%; */\n\t\t/* right: 0; */\n\t\t/* transform: translate(-50%, -50%); */\n\t\t/* background: #2f3640; */\n\t\theight: 35px;\n\t\tborder-radius: 40px;\n\t\tmargin-top: 5px;\n\t\t/* padding: 10px; */\n\t}\n\n\t.buscar-caja.isOpened {\n\t\tbackground: #2f3640;\n\t}\n\n\t/* .buscar-caja:hover > .buscar-txt, */\n\t.buscar-caja > .buscar-txt.isOpened {\n\t\twidth: 240px;\n\t\tpadding: 0 6px;\n\t}\n\n\t/* .buscar-caja:hover > .buscar-btn {\n  background: white;\n  color: black;\n} */\n\n\t.buscar-btn {\n\t\tcolor: #e84118;\n\t\tfloat: right;\n\t\twidth: 40px;\n\t\theight: 35px;\n\t\tborder-radius: 50%;\n\t\t/* background: #2f3640; */\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\ttransition: 0.4s;\n\t\tcolor: white;\n\t\tcursor: pointer;\n\t}\n\n\t.buscar-btn > i {\n\t\tfont-size: 30px;\n\t}\n\n\t.buscar-txt {\n\t\tborder: none;\n\t\tbackground: none;\n\t\toutline: none;\n\t\tfloat: left;\n\t\tpadding: 0;\n\t\tcolor: white;\n\t\tfont-size: 16px;\n\t\ttransition: 0.4s;\n\t\tline-height: 40px;\n\t\twidth: 0px;\n\t\t/* font-weight: bold; */\n\t}\n\n\t/*\n//////////////////////////////////////////////////////////\n//                VUe scroll\n//////////////////////////////////////////////////////////\n*/\n\t.vue-recycle-scroller {\n\t\tposition: relative;\n\t}\n\t.vue-recycle-scroller.direction-vertical:not(.page-mode) {\n\t\toverflow-y: auto;\n\t}\n\t.vue-recycle-scroller.direction-horizontal:not(.page-mode) {\n\t\toverflow-x: auto;\n\t}\n\t.vue-recycle-scroller.direction-horizontal {\n\t\tdisplay: -webkit-box;\n\t\tdisplay: -ms-flexbox;\n\t\tdisplay: flex;\n\t}\n\t.vue-recycle-scroller__slot {\n\t\t-webkit-box-flex: 1;\n\t\t-ms-flex: auto 0 0px;\n\t\tflex: auto 0 0;\n\t}\n\t.vue-recycle-scroller__item-wrapper {\n\t\t-webkit-box-flex: 1;\n\t\t-ms-flex: 1;\n\t\tflex: 1;\n\t\t-webkit-box-sizing: border-box;\n\t\tbox-sizing: border-box;\n\t\toverflow: hidden;\n\t\tposition: relative;\n\t}\n\t.vue-recycle-scroller.ready .vue-recycle-scroller__item-view {\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\twill-change: transform;\n\t}\n\n\t.vue-recycle-scroller.direction-vertical\n\t\t.vue-recycle-scroller__item-wrapper {\n\t\twidth: 100%;\n\t}\n\n\t.vue-recycle-scroller.direction-horizontal\n\t\t.vue-recycle-scroller__item-wrapper {\n\t\theight: 100%;\n\t}\n\t.vue-recycle-scroller.ready.direction-vertical\n\t\t.vue-recycle-scroller__item-view {\n\t\twidth: 100%;\n\t}\n\t.vue-recycle-scroller.ready.direction-horizontal\n\t\t.vue-recycle-scroller__item-view {\n\t\theight: 100%;\n\t}\n\t.resize-observer[data-v-b329ee4c] {\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\tz-index: -1;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tborder: none;\n\t\tbackground-color: transparent;\n\t\tpointer-events: none;\n\t\tdisplay: block;\n\t\toverflow: hidden;\n\t\topacity: 0;\n\t}\n\t.resize-observer[data-v-b329ee4c] object {\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\theight: 100%;\n\t\twidth: 100%;\n\t\toverflow: hidden;\n\t\tpointer-events: none;\n\t\tz-index: -1;\n\t}\n</style>\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ARCHIVE_TICKET_RELATIONS = exports.ARCHIVE_TICKET_TIMESTAMP_ATTR_SPATIAL = exports.ARCHIVE_TICKET_TIMESTAMP_ATTR_PROCESS = exports.ARCHIVE_TICKET_RELATION_TYPE = exports.ARCHIVE_TICKET_PART_TICKET_RELATION = exports.ARCHIVE_TICKET_PART_TYPE = exports.ARCHIVE_TICKET_PART_RELATION = exports.SPATIAL_ARCHIVE_TICKET_TYPE = exports.SPATIAL_ARCHIVE_TICKET_RELATION = exports.PROCESS_ARCHIVE_TICKET_TYPE = exports.PROCESS_ARCHIVE_TICKET_RELATION = exports._TICKET_PRIORITIES = exports.LOGS_EVENTS_STEPS = exports.LOG_TYPE = exports.LOG_RELATION_NAME = exports.LOG_RELATION_TYPE = exports._DEFAULT_INCIDENTS_NAME = exports.INCIDENT_TYPE = exports.INCIDENT_RELATION_NAME = exports.INCIDENT_RELATION_TYPE = exports.INCIDENT_SECTION_RELATION_NAME = exports.INCIDENT_SECTION_TYPE = exports.INCIDENT_SECTION_RELATION_TYPE = exports._DEFAULT_STEPS = exports._ARCHIVED_STEP = exports.DEFAULT_STEPS = exports.ARCHIVED_STEP = exports.STEP_TYPE = exports.STEP_RELATION_NAME = exports.STEP_RELATION_TYPE = exports._PROCESS_TYPE = exports.PROCESS_RELATION_NAME = exports.PROCESS_RELATION_TYPE = exports.ALARM_RELATION_NAME = exports.TICKET_ATTRIBUTE_OCCURENCE_NAME = exports.TIKET_TYPE = exports.TICKET_RELATION_NAME = exports.TICKET_RELATION_TYPE = exports.TICKET_CONTEXT_SUBTYPE_LIST = exports.TICKET_CONTEXT_TYPE = exports.GEO_TYPES = void 0;\n/*\n * Copyright 2019 SpinalCom - www.spinalcom.com\n *\n *  This file is part of SpinalCore.\n *\n *  Please read all of the following terms and conditions\n *  of the Free Software license Agreement (\"Agreement\")\n *  carefully.\n *\n *  This Agreement is a legally binding contract between\n *  the Licensee (as defined below) and SpinalCom that\n *  sets forth the terms and conditions that govern your\n *  use of the Program. By installing and/or using the\n *  Program, you agree to abide by all the terms and\n *  conditions stated or referenced herein.\n *\n *  If you do not agree to abide by these terms and\n *  conditions, do not demonstrate your acceptance and do\n *  not install or use the Program.\n *  You should have received a copy of the license along\n *  with this file. If not, see\n *  <http://resources.spinalcom.com/licenses.pdf>.\n */\nconst OLD_CONSTANTS = require(\"./old_constants\");\n__exportStar(require(\"./old_constants\"), exports);\nconst spinal_model_graph_1 = require(\"spinal-model-graph\");\nvar spinal_env_viewer_context_geographic_service_1 = require(\"spinal-env-viewer-context-geographic-service\");\nObject.defineProperty(exports, \"GEO_TYPES\", { enumerable: true, get: function () { return spinal_env_viewer_context_geographic_service_1.GEOGRAPHIC_TYPES_ORDER; } });\nexports.TICKET_CONTEXT_TYPE = OLD_CONSTANTS.SERVICE_TYPE;\nexports.TICKET_CONTEXT_SUBTYPE_LIST = ['Ticket', 'Alarm'];\n/////////////////////////////////////////\n/////////////// TICKET ///////////////////\nexports.TICKET_RELATION_TYPE = OLD_CONSTANTS.SPINAL_TICKET_SERVICE_TICKET_RELATION_TYPE; // STEP_TO_TICKET_RELATION_TYPE\nexports.TICKET_RELATION_NAME = OLD_CONSTANTS.SPINAL_TICKET_SERVICE_TICKET_RELATION_NAME; // STEP_TO_TICKET_RELATION_NAME\nexports.TIKET_TYPE = OLD_CONSTANTS.SPINAL_TICKET_SERVICE_TICKET_TYPE;\nexports.TICKET_ATTRIBUTE_OCCURENCE_NAME = 'Occurrence number';\nexports.ALARM_RELATION_NAME = 'hasAlarm';\n/////////////////////////////////////////\n/////////////// PROCESS /////////////////\nexports.PROCESS_RELATION_TYPE = OLD_CONSTANTS.SPINAL_TICKET_SERVICE_PROCESS_RELATION_TYPE; // CONTEXT_TO_PROCESS_RELATION_TYPE\nexports.PROCESS_RELATION_NAME = OLD_CONSTANTS.SPINAL_TICKET_SERVICE_PROCESS_RELATION_NAME; //CONTEXT_TO_PROCESS_RELATION_NAME\nexports._PROCESS_TYPE = OLD_CONSTANTS.PROCESS_TYPE;\n//////////////////////////////////////\n/////////////// STEP /////////////////\nexports.STEP_RELATION_TYPE = OLD_CONSTANTS.SPINAL_TICKET_SERVICE_STEP_RELATION_TYPE; // PROCESS_TO_STEP_RELATION_TYPE\nexports.STEP_RELATION_NAME = OLD_CONSTANTS.SPINAL_TICKET_SERVICE_STEP_RELATION_NAME; // PROCESS_TO_STEP_RELATION_NAME\nexports.STEP_TYPE = OLD_CONSTANTS.SPINAL_TICKET_SERVICE_STEP_TYPE;\nexports.ARCHIVED_STEP = OLD_CONSTANTS.ARCHIVED_STEP;\nexports.DEFAULT_STEPS = OLD_CONSTANTS.DEFAULT_STEPS;\nexports._ARCHIVED_STEP = OLD_CONSTANTS.ARCHIVED_STEP;\nexports._DEFAULT_STEPS = OLD_CONSTANTS.DEFAULT_STEPS;\n/////////////////////////////////////////\n/////////////// CATEGORY ////////////////\nexports.INCIDENT_SECTION_RELATION_TYPE = OLD_CONSTANTS.SPINAL_TICKET_SERVICE_INCIDENT_SECTION_RELATION_TYPE;\nexports.INCIDENT_SECTION_TYPE = OLD_CONSTANTS.SPINAL_TICKET_SERVICE_INCIDENT_SECTION_TYPE;\nexports.INCIDENT_SECTION_RELATION_NAME = OLD_CONSTANTS.SPINAL_TICKET_SERVICE_INCIDENT_SECTION_RELATION_NAME;\nexports.INCIDENT_RELATION_TYPE = OLD_CONSTANTS.SPINAL_TICKET_SERVICE_INCIDENT_RELATION_TYPE;\nexports.INCIDENT_RELATION_NAME = OLD_CONSTANTS.SPINAL_TICKET_SERVICE_INCIDENT_RELATION_NAME;\nexports.INCIDENT_TYPE = OLD_CONSTANTS.SPINAL_TICKET_SERVICE_INCIDENT_TYPE;\nexports._DEFAULT_INCIDENTS_NAME = OLD_CONSTANTS.DEFAULT_INCIDENTS_NAME;\nexports.LOG_RELATION_TYPE = OLD_CONSTANTS.SPINAL_TICKET_SERVICE_LOG_RELATION_TYPE;\nexports.LOG_RELATION_NAME = OLD_CONSTANTS.SPINAL_TICKET_SERVICE_LOG_RELATION_NAME;\nexports.LOG_TYPE = OLD_CONSTANTS.SERVICE_LOG_TYPE;\nexports.LOGS_EVENTS_STEPS = OLD_CONSTANTS.LOGS_EVENTS;\nexports._TICKET_PRIORITIES = OLD_CONSTANTS.TICKET_PRIORITIES;\n/////////////////////////////////////////\n/////////////// ARCHIVE ////////////////\nexports.PROCESS_ARCHIVE_TICKET_RELATION = 'ProcessHasArchiveTicket';\nexports.PROCESS_ARCHIVE_TICKET_TYPE = 'ProcessArchiveTicket';\nexports.SPATIAL_ARCHIVE_TICKET_RELATION = 'SpatialHasArchiveTicket';\nexports.SPATIAL_ARCHIVE_TICKET_TYPE = 'SpatialArchiveTicket';\nexports.ARCHIVE_TICKET_PART_RELATION = 'ArchiveTicketHasPart';\nexports.ARCHIVE_TICKET_PART_TYPE = 'ArchiveTicketPart';\nexports.ARCHIVE_TICKET_PART_TICKET_RELATION = 'ArchiveTicketPartHasTicket';\nexports.ARCHIVE_TICKET_RELATION_TYPE = spinal_model_graph_1.SPINAL_RELATION_PTR_LST_TYPE;\nexports.ARCHIVE_TICKET_TIMESTAMP_ATTR_PROCESS = 'ProcessArchiveTimestamp';\nexports.ARCHIVE_TICKET_TIMESTAMP_ATTR_SPATIAL = 'SpatialArchiveTimestamp';\nexports.ARCHIVE_TICKET_RELATIONS = [\n    exports.SPATIAL_ARCHIVE_TICKET_RELATION,\n    exports.ARCHIVE_TICKET_PART_RELATION,\n];\n//# sourceMappingURL=Constants.js.map","/*\n * Copyright 2019 SpinalCom - www.spinalcom.com\n *\n *  This file is part of SpinalCore.\n *\n *  Please read all of the following terms and conditions\n *  of the Free Software license Agreement (\"Agreement\")\n *  carefully.\n *\n *  This Agreement is a legally binding contract between\n *  the Licensee (as defined below) and SpinalCom that\n *  sets forth the terms and conditions that govern your\n *  use of the Program. By installing and/or using the\n *  Program, you agree to abide by all the terms and\n *  conditions stated or referenced herein.\n *\n *  If you do not agree to abide by these terms and\n *  conditions, do not demonstrate your acceptance and do\n *  not install or use the Program.\n *  You should have received a copy of the license along\n *  with this file. If not, see\n *  <http://resources.spinalcom.com/licenses.pdf>.\n */\nimport * as OLD_CONSTANTS from './old_constants';\nexport * from './old_constants';\nimport { SPINAL_RELATION_PTR_LST_TYPE } from 'spinal-model-graph';\nexport { GEOGRAPHIC_TYPES_ORDER as GEO_TYPES } from 'spinal-env-viewer-context-geographic-service';\nimport { GEOGRAPHIC_TYPES_ORDER as GEO_TYPES } from 'spinal-env-viewer-context-geographic-service';\n\nexport const TICKET_CONTEXT_TYPE: string = OLD_CONSTANTS.SERVICE_TYPE;\nexport const TICKET_CONTEXT_SUBTYPE_LIST: Array<string> = ['Ticket', 'Alarm'];\n/////////////////////////////////////////\n/////////////// TICKET ///////////////////\nexport const TICKET_RELATION_TYPE: string =\n  OLD_CONSTANTS.SPINAL_TICKET_SERVICE_TICKET_RELATION_TYPE; // STEP_TO_TICKET_RELATION_TYPE\nexport const TICKET_RELATION_NAME: string =\n  OLD_CONSTANTS.SPINAL_TICKET_SERVICE_TICKET_RELATION_NAME; // STEP_TO_TICKET_RELATION_NAME\nexport const TIKET_TYPE: string =\n  OLD_CONSTANTS.SPINAL_TICKET_SERVICE_TICKET_TYPE;\nexport const TICKET_ATTRIBUTE_OCCURENCE_NAME = 'Occurrence number';\nexport const ALARM_RELATION_NAME = 'hasAlarm';\n/////////////////////////////////////////\n/////////////// PROCESS /////////////////\nexport const PROCESS_RELATION_TYPE: string =\n  OLD_CONSTANTS.SPINAL_TICKET_SERVICE_PROCESS_RELATION_TYPE; // CONTEXT_TO_PROCESS_RELATION_TYPE\nexport const PROCESS_RELATION_NAME: string =\n  OLD_CONSTANTS.SPINAL_TICKET_SERVICE_PROCESS_RELATION_NAME; //CONTEXT_TO_PROCESS_RELATION_NAME\nexport const _PROCESS_TYPE: string = OLD_CONSTANTS.PROCESS_TYPE;\n//////////////////////////////////////\n/////////////// STEP /////////////////\nexport const STEP_RELATION_TYPE: string =\n  OLD_CONSTANTS.SPINAL_TICKET_SERVICE_STEP_RELATION_TYPE; // PROCESS_TO_STEP_RELATION_TYPE\nexport const STEP_RELATION_NAME: string =\n  OLD_CONSTANTS.SPINAL_TICKET_SERVICE_STEP_RELATION_NAME; // PROCESS_TO_STEP_RELATION_NAME\nexport const STEP_TYPE: string = OLD_CONSTANTS.SPINAL_TICKET_SERVICE_STEP_TYPE;\n\nexport const ARCHIVED_STEP = OLD_CONSTANTS.ARCHIVED_STEP;\nexport const DEFAULT_STEPS = OLD_CONSTANTS.DEFAULT_STEPS;\nexport const _ARCHIVED_STEP = OLD_CONSTANTS.ARCHIVED_STEP;\nexport const _DEFAULT_STEPS = OLD_CONSTANTS.DEFAULT_STEPS;\n\n/////////////////////////////////////////\n/////////////// CATEGORY ////////////////\nexport const INCIDENT_SECTION_RELATION_TYPE: string =\n  OLD_CONSTANTS.SPINAL_TICKET_SERVICE_INCIDENT_SECTION_RELATION_TYPE;\nexport const INCIDENT_SECTION_TYPE: string =\n  OLD_CONSTANTS.SPINAL_TICKET_SERVICE_INCIDENT_SECTION_TYPE;\nexport const INCIDENT_SECTION_RELATION_NAME: string =\n  OLD_CONSTANTS.SPINAL_TICKET_SERVICE_INCIDENT_SECTION_RELATION_NAME;\nexport const INCIDENT_RELATION_TYPE: string =\n  OLD_CONSTANTS.SPINAL_TICKET_SERVICE_INCIDENT_RELATION_TYPE;\nexport const INCIDENT_RELATION_NAME: string =\n  OLD_CONSTANTS.SPINAL_TICKET_SERVICE_INCIDENT_RELATION_NAME;\nexport const INCIDENT_TYPE: string =\n  OLD_CONSTANTS.SPINAL_TICKET_SERVICE_INCIDENT_TYPE;\nexport const _DEFAULT_INCIDENTS_NAME: string =\n  OLD_CONSTANTS.DEFAULT_INCIDENTS_NAME;\nexport const LOG_RELATION_TYPE: string =\n  OLD_CONSTANTS.SPINAL_TICKET_SERVICE_LOG_RELATION_TYPE;\nexport const LOG_RELATION_NAME: string =\n  OLD_CONSTANTS.SPINAL_TICKET_SERVICE_LOG_RELATION_NAME;\nexport const LOG_TYPE: string = OLD_CONSTANTS.SERVICE_LOG_TYPE;\nexport const LOGS_EVENTS_STEPS = OLD_CONSTANTS.LOGS_EVENTS;\nexport const _TICKET_PRIORITIES = OLD_CONSTANTS.TICKET_PRIORITIES;\n\n/////////////////////////////////////////\n/////////////// ARCHIVE ////////////////\nexport const PROCESS_ARCHIVE_TICKET_RELATION = 'ProcessHasArchiveTicket';\nexport const PROCESS_ARCHIVE_TICKET_TYPE = 'ProcessArchiveTicket';\nexport const SPATIAL_ARCHIVE_TICKET_RELATION = 'SpatialHasArchiveTicket';\nexport const SPATIAL_ARCHIVE_TICKET_TYPE = 'SpatialArchiveTicket';\nexport const ARCHIVE_TICKET_PART_RELATION = 'ArchiveTicketHasPart';\nexport const ARCHIVE_TICKET_PART_TYPE = 'ArchiveTicketPart';\nexport const ARCHIVE_TICKET_PART_TICKET_RELATION = 'ArchiveTicketPartHasTicket';\nexport const ARCHIVE_TICKET_RELATION_TYPE = SPINAL_RELATION_PTR_LST_TYPE;\nexport const ARCHIVE_TICKET_TIMESTAMP_ATTR_PROCESS = 'ProcessArchiveTimestamp';\nexport const ARCHIVE_TICKET_TIMESTAMP_ATTR_SPATIAL = 'SpatialArchiveTimestamp';\nexport const ARCHIVE_TICKET_RELATIONS = [\n  SPATIAL_ARCHIVE_TICKET_RELATION,\n  ARCHIVE_TICKET_PART_RELATION,\n];\n","\"use strict\";\n/*\n * Copyright 2019 SpinalCom - www.spinalcom.com\n *\n *  This file is part of SpinalCore.\n *\n *  Please read all of the following terms and conditions\n *  of the Free Software license Agreement (\"Agreement\")\n *  carefully.\n *\n *  This Agreement is a legally binding contract between\n *  the Licensee (as defined below) and SpinalCom that\n *  sets forth the terms and conditions that govern your\n *  use of the Program. By installing and/or using the\n *  Program, you agree to abide by all the terms and\n *  conditions stated or referenced herein.\n *\n *  If you do not agree to abide by these terms and\n *  conditions, do not demonstrate your acceptance and do\n *  not install or use the Program.\n *  You should have received a copy of the license along\n *  with this file. If not, see\n *  <http://resources.spinalcom.com/licenses.pdf>.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TICKET_PRIORITIES = exports.LOGS_EVENTS_STRING = exports.LOGS_EVENTS_STEPS = exports.LOG_TYPE = exports.LOG_RELATION_NAME = exports.LOG_RELATION_TYPE = exports.EVENTS_TO_LOG = exports.LOGS_EVENTS = exports.SERVICE_LOG_TYPE = exports.SPINAL_TICKET_SERVICE_LOG_RELATION_NAME = exports.SPINAL_TICKET_SERVICE_LOG_RELATION_TYPE = exports.DEFAULT_INCIDENTS_NAME = exports.SPINAL_TICKET_SERVICE_INCIDENT_TYPE = exports.SPINAL_TICKET_SERVICE_INCIDENT_SECTION_RELATION_NAME = exports.SPINAL_TICKET_SERVICE_INCIDENT_RELATION_NAME = exports.SPINAL_TICKET_SERVICE_INCIDENT_SECTION_TYPE = exports.SPINAL_TICKET_SERVICE_INCIDENT_RELATION_TYPE = exports.SPINAL_TICKET_SERVICE_INCIDENT_SECTION_RELATION_TYPE = exports.DEFAULT_STEPS = exports.ARCHIVED_STEP = exports.SPINAL_TICKET_SERVICE_STEP_RELATION_NAME = exports.SPINAL_TICKET_SERVICE_STEP_TYPE = exports.SPINAL_TICKET_SERVICE_STEP_RELATION_TYPE = exports.PROCESS_TYPE = exports.SPINAL_TICKET_SERVICE_PROCESS_RELATION_NAME = exports.SPINAL_TICKET_SERVICE_PROCESS_RELATION_TYPE = exports.SPINAL_TICKET_SERVICE_TICKET_TYPE = exports.SPINAL_TICKET_SERVICE_TICKET_RELATION_NAME = exports.SPINAL_TICKET_SERVICE_TICKET_RELATION_TYPE = exports.SERVICE_TYPE = exports.SERVICE_NAME = void 0;\nconst spinal_env_viewer_graph_service_1 = require(\"spinal-env-viewer-graph-service\");\nexports.SERVICE_NAME = 'Ticket Service';\nexports.SERVICE_TYPE = 'SpinalSystemServiceTicket';\n/////////////////////////////////////////\n/////////////// TICKET ///////////////////\n// export const SPINAL_TICKET_SERVICE_TICKET_SECTION_RELATION_TYPE: string = SPINAL_RELATION_PTR_LST_TYPE;\nexports.SPINAL_TICKET_SERVICE_TICKET_RELATION_TYPE = spinal_env_viewer_graph_service_1.SPINAL_RELATION_PTR_LST_TYPE;\nexports.SPINAL_TICKET_SERVICE_TICKET_RELATION_NAME = 'SpinalSystemServiceTicketHasTicket';\nexports.SPINAL_TICKET_SERVICE_TICKET_TYPE = 'SpinalSystemServiceTicketTypeTicket';\n// export const SPINAL_TICKET_SERVICE_TICKET_ARCHIVE_RELATION_TYPE: string = SPINAL_RELATION_PTR_LST_TYPE;\n// export const SPINAL_TICKET_SERVICE_TICKET_SECTION: string = 'SpinalSystemServiceHasTicket';\n// export const SPINAL_TICKET_SERVICE_TICKET_SECTION_NAME: string = 'Tickets';\n// export const SPINAL_TICKET_SERVICE_TICKET_SECTION_RELATION_NAME: string = 'SpinalSystemServiceHasTicket';\n// export const SPINAL_TICKET_SERVICE_TICKET_ARCHIVE_RELATION_NAME: string = 'SpinalSystemServiceArchiveHasTicket';\n// export const SECTION_RELATION_TYPE = SPINAL_TICKET_SERVICE_TICKET_SECTION_RELATION_TYPE;\n/**\n * New values\n */\n// export const TICKET_RELATION_TYPE: string = SPINAL_TICKET_SERVICE_TICKET_RELATION_TYPE; // STEP_TO_TICKET_RELATION_TYPE\n// export const TICKET_RELATION_NAME: string = SPINAL_TICKET_SERVICE_TICKET_RELATION_NAME; // STEP_TO_TICKET_RELATION_NAME\n// export const TIKET_TYPE: string = SPINAL_TICKET_SERVICE_TICKET_TYPE;\n/////////////////////////////////////////\n/////////////// PROCESS /////////////////\nexports.SPINAL_TICKET_SERVICE_PROCESS_RELATION_TYPE = spinal_env_viewer_graph_service_1.SPINAL_RELATION_PTR_LST_TYPE;\nexports.SPINAL_TICKET_SERVICE_PROCESS_RELATION_NAME = 'SpinalSystemServiceTicketHasProcess';\nexports.PROCESS_TYPE = 'SpinalServiceTicketProcess';\n// export const SPINAL_TICKET_SERVICE_PROCESS_ARCHIVE_RELATION_TYPE: string = SPINAL_RELATION_PTR_LST_TYPE;\n// export const SPINAL_TICKET_SERVICE_PROCESS_ARCHIVE_NAME: string = 'Spinal_Service_Ticket_Archive_Archive_Process';\n// export const SPINAL_TICKET_SERVICE_PROCESS_ARCHIVE_RELATION_NAME: string = 'SpinalSystemServiceArchiveHasProcess';\n// export const SPINAL_TICKET_SERVICE_PROCESS_TYPE: string = 'SpinalSystemServiceTicketTypeProcess';\n// export const PROCESS_HAS_TICKET_RELATION_NAME: string = 'SpinalSystemService_ProcessHasTicket';\n// export const PROCESS_HAS_TICKET_RELATION_TYPE: string = SPINAL_RELATION_PTR_LST_TYPE;\n/**\n * New values\n */\n// export const PROCESS_RELATION_TYPE: string = SPINAL_TICKET_SERVICE_PROCESS_RELATION_TYPE; // CONTEXT_TO_PROCESS_RELATION_TYPE\n// export const PROCESS_RELATION_NAME: string = SPINAL_TICKET_SERVICE_PROCESS_RELATION_NAME; //CONTEXT_TO_PROCESS_RELATION_NAME\n// export const PROCESS_TYPE: string = 'SpinalServiceTicketProcess';\n//////////////////////////////////////\n/////////////// STEP /////////////////\nexports.SPINAL_TICKET_SERVICE_STEP_RELATION_TYPE = spinal_env_viewer_graph_service_1.SPINAL_RELATION_PTR_LST_TYPE;\nexports.SPINAL_TICKET_SERVICE_STEP_TYPE = 'SpinalSystemServiceTicketTypeStep';\nexports.SPINAL_TICKET_SERVICE_STEP_RELATION_NAME = 'SpinalSystemServiceTicketHasStep';\n// export const SPINAL_TICKET_SERVICE_STEP_ARCHIVE_RELATION_TYPE: string = SPINAL_RELATION_PTR_LST_TYPE;\n// export const SPINAL_TICKET_SERVICE_ARCHIVE_RELATION_TYPE: string = SPINAL_RELATION_PTR_LST_TYPE;\n// export const SPINAL_TICKET_SERVICE_STEP_ARCHIVE_RELATION_NAME: string = 'SpinalSystemServiceArchiveHasStep';\n// export const SPINAL_TICKET_SERVICE_STEP_ARCHIVE_NAME: string = 'Spinal_Service_Ticket_Archive_Archive_Step';\n/**\n * New values\n */\n// export const STEP_RELATION_TYPE: string = SPINAL_TICKET_SERVICE_STEP_RELATION_TYPE; // PROCESS_TO_STEP_RELATION_TYPE\n// export const STEP_RELATION_NAME: string = SPINAL_TICKET_SERVICE_STEP_RELATION_NAME; // PROCESS_TO_STEP_RELATION_NAME\n// export const STEP_TYPE: string = SPINAL_TICKET_SERVICE_STEP_TYPE;\nexports.ARCHIVED_STEP = {\n    name: \"Archived\",\n    order: -1,\n    color: \"#FF0000\"\n};\nexports.DEFAULT_STEPS = [\n    { name: 'Déclaré', color: '#ff0019', order: 0 },\n    { name: 'Ouvert', color: '#fff112', order: 1 },\n    { name: 'Résolu', color: '#10ff1d', order: 2 },\n    exports.ARCHIVED_STEP\n];\n/////////////////////////////////////////\n/////////////// CATEGORY ////////////////\nexports.SPINAL_TICKET_SERVICE_INCIDENT_SECTION_RELATION_TYPE = spinal_env_viewer_graph_service_1.SPINAL_RELATION_PTR_LST_TYPE;\nexports.SPINAL_TICKET_SERVICE_INCIDENT_RELATION_TYPE = spinal_env_viewer_graph_service_1.SPINAL_RELATION_PTR_LST_TYPE;\nexports.SPINAL_TICKET_SERVICE_INCIDENT_SECTION_TYPE = 'DEFAULT_INCIDENT_TYPE';\nexports.SPINAL_TICKET_SERVICE_INCIDENT_RELATION_NAME = 'Spinal_Service_Ticket_Process_has_category';\nexports.SPINAL_TICKET_SERVICE_INCIDENT_SECTION_RELATION_NAME = 'Spinal_Service_Ticket_Process_has_categories_section';\nexports.SPINAL_TICKET_SERVICE_INCIDENT_TYPE = 'INCIDENT_TYPE';\nexports.DEFAULT_INCIDENTS_NAME = 'Incidents commun';\n// export const SPINAL_TICKET_SERVICE_INCIDENT_SUB_SECTION_RELATION_TYPE: string = SPINAL_RELATION_PTR_LST_TYPE;\n// export const SPINAL_TICKET_SERVICE_INCIDENT_SUB_SECTION_RELATION_NAME: string = 'Spinal_Service_Ticket_Process_has_sub_category';\n// export const DEFAULT_INCIDENT_TYPE: string = SPINAL_TICKET_SERVICE_INCIDENT_SECTION_TYPE;\n// export const DEFAULT_INCIDENT_RELATION_NAME: string = SPINAL_TICKET_SERVICE_INCIDENT_RELATION_NAME;\n// export const fdg: string = SPINAL_TICKET_SERVICE_INCIDENT_SECTION_RELATION_NAME;\n/////////////////////////////////////////\n/////////////// ARCHIVE /////////////////\n// export const SPINAL_TICKET_SERVICE_ARCHIVE_NAME: string = 'Spinal_Service_Ticket_Archive';\n// export const SPINAL_TICKET_SERVICE_TICKET_ARCHIVE_NAME: string = 'Spinal_Service_Ticket_Archive_Archive_Ticket';\n// export const SPINAL_TICKET_SERVICE_ARCHIVE_RELATION_NAME: string = 'SpinalSystemServiceTicketHasArchive';\n// export const SERVICE_ARCHIVE_TYPE: string = 'SpinalSystemServiceTicketArchive';\n/////////////////////////////////////////\n/////////////// LOG /////////////////\nexports.SPINAL_TICKET_SERVICE_LOG_RELATION_TYPE = spinal_env_viewer_graph_service_1.SPINAL_RELATION_PTR_LST_TYPE;\nexports.SPINAL_TICKET_SERVICE_LOG_RELATION_NAME = 'SpinalSystemServiceTicketHasLog';\nexports.SERVICE_LOG_TYPE = 'SpinalSystemServiceTicketLog';\nvar LOGS_EVENTS;\n(function (LOGS_EVENTS) {\n    LOGS_EVENTS[LOGS_EVENTS[\"creation\"] = 1] = \"creation\";\n    LOGS_EVENTS[LOGS_EVENTS[\"moveToNext\"] = 2] = \"moveToNext\";\n    LOGS_EVENTS[LOGS_EVENTS[\"moveToPrevious\"] = 3] = \"moveToPrevious\";\n    LOGS_EVENTS[LOGS_EVENTS[\"archived\"] = 4] = \"archived\";\n    LOGS_EVENTS[LOGS_EVENTS[\"unarchive\"] = 5] = \"unarchive\";\n    LOGS_EVENTS[LOGS_EVENTS[\"move\"] = 6] = \"move\";\n})(LOGS_EVENTS = exports.LOGS_EVENTS || (exports.LOGS_EVENTS = {}));\nexports.EVENTS_TO_LOG = Object.freeze({\n    1: \"creation\",\n    2: \"moveToNext\",\n    3: \"moveToPrevious\",\n    4: \"archived\",\n    5: \"unarchive\",\n    6: \"move\"\n});\nexports.LOG_RELATION_TYPE = exports.SPINAL_TICKET_SERVICE_LOG_RELATION_TYPE;\nexports.LOG_RELATION_NAME = exports.SPINAL_TICKET_SERVICE_LOG_RELATION_NAME;\nexports.LOG_TYPE = exports.SERVICE_LOG_TYPE;\nexports.LOGS_EVENTS_STEPS = LOGS_EVENTS;\nexports.LOGS_EVENTS_STRING = [\n    \"none\",\n    \"creation\",\n    \"moveToNext\",\n    \"moveToPrevious\",\n    \"archived\",\n    \"unarchive\",\n    \"move\"\n];\n/////////////////////////////////////////\n/////////////// Target /////////////////\n// export const SPINAL_TICKET_SERVICE_TARGET_RELATION_TYPE: string = SPINAL_RELATION_PTR_LST_TYPE;\n// export const SPINAL_TICKET_SERVICE_TARGET_RELATION_NAME: string = 'SpinalSystemServiceTicketHasLocation';\n/////////////////////////////////////////\n/////////////// USER ////////////////////\n// export const USER_RELATION_NAME: string = 'userHasDeclaredTicket';\n// export const USER_RELATION_TYPE: string = SPINAL_RELATION_PTR_LST_TYPE;\n/////////////////////////////////////////\n/////////////// ticket ////////////////////\n// tickethasReferentiel\nexports.TICKET_PRIORITIES = {\n    occasionally: 0,\n    normal: 1,\n    urgent: 2,\n};\n//# sourceMappingURL=old_constants.js.map","/*\n * Copyright 2019 SpinalCom - www.spinalcom.com\n *\n *  This file is part of SpinalCore.\n *\n *  Please read all of the following terms and conditions\n *  of the Free Software license Agreement (\"Agreement\")\n *  carefully.\n *\n *  This Agreement is a legally binding contract between\n *  the Licensee (as defined below) and SpinalCom that\n *  sets forth the terms and conditions that govern your\n *  use of the Program. By installing and/or using the\n *  Program, you agree to abide by all the terms and\n *  conditions stated or referenced herein.\n *\n *  If you do not agree to abide by these terms and\n *  conditions, do not demonstrate your acceptance and do\n *  not install or use the Program.\n *  You should have received a copy of the license along\n *  with this file. If not, see\n *  <http://resources.spinalcom.com/licenses.pdf>.\n */\n\nimport { SPINAL_RELATION_PTR_LST_TYPE } from 'spinal-env-viewer-graph-service';\nimport { SpinalStep } from 'spinal-models-ticket/declarations/SpinalStep';\n\nexport const SERVICE_NAME: string = 'Ticket Service';\nexport const SERVICE_TYPE: string = 'SpinalSystemServiceTicket';\n\n/////////////////////////////////////////\n/////////////// TICKET ///////////////////\n// export const SPINAL_TICKET_SERVICE_TICKET_SECTION_RELATION_TYPE: string = SPINAL_RELATION_PTR_LST_TYPE;\nexport const SPINAL_TICKET_SERVICE_TICKET_RELATION_TYPE: string = SPINAL_RELATION_PTR_LST_TYPE;\nexport const SPINAL_TICKET_SERVICE_TICKET_RELATION_NAME: string = 'SpinalSystemServiceTicketHasTicket';\nexport const SPINAL_TICKET_SERVICE_TICKET_TYPE: string = 'SpinalSystemServiceTicketTypeTicket';\n// export const SPINAL_TICKET_SERVICE_TICKET_ARCHIVE_RELATION_TYPE: string = SPINAL_RELATION_PTR_LST_TYPE;\n// export const SPINAL_TICKET_SERVICE_TICKET_SECTION: string = 'SpinalSystemServiceHasTicket';\n// export const SPINAL_TICKET_SERVICE_TICKET_SECTION_NAME: string = 'Tickets';\n// export const SPINAL_TICKET_SERVICE_TICKET_SECTION_RELATION_NAME: string = 'SpinalSystemServiceHasTicket';\n// export const SPINAL_TICKET_SERVICE_TICKET_ARCHIVE_RELATION_NAME: string = 'SpinalSystemServiceArchiveHasTicket';\n// export const SECTION_RELATION_TYPE = SPINAL_TICKET_SERVICE_TICKET_SECTION_RELATION_TYPE;\n\n/**\n * New values\n */\n// export const TICKET_RELATION_TYPE: string = SPINAL_TICKET_SERVICE_TICKET_RELATION_TYPE; // STEP_TO_TICKET_RELATION_TYPE\n// export const TICKET_RELATION_NAME: string = SPINAL_TICKET_SERVICE_TICKET_RELATION_NAME; // STEP_TO_TICKET_RELATION_NAME\n// export const TIKET_TYPE: string = SPINAL_TICKET_SERVICE_TICKET_TYPE;\n\n/////////////////////////////////////////\n/////////////// PROCESS /////////////////\nexport const SPINAL_TICKET_SERVICE_PROCESS_RELATION_TYPE: string = SPINAL_RELATION_PTR_LST_TYPE;\nexport const SPINAL_TICKET_SERVICE_PROCESS_RELATION_NAME: string = 'SpinalSystemServiceTicketHasProcess';\nexport const PROCESS_TYPE: string = 'SpinalServiceTicketProcess';\n\n// export const SPINAL_TICKET_SERVICE_PROCESS_ARCHIVE_RELATION_TYPE: string = SPINAL_RELATION_PTR_LST_TYPE;\n// export const SPINAL_TICKET_SERVICE_PROCESS_ARCHIVE_NAME: string = 'Spinal_Service_Ticket_Archive_Archive_Process';\n// export const SPINAL_TICKET_SERVICE_PROCESS_ARCHIVE_RELATION_NAME: string = 'SpinalSystemServiceArchiveHasProcess';\n// export const SPINAL_TICKET_SERVICE_PROCESS_TYPE: string = 'SpinalSystemServiceTicketTypeProcess';\n// export const PROCESS_HAS_TICKET_RELATION_NAME: string = 'SpinalSystemService_ProcessHasTicket';\n// export const PROCESS_HAS_TICKET_RELATION_TYPE: string = SPINAL_RELATION_PTR_LST_TYPE;\n\n/**\n * New values\n */\n// export const PROCESS_RELATION_TYPE: string = SPINAL_TICKET_SERVICE_PROCESS_RELATION_TYPE; // CONTEXT_TO_PROCESS_RELATION_TYPE\n// export const PROCESS_RELATION_NAME: string = SPINAL_TICKET_SERVICE_PROCESS_RELATION_NAME; //CONTEXT_TO_PROCESS_RELATION_NAME\n// export const PROCESS_TYPE: string = 'SpinalServiceTicketProcess';\n\n\n//////////////////////////////////////\n/////////////// STEP /////////////////\nexport const SPINAL_TICKET_SERVICE_STEP_RELATION_TYPE: string = SPINAL_RELATION_PTR_LST_TYPE;\nexport const SPINAL_TICKET_SERVICE_STEP_TYPE: string = 'SpinalSystemServiceTicketTypeStep';\nexport const SPINAL_TICKET_SERVICE_STEP_RELATION_NAME: string = 'SpinalSystemServiceTicketHasStep';\n// export const SPINAL_TICKET_SERVICE_STEP_ARCHIVE_RELATION_TYPE: string = SPINAL_RELATION_PTR_LST_TYPE;\n// export const SPINAL_TICKET_SERVICE_ARCHIVE_RELATION_TYPE: string = SPINAL_RELATION_PTR_LST_TYPE;\n// export const SPINAL_TICKET_SERVICE_STEP_ARCHIVE_RELATION_NAME: string = 'SpinalSystemServiceArchiveHasStep';\n// export const SPINAL_TICKET_SERVICE_STEP_ARCHIVE_NAME: string = 'Spinal_Service_Ticket_Archive_Archive_Step';\n\n\n/**\n * New values\n */\n// export const STEP_RELATION_TYPE: string = SPINAL_TICKET_SERVICE_STEP_RELATION_TYPE; // PROCESS_TO_STEP_RELATION_TYPE\n// export const STEP_RELATION_NAME: string = SPINAL_TICKET_SERVICE_STEP_RELATION_NAME; // PROCESS_TO_STEP_RELATION_NAME\n// export const STEP_TYPE: string = SPINAL_TICKET_SERVICE_STEP_TYPE;\n\n\nexport const ARCHIVED_STEP = {\n  name: \"Archived\",\n  order: -1,\n  color: \"#FF0000\"\n}\n\nexport const DEFAULT_STEPS: SpinalStep[] = [\n  { name: 'Déclaré', color: '#ff0019', order: 0 },\n  { name: 'Ouvert', color: '#fff112', order: 1 },\n  { name: 'Résolu', color: '#10ff1d', order: 2 },\n  ARCHIVED_STEP\n];\n\n\n\n/////////////////////////////////////////\n/////////////// CATEGORY ////////////////\nexport const SPINAL_TICKET_SERVICE_INCIDENT_SECTION_RELATION_TYPE: string = SPINAL_RELATION_PTR_LST_TYPE;\nexport const SPINAL_TICKET_SERVICE_INCIDENT_RELATION_TYPE: string = SPINAL_RELATION_PTR_LST_TYPE;\nexport const SPINAL_TICKET_SERVICE_INCIDENT_SECTION_TYPE: string = 'DEFAULT_INCIDENT_TYPE';\nexport const SPINAL_TICKET_SERVICE_INCIDENT_RELATION_NAME: string = 'Spinal_Service_Ticket_Process_has_category';\nexport const SPINAL_TICKET_SERVICE_INCIDENT_SECTION_RELATION_NAME: string = 'Spinal_Service_Ticket_Process_has_categories_section';\nexport const SPINAL_TICKET_SERVICE_INCIDENT_TYPE: string = 'INCIDENT_TYPE';\nexport const DEFAULT_INCIDENTS_NAME: string = 'Incidents commun';\n// export const SPINAL_TICKET_SERVICE_INCIDENT_SUB_SECTION_RELATION_TYPE: string = SPINAL_RELATION_PTR_LST_TYPE;\n// export const SPINAL_TICKET_SERVICE_INCIDENT_SUB_SECTION_RELATION_NAME: string = 'Spinal_Service_Ticket_Process_has_sub_category';\n\n\n// export const DEFAULT_INCIDENT_TYPE: string = SPINAL_TICKET_SERVICE_INCIDENT_SECTION_TYPE;\n// export const DEFAULT_INCIDENT_RELATION_NAME: string = SPINAL_TICKET_SERVICE_INCIDENT_RELATION_NAME;\n// export const fdg: string = SPINAL_TICKET_SERVICE_INCIDENT_SECTION_RELATION_NAME;\n\n/////////////////////////////////////////\n/////////////// ARCHIVE /////////////////\n// export const SPINAL_TICKET_SERVICE_ARCHIVE_NAME: string = 'Spinal_Service_Ticket_Archive';\n// export const SPINAL_TICKET_SERVICE_TICKET_ARCHIVE_NAME: string = 'Spinal_Service_Ticket_Archive_Archive_Ticket';\n// export const SPINAL_TICKET_SERVICE_ARCHIVE_RELATION_NAME: string = 'SpinalSystemServiceTicketHasArchive';\n// export const SERVICE_ARCHIVE_TYPE: string = 'SpinalSystemServiceTicketArchive';\n\n/////////////////////////////////////////\n/////////////// LOG /////////////////\nexport const SPINAL_TICKET_SERVICE_LOG_RELATION_TYPE: string = SPINAL_RELATION_PTR_LST_TYPE;\nexport const SPINAL_TICKET_SERVICE_LOG_RELATION_NAME: string = 'SpinalSystemServiceTicketHasLog';\nexport const SERVICE_LOG_TYPE: string = 'SpinalSystemServiceTicketLog';\nexport enum LOGS_EVENTS {\n  creation = 1,\n  moveToNext = 2,\n  moveToPrevious = 3,\n  archived = 4,\n  unarchive = 5,\n  move = 6\n}\n\nexport const EVENTS_TO_LOG = Object.freeze({\n  1: \"creation\",\n  2: \"moveToNext\",\n  3: \"moveToPrevious\",\n  4: \"archived\",\n  5: \"unarchive\",\n  6: \"move\"\n})\n\nexport const LOG_RELATION_TYPE: string = SPINAL_TICKET_SERVICE_LOG_RELATION_TYPE;\nexport const LOG_RELATION_NAME: string = SPINAL_TICKET_SERVICE_LOG_RELATION_NAME;\nexport const LOG_TYPE: string = SERVICE_LOG_TYPE;\nexport const LOGS_EVENTS_STEPS = LOGS_EVENTS;\n\n\nexport const LOGS_EVENTS_STRING: string[] = [\n  \"none\",\n  \"creation\",\n  \"moveToNext\",\n  \"moveToPrevious\",\n  \"archived\",\n  \"unarchive\",\n  \"move\"\n]\n\n/////////////////////////////////////////\n/////////////// Target /////////////////\n// export const SPINAL_TICKET_SERVICE_TARGET_RELATION_TYPE: string = SPINAL_RELATION_PTR_LST_TYPE;\n// export const SPINAL_TICKET_SERVICE_TARGET_RELATION_NAME: string = 'SpinalSystemServiceTicketHasLocation';\n\n/////////////////////////////////////////\n/////////////// USER ////////////////////\n// export const USER_RELATION_NAME: string = 'userHasDeclaredTicket';\n// export const USER_RELATION_TYPE: string = SPINAL_RELATION_PTR_LST_TYPE;\n\n/////////////////////////////////////////\n/////////////// ticket ////////////////////\n// tickethasReferentiel\n\nexport const TICKET_PRIORITIES: { [key: string]: number } = {\n  occasionally: 0,\n  normal: 1,\n  urgent: 2,\n}"],"names":[],"version":3,"file":"spinal-env-viewer-plugin-analysis.622520c8.js.map"}