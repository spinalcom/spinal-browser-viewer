{"mappings":"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Y,SAAS,OAAO;IACvC,OAAO,SAAS,QAAQ,oBAA4B;IAC1C,OAAO,kBAAkB,QAAQ,oBAA4B;IAC7D,OAAO,WAAW;IAE5B,OAAO,eAAe,QAAQ,mBAAyB;IACvD,QAAQ,oBAA0B,QAAQ;IAC1C,OAAO,YAAY;IACnB,OAAO,SAAS;AAClB;AACA;kBAEe;;;A,+B;A,wE;;;A;;A;;A;A;;A,oD;A;A;A,I,gB;I,M;I,Y;Q,+C;Q,mB,C,G,wB;I;I,O;Q,e;Y,M;Q;Q,qB;Y,M;Q;Q,c,C;I;I;Q,I,C,S,O,O;Y,Q;Y,S;Y,O;Q;Q,O;Y,0B;Y,U,I,C,O;Y,c,E;Y,Q,E;Q;I;I,M;Q,I,C,e,M,I,C;Q,I,C,S,M,I,C;I;I,S;Q;Y,I,C,M;Q;Q,6B;Q,kD;Q,K;Q;Y,I,C,M;Q;Q,M;Y,I,U,E;Y,I,a,M,I,C;Y,I,I,C,e,U,I,C,c,I,C;gB,O;oB,I,K;oB,M,K;oB,M,K;oB,Y,W,I,C;wBAyDf,OAAA;4B,U,G;4BAEA,OAAA,GAAA;4B,M,G;4BAEA,OAAA,IAAA,CAAA,kBAAA,MAAA;wBACA;oB;gBAEA;Y;YAIA,gDAAA;Y,O;QAEA;Q;YAGA,4BAAA;YACA,uCAAA;YACA,oCAAA;YACA,QAAA;YACA,IAAA;YAEA,+CAAA;YACA,aAAA;YACA,4BAAA;YACA,uEAAA;YACA,mBAAA;YACA,OAAA;YACA,MAAA;YAEA,OAAA,CAAA,GAAA,oCAAA,EACA,0BACA,KAAA,CAAA;gBACA,IAAA,SAAA,KAAA;gBAEA,0BAAA;gBACA,IAAA,QAAA,EAAA;gBAEA,OAAA,QAAA,CAAA;oBACA,IAAA,QAAA,MAAA,WACA,IAAA,CAAA;wBACA,IAAA,KAAA,MACA,OAAA;4BACA,UAAA,MAAA;4BACA,OAAA,KAAA;wBACA;wBAEA;oBACA,GACA,OAAA,CAAA,MAAA,OAAA,QAAA;oBAEA,MAAA,QAAA;gBACA;gBAEA,OAAA;YACA;QACA;QAEA,mBAAA,IAAA,EAAA,IAAA;YACA,IAAA;Y,I,Q,MAEA,QAAA,KAAA,WAAA,KAAA,CAAA,KAAA,GAAA,UAAA,KAAA;Y,O,O,U,c,M,Q;QAIA;QAEA;YACA,IAAA,UAAA;gBACA;oBACA,K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;Y;gB,M;gB,O;gB,Q,I,C;Y;S;Q,O;Y,iB;Y,U;Y,U,E;Y,a;Y,U;Y,e,E;Y,iB,E;Y,Y;gB,M;gB,a;gB,Y;Y;Y,iB;gB;gB;gB;a;Y,U,I;Q;I;I;Q,I,C,uB,S,I,C,e;I;I;Q,I,C,W,I,C,W,I,C,a,I,C;Y,G,W;Y,O;Q;Q,W;Y,I,C;Q,G;I;I,S;Q,M,kB,K;Y,I,O,M,I,C;Y,I,C;Y,I,C,W;Q;Q;Y,I,C,W;Q;Q;Y,I,C,M;Q;Q,c,K,E,I;Y,I,K,O,S,G,O,M,O,C;gB,O,K,K,c,S,K,O;Y,G,I,C;gB,G,W;gB,O;Y;Y,O,M,I,C;gB,G,W;gB,O;Y;Q;Q,e,K,E,K;Y,I,M,O,S,G,O,M,O,C;gB,I,Q,G,W,K,C;oB,O,K,M,W,c,S,M,O;gB;gB,O,Q,O;Y,G,I,C;gB,G,W;gB,O;Y;Y,O,M,I,C;gB,G,W;gB,O;Y;Q;Q;Y,O,I,C;gB,K;oB,I,C,W,I,C,W,I,C,a,I,C,c,I,C;oB;gB,K;oB,I,C,W,I,C,W,I,C,c,I,C,c,I,C;oB;Y;Q;Q,W,K;Y,I,C,W,I,C,S,I,C;gB,G,W;gB,O;Y;Q;Q;Y,I,C,W,I,C,S,I,C;gB,G,W;gB,O;Y;Q;Q;Y,I,C;Y,I,C;Q;Q;Y,M,a,I,C,W;Y,M,a,I,C,W;Y,M,Q,A,C,a,C,I;Y,M,M,Q;Y,I,C,W,I,C,S,I,C,I;gB,I,S,S,Q,K,G,W;gBA2Kf,OAAA;YACA;QACA;Q;YAGA,MAAA,aAAA,IAAA,CAAA,WAAA;YACA,MAAA,aAAA,IAAA,CAAA,WAAA;YAEA,MAAA,QAAA,AAAA,CAAA,aAAA,CAAA,IAAA;YACA,MAAA,MAAA,QAAA;Y,I,C,W,I,C,S,I,C,I;gBAGA,IAAA,SAAA,SAAA,QAAA,KACA,GAAA,WAAA;gB,O;YAGA;Q;Q;YAIA,IAAA,CAAA,MAAA;QACA;QAEA,kBAAA,GAAA;YACA,IAAA,QAAA,IAAA;YACA,IAAA,WAAA,IAAA,OAAA,MAAA,IAAA,CAAA,EAAA;YACA,IAAA,QAAA,IAAA,OAAA,MAAA,IAAA,CAAA,EAAA;YAEA,IAAA,IAAA,UAAA;gBACA,IAAA,aAAA,IAAA,CAAA,KAAA,CAAA,oBAAA;gBAEA,WAAA,QAAA,CAAA;oBAC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M;I,O;Q,M;Y,S;Q;Q,c;Y,U;Q;I;I;Q,O;Y,c;Y,e;Q;I;I,S;Q;Y,I,C,M;Q;Q;Y,I,I,C,a,S,G;gB,I,W,I,C,a,I,C;oB,O,C,G,wB,E,gB,G,I,I,C,c,I,C;gB;gB,O,Q,I,U,K;oB,I,C,M;gB;Y,O,M;Q;I;A;A,I,U,O,kB,a,c,U;kB,S,wC;;;A,I,S;I,I,M,I;I,I,K,I;I,I,K,I,M,M;I,O,G,a;Q,O;Y,W;Y,Q,I;Y,a;Y,U;Q;I,G;Q,G,a;Y,a;Y,a;gB,oB;Y;Y,I;gB,S,I;Y;Q,G;Y,G,W;gB,I,G;a;Y,I,G;S,E;Q,I,G;Q,G,Y;Y,M;Q,G;Y,G,O;gB,a;Y,G;gB,G,O;oB,a;gB,G;oB,G,Y;wB,a;oB,G;wB,G,S;4B,I,G;yB;wB,I,G;wB,G,Y;4B,O;gC,O,I;gC,U,S,G;oC,I,e;gC;gC,Y;4B;wB;qB,E;oB,I,G;oB,G,Y;wB,a;oB,G;wB,G,S;4B,I,G;yB;wB,I,G;wB,G,Y;4B,O;gC,O,I;gC,U,S,G;oC,I,gB;gC;gC,Y;4B;wB;qB,E;iB,E;gB,I,G;gB,G,O;oB,a;gB,G;oB,G,K;wB,a;wB,I;4B,S,I;wB;oB,G;wB,I,G;qB;oB,I,G;oB,G,K;wB,a;wB,I;4B,S,I;wB;oB,G;wB,I,G;qB;iB;a;S;K,E;A;A,I,kB,E;A,Q,S;A,Q,kB;;;;;AAff,IAAI,OAAO,KAAO;kBAEH,CAAA,UAEf;;;;;ACJA,IAAI;AACJ,IAAI,aAAa;IACf,SAAS,QAAQ;IACjB,IAAI,OAAO,YAAY,SAAS,OAAO;IACvC,OAAO,SAAS,QAAQ,oBAAmC;IACjD,OAAO,kBAAkB,QAAQ,oBAAmC;IACpE,OAAO,WAAW;IAG5B,QAAQ,mBAAiC,QAAQ;IACjD,OAAO,YAAY;IACnB,OAAO,SAAS;AAClB;AACA;kBAEe;;;;;A;;A,I,gB;I,M;I,O;Q,e,C;I;I;Q,I,C,U;Y;gB,M;gB,M;gB,Q,I,C;Y;Y;gB,M;gB,M;gB,Q,I,C;Y;Y;gB,M;gB,M;gB,Q,I,C;Y;Y;gB,M;gB,M;gB,Q,I,C;Y;S;Q,O,C;I;I,S;Q;Y,M,M,I,C,c,I,C,K,G;Y,I,I,S,G,C,G,wB,E,M,U;iB,M;Q;Q;Y,M,M,I,C,c,I,C,K,G;Y,I,I,S,G,C,G,wB,E,M,W;iB,M;Q;Q;Y,M,M,I,C,c,I,C,K,G;Y,I,I,S,G,C,G,wB,E,M,a;iBAuBf,MAAA;QAEA;QACA;YACA,IAAA,CAAA,MAAA;QACA;IACA;AACA;AAEA,IAAA,UAAA,OAAA,kBAAA,aAAA,cAAA,UAAA;kBACA,SAAA,wCAAA;;;A,I,S;I,I,M,I;I,I,K,I;I,I,K,I,M,M;I,O,G,O,I,G,I,S,S,G,E,K;Q,O,G,a;Y,K;Y,a;Y,I;gB,S,I;Y;Q,G;Y,G,c;gB,I,G,I,G,I;a;Y,I,G;Y,G,W;gB,I,G,I,G,I;a;S,E;I,I;A;A,I,kB,E;A,Q,S;A,Q,kB;;;;;AAhDA,IAAI,OAAO,KAAO;kBAEH,CAAA,UAEf;;;;;ACJA,IAAI;AACJ,IAAI,aAAa;IACf,SAAS,QAAQ;IACjB,IAAI,OAAO,YAAY,SAAS,OAAO;IACvC,OAAO,SAAS,QAAQ,oBAAuB;IACrC,OAAO,kBAAkB,QAAQ,oBAAuB;IACxD,OAAO,WAAW;IAE5B,OAAO,eAAe,QAAQ,oBAAoB;IAClD,QAAQ,oBAAqB,QAAQ;IACrC,OAAO,YAAY;IACnB,OAAO,SAAS;AAClB;AACA;kBAEe;;;;;A;;A,I,gB;I,M;I,Y;Q,oB,C,G,4B;I;I,O;Q,U,C;Q,e,C;Q,iB,C;I;I;Q,I,C,U;Y;gB,M;gB,M;gB,O;Y;Y;gB,M;gB,M;gB,O;gB,Q,I,C;Y;Y;gB,M;gB,M;gB,O;gB,Q,I,C;Y;Y;gB,M;gB,M;gB,O;gB,Q,I,C;Y;S;Q,O,C;I;I,S;Q,W,I;Y,I,C,M;Q;Q,kB,G;Y,I,C,M,e;Q;Q,kB,G;Y,I,C,M,S;Q;I;A;A,I,U,O,kB,a,c,U;kB,S,wC;;;;;ACff,IAAI;AACJ,IAAI,aAAa;IACf,SAAS,QAAQ;IACjB,IAAI,OAAO,YAAY,SAAS,OAAO;IACvC,OAAO,SAAS,QAAQ,oBAA4B;IAC1C,OAAO,kBAAkB,QAAQ,oBAA4B;IAC7D,OAAO,WAAW;IAE5B,OAAO,eAAe,QAAQ,oBAAyB;IACvD,QAAQ,mBAA0B,QAAQ;IAC1C,OAAO,YAAY;IACnB,OAAO,SAAS;AAClB;AACA;kBAEe;;;A,uD;;;A,I,gB;I,M;I,O;Q,S,C;Q,e,C;I;I;Q,O;Y,gB;Y,iB,E;Y,kB;Y,U;Y,O;Q;I;I;Q,I,C,kB,I,C,Q,O,C;Y,M,gB,O,G,a;Y,M,a,O,G,U;Y,O,iB;Q;I;I,S;Q;Y,I,I,C,iB,C,I,C,M,O,S,K,I,C,gB,G;gB,M,Q,I,C,M,oB;oB,O,I,C,M;oB,Q,I,C;oB,U,I,C;oB,kB,I,C;gB;Y,O,M;Q;I;I,O;Q;Y,I,I,C,kB,I,C,Q;Q;I;A;A,I,U,O,kB,a,c,U;kB,S,wC;;;A,I,S;I,I,M,I;I,I,K,I;I,I,K,I,M,M;I,O,G,a;Q,O;Y,a;Y,U;Q;I,G;Q,G,a;Y,a;Y,a;gB,oB;Y;Y,O;gB,S;Y;Q,G;Y,G,W;gB,I,G;a;S,E;Q,I,G;Q,G,Y;Y,M;Q,G;Y,G,O;gB,a;Y,G;gB,G,O;oB,a;gB,G;oB,G,Y;wB,a;oB,G;wB,G,a;4B,O;gC,e;gC,Q;gC,M;4B;4B,O;gC,O,I;gC,U,S,G;oC,I,iB;gC;gC,Y;4B;wB,G;4B,C,I,mB,I,gB,W,I,G,a;gC,O;oC,Y;gC;4B,G;gC,I,G;6B,I,I;4B,I,G;4B,I,G,I,iB,S,I,E,K;gC,O,G,a;oC,K;oC,O;wC,S,A,K,W,M,K;oC;gC,G;oC,I,G,qB,I,G,A,K,W,Q,K,S;iC;4B;yB,E;qB,E;oB,I,G;oB,G,e;wB,a;wB,O;4B,O,I;4B,U,S,G;gC,I,mB;4B;4B,Y;wB;oB,G;wB,I,G;qB;oB,I,G;oB,G,Y;wB,a;oB,G;wB,G,S;4B,I,G;yB;wB,I,G;wB,G,Y;4B,O;gC,Y,I,oB,C,I,kB,I,e,O,W;4B;4B,O;gC,O,I;gC,U,S,G;oC,I,Q;gC;gC,Y;4B;wB;qB,E;oB,I,G;oB,G,O;wB,a;oB,G;wB,G,Y;4B,a;4B,O;gC,S;4B;4B,O;gC,O,I;gC,U,S,G;oC,I,W;gC;gC,Y;4B;wB,G;4B,I,G;yB;wB,I,G;wB,G,Y;4B,a;4B,O;gC,S;4B;4B,O;gC,O,I;gC,U,S,G;oC,I,W;gC;gC,Y;4B;wB,G;4B,I,G;yB;qB,E;iB,E;gB,I,G;gB,G,O;oB,a;gB,G;oB,G,K;wB,Y;4B;gC,M;gC,S;4B;yB;wB,a;oB,G;wB,I,G;qB;oB,I,G;oB,G,K;wB,Y;4B;gC,M;gC,S;4B;yB;wB,a;wB,I;4B,S,I;wB;oB,G;wB,I,G;qB;iB;a;S;K,E;A;A,I,kB,E;A,Q,S;A,Q,kB;;;;;AAff,IAAI,OAAO,KAAO;kBAEH,CAAA,UAEf;;;A,I,S;I,I,M,I;I,I,K,I;I,I,K,I,M,M;I,O,G,O;Q,a;I,G;Q,C,I,W,G,iB;Y,O;gB,gB;gB,Y;Y;Q,G;Y,G,wB;gB,a;Y,G;gB,G,W;oB,a;gB,G;oB,I,G;iB;gB,I,G;gB,G,W;oB,a;gB,G;oB,I,G;iB;a,E;Y,I,G;Y,G,yB;gB,a;Y,G,I,G,I,S,S,G,E,K;gB,O,G,a;oB,K;oB,a;oB,I;wB,S,S,M;4B,O,I,U,I;wB;oB;gB,G;oB,G,W;wB,I,G,I,G,I;qB;oB,I,G,6B,I,G,I,Q;iB,E;Y,I;S,E,K,I;Q,I,G;Q,I,W,G,O;Y,a;Q,G;Y,G,a;gB,a;gB,O;oB,S;gB;gB,I;oB,S,S,M;wB,O,I,iB;oB;gB;Y,G;gB,G,W;oB,I,G;iB;a,E;Y,I,G;Y,G,oB;gB,O;oB,W,I;oB,iB,I;gB;gB,I;oB,oB,I;gB;Y;Y,I,G;Y,G,a;gB,a;gB,O;oB,S;gB;gB,I;oB,S,S,M;wB,O,I,iB;oB;gB;Y,G;gB,G,W;oB,I,G;iB;a,E;S,E,K,I;K,E;A;A,I,kB,E;A,Q,S;A,Q,kB;;;;;ADJA,IAAI,OAAO,KAAO;kBAEH,CAAA,UAEf;;;A,I,S;I,I,M,I;I,I,K,I;I,I,K,I,M,M;I,O,G,O;Q,a;Q,O;Y,Y;Q;I,G;Q,G,O;Y,a;Q,G;Y,G,kB;gB,O;oB,Y,I;oB,iB,I;oB,mB,I;gB;gB,I;oB,a,I;oB,Q,I;oB,Q,I;oB,S,I;oB,e,I;oB,iB,I;gB;Y;S,E;Q,I,G;Q,G,O;Y,a;Y,O;gB,gB;Y;Q,G;Y,G,O;gB,a;Y,G;gB,G,oB;oB,O;wB,iB,I;oB;oB,I;wB,W,I;oB;gB;a,E;Y,I,G;Y,G,O;gB,a;Y,G;gB,G,O;oB,a;gB,G;oB,G,Y;wB,G,a;4B,O;gC,Q;gC,M;4B;4B,O;gC,O,I;gC,U,S,G;oC,I,W;gC;gC,Y;4B;wB,G;4B,G,a;gC,O;oC,S;gC;4B,G;gC,I,G;6B;4B,I,G;4B,G,a;gC,O;oC,S;gC;4B,G;gC,I,G;6B;yB,E;qB,E;iB,E;gB,I,G;gB,G,Y;oB,G,S;wB,Y;4B;gC,M;gC,S;gC,O,I;gC,Y;4B;yB;wB,a;wB,O;4B,e;wB;wB,U;4B,S,I;wB;wB,I;4B,S,S,M;gC,I,O,O,W;gC,I,c,O,O;4B;wB;oB;oB,I,G;oB,G,W;wB,I,G;qB;iB,E;a,E;S;Q,I,G;Q,G,O;Y,a;Q,G;Y,G,gB;gB,a;gB,O;oB,W,I;oB,S,I;oB,uB,I;oB,c,I;oB,Q;gB;gB,I;oB,qB,S,M;wB,I,a;oB;gB;gB,a,I,G;oB;wB,K;wB,I,S,K;4B,O;gC,G,M;oC,G,M;wC,a;4C,c;wC;oC,G;wC,G,W;4C,a;4C,O;gD,W;4C;wC,G;4C,G,a;gD,O;oD,mB;gD;4C,G;gD,G,W;oD,I,G;iD;gD,I,G;6C,E;4C,I,G;4C,G,mB,I,G,I,iB,S,C,E,K;gD,O,G,gB;oD,K;oD,I;wD,S,E;oD;gD,G;oD,I,G,yB,I,G,E,Q;iD;4C,I;yC,E;qC,E;oC,I,G;oC,I,G,M,S,S,I,E,K;wC,O,G,M;4C,K;4C,a;gD,c;4C;wC,G;4C,I,G,mB,I,G,K,Q;yC;oC;oC,I,G;oC,G;iC,E;6B;wB;oB;oB;wB,K;wB,I,S,K;4B,O;gC,G,M;oC,G,c;wC,O;4C,W;4C,gB;wC;wC,I;4C,U,S,M;gD,O,I,U,M;4C;wC;wC,O;4C,O,M,K;4C,U,S,G;gD,I,K,M,M,Y;4C;4C,Y;wC;oC;iC,E;gC,I,G;gC,G,M;oC,a;oC,I;wC,S,S,M;4C,O,I,mB,M;wC;oC;gC,G;oC,G,c;wC,O;4C,gB;wC;oC,G;wC,I,G,I,G,M,K;qC;oC,I,G,iB,I,G,M,K,Q;iC,E;gC,I,G;gC,G,M;oC,I,G,I,G,M,K;iC;gC,I,G;gC,I,G,I,Q,S,S,E,K;oC,O,G,M;wC,K;wC,a;oC,G;wC,G,2B;4C,K;4C,U;4C,O;gD,Y,I;gD,Q,M;gD,a;gD,Y,I;4C;4C,I;gD,Y,I;gD,uB,I;4C;wC;qC,E;gC;gC,I,G;gC,G,M;oC,G,a;wC,a;wC,I;4C,S,S,M;gD,O,I,oB,M;4C;wC;oC,G;wC,G,c;4C,I,G;yC;wC,I,G;wC,G,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AA4B;YAE/F,IAAI,IAAS,IAAI;YACjB,EAAO,YAAY;gBACjB,IAAI,IAAM,EAAO;gBACjB,IAAM,IAAc,IAAM,EAAI,QAAQ,gBAAgB,0BAClD,IAAO,EAAM,SAAS,OAAO,IAC5B,WAAW,GAChB,IAAQ;YACT,GACD,EAAO,cAAc;QACtB,OAAM;YAAA,IACD,IAAM,EAAQ,OAAO,EAAQ,WAC7B,IAAM,EAAI,gBAAgB;YAC1B,IAAO,EAAM,WAAW,IACvB,SAAS,OAAO,GACrB,IAAQ,MACR,WAAW;gBAAc,EAAI,gBAAgB;YAAM,GAAE;QACtD;IACF,CAAA;IAGH,EAAQ,SAAS,EAAO,SAAS,GAG/B,OAAO,UAAU;AAvJnB;;;A,I,S;I,I,M,I;I,I,K,I;I,I,K,I,M,M;I,O,A,I,gB,G,O;Q,a;I,G;Q,I,a,I,O,S,G,O;Y,a;Q,G;Y,G,O;gB,a;Y,G;gB,G,O;oB,a;gB,G;oB,G,a;wB,I;4B,S,I;wB;oB,G;wB,G,W;4B,I,G;yB;wB,I,G;qB,E;iB,E;gB,I,G;gB,G,O;oB,a;gB,G;oB,G,a;wB,a;wB,I;4B,S,I;wB;oB,G;wB,G,W;4B,I,G;yB;wB,I,G;qB,E;oB,I,G;oB,G,a;wB,a;wB,I;4B,S,I;wB;oB,G;wB,G,W;4B,I,G;yB;wB,I,G;qB,E;iB,E;a;Y,I,G;Y,G,O;gB,a;Y,G;gB,G,mB;oB,K;oB,O;wB,gB,I;wB,U,I;wB,gB,I;oB;oB,I;wB,W,I;oB;gB;a,E;S,I,I;Q,I,G;Q,I,a,I,O,U,G,O;Y,a;Q,G;Y,G,uB;gB,O;oB,W;gB;Y;S,E,K,I;K,I,I;A;A,I,kB,E;A,Q,S;A,Q,kB;;;;;AlBjBA,IAAI,OAAO,KAAO;kBAEH,CAAA,UAEf;;;A,I,S;I,I,M,I;I,I,K,I;I,I,K,I,M,M;I,O,G,c;Q,a;I,G;Q,I,Q,I,a,I,O,U,I,gB,I,M,Q,G,sB;Y,O;gB,S,I,K;Y;Y,I;gB,U,I;Y;Q,K,I;Q,I,G;Q,I,a,I,O,U,I,gB,I,gB,I,M,Q,G,c;Y,O;gB,iB,I;gB,uB,I;gB,gB,I;Y;Y,I;gB,Q,I;gB,W,I;gB,oB,I;Y;Q,K,I;Q,I,G;Q,I,a,I,O,U,G,O;Y,a;Q,G;Y,G,uB;gB,O;oB,W;gB;Y;S,E,K,I;K,E;A;A,I,kB,E;A,Q,S;A,Q,kB;;;;;ANJA,IAAI,OAAO,KAAO;kBAEH,CAAA,UAEf;;;;;AyBJA,IAAI;AACJ,IAAI,aAAa;IACf,SAAS,QAAQ;IACjB,IAAI,OAAO,YAAY,SAAS,OAAO;IACvC,OAAO,SAAS,QAAQ,oBAAqC;IACnD,OAAO,kBAAkB,QAAQ,oBAAqC;IACtE,OAAO,WAAW;IAE5B,OAAO,eAAe,QAAQ,oBAAkC;IAChE,QAAQ,oBAAmC,QAAQ;IACnD,OAAO,YAAY;IACnB,OAAO,SAAS;AAClB;AACA;kBAEe;;;;;A;;A;;A;A,I,gB;I,M;I,Y;Q,0B,C,G,oC;Q,kC,C,G,uC;I;I;Q,O;Y,c;Y,sB;Y,M;gB,kB;gB,Y,E;gB,e;gB,Q,E;gB,uB;gB,gB,E;Y;Y,U,C;Q;I;I,Y;I,S;Q,Q,M;Y,I,C;Y,I,U,O,K,Q,S,G;gB,I,C,W;gB,I,C,e;Y;Q,6C;Q,oD;Q,2B;Q,I;Q,0C;Q,8C;Q,2B;Q,I;Q,2C;Q,uD;Q,2B;Q,I;Q;Q,W;Q,W,S;Y,O;gB,K;oB,I,C,e;oB;gB,K;oB,I,C,e;oB;Y;Q;Q,M;Y,M,c,M,C,G,oC,E;Y,2C;Y,I,C,uB,Y;Q;I;A;A,I,U,O,kB,a,c,U;kB,S,wC;;;;;ACff,IAAI;AACJ,IAAI,aAAa;IACf,SAAS,QAAQ;IACjB,IAAI,OAAO,YAAY,SAAS,OAAO;IACvC,OAAO,SAAS,QAAQ,oBAAqC;IACnD,OAAO,kBAAkB,QAAQ,oBAAqC;IACtE,OAAO,WAAW;IAE5B,OAAO,eAAe,QAAQ,oBAAkC;IAChE,QAAQ,oBAAmC,QAAQ;IACnD,OAAO,YAAY;IACnB,OAAO,SAAS;AAClB;AACA;kBAEe;;;;;A;A;A;;A;;A;;A;;A;;A,I,gB;I,M;I,O;Q,sB,C;Q,M,C;Q,U,C;I;I,Y;Q,e,C,G,6B;Q,e,C,G,2B;Q,2B,C,G,iC;I;I;Q,O,C;I;I,M;Q,M,a,M,C,G,oC,E;Q,I,C,K,a,W,I,C,K,G;I;I,S;Q,M,gB,I;Y,M,W,M,C,G,oC,E,e,M;Y,I,Y,S,M;gB,I,C,K,W,K,S,K;gB,I,C,e,S,Q;Y;Q;Q,M,a,I;Y,M,Q,M,C,G,oC,E,Y,I,C,K,kB,M;Y,I,S,M,M;gB,I,C,K,O,K,M,K;gB,I,C,Y,M,Q;Y;Q;Q,M,qB,I;Y,M,gB,M,C,G,oC,E,oB,I,C,K,e;Y,I,iB,c,M;gB,I,C,K,e,K,c,K;gB,I,C,oB,c,Q;Y;Q;Q,M,gB,E;Y,I,O,O,a;gB,I,C,K,mB;gB,M,S,M,C,G,oC,E,U;gB,I,C,K,S,O,I,C,K,G;gB,8B;gB,I,C,K,gB;gB,I,C,K,wB;Y,M;Y;Q;Q,M,a,E;Y,I,O,O,a;gB,I,C,K,gB;gB,M,iB,M,C,G,oC,E,kB;gB,I,C,K,iB,e,I,C,K,G;gB,qB;gB,I,C,K,wB;Y,K;Y;Q;Q,M,qB,E;Y,I,C,K,wB;Q;Q;Y,I,C,M;Q;Q,M;Y,wE;Y,M,S;gB,M,E;Y;Y,I,I,C,K,uB;gB,M,O,M,I,C,qB,I,C,K,uB,I,C,K,e,I,C,K;gB,O,K,K;Y,O,I,I,C,K,e;gB,M,Q,M,I,C,gB,I,C,K;gB,O,K,Q;Y,O,I,I,C,K,kB;gB,I,c,I,C,K,O,I,C;oB,O,I,C,gB,M;gB;gB,I,Q,M,Q,I;gB,M,Q,C;oB,O,K,Q;gB;Y;Y,C,G,wD,E,O,Q,K,C;gB,C,G,yB,E,O,I,K,S,C,6B,C;Y;Q;Q;Y,I,Q,S,c;Y,M,O;Y,M,S;Y,M;Y,M,iB,U,O;gBAuIf,MAAA,OAAA,MAAA,OAAA,KAAA,CAAA,EAAA;gB,M,W,M,C,G,wD,E,yBAEA;gB,C,G,6D,E,UAIA,6B;YAGA,GACA;QAEA;QAEA,MAAA,sBAAA,eAAA,EAAA,OAAA,EAAA,UAAA;YACA,MAAA,OAAA;gBACA,MAAA;gBACA,QAAA,IAAA,CAAA;gBACA,MAAA,EAAA;YACA;YAEA,MAAA,gBAAA,IAAA,CAAA,KAAA,WAAA,KACA,CAAA,KAAA,GAAA,OAAA;YAGA,MAAA,aAAA,IAAA,CAAA,KAAA,OAAA,KAAA,CAAA,KAAA,GAAA,OAAA;YAEA,MAAA,cAAA,IAAA,CAAA,KAAA,eAAA,KACA,CAAA,KAAA,GAAA,OAAA;Y,M,S,M,C,G,oC,E,qBAIA;YAGA,IAAA,iBAAA,cAAA,eAAA,QAAA;gBACA,yEAAA;gB,K,O,Y;gBAIA,KAAA,KAAA,KAAA;oBAAA;oBAAA,cAAA;iBAAA;gBACA,KAAA,KAAA,KAAA;oBAAA;oBAAA,WAAA;iBAAA;gBACA,KAAA,KAAA,KAAA;oBAAA;oBAAA,YAAA;iBAAA;gB,K,K,K;;;iB;gBAGA,KAAA,KAAA,KAAA;;;iBAAA;gBACA,KAAA,KAAA,KAAA;oBAAA;oBAAA;iBAAA;gBAEA,OAAA,WAAA,QAAA,CAAA;oBACA,MAAA,MAAA,SAAA,WAAA,IAAA,CAAA;wBACA,WAAA;wB,0B;wBAEA,iCAAA;wBACA,oCAAA;wBACA,wCAAA;wBACA,iCAAA;wBACA,KAAA;wBAEA,OAAA;4BAAA,SAAA;4BAAA,UAAA;yBAAA;oBACA;oBAEA,KAAA,KAAA,QAAA;gBACA;gB,O;YAEA;QACA;QAEA,kBAAA,UAAA;YACA,MAAA,SAAA,EA0BA;Y,O;QAGA;QAEA,MAAA,iBAAA,OAAA;Y,I,iB,E;YAGA,IAAA,IAAA,CAAA,KAAA,kBAAA,SACA,iBAAA,IAAA,CAAA,KAAA;iBAEA,iBAAA,MAAA,CAAA,GAAA,oCAAA,EAAA,kBACA;YAIA,MAAA,WAAA,eAAA,IAAA,CAAA;gBACA,OAAA,IAAA,CAAA,qB,c,IAEA,SACA,IAAA,CAAA,KAAA;YAEA;YAEA,OAAA,QAAA,IAAA;Q;QAGA,MAAA,GAAA,GAAA;QACA,2BAAA;QACA;IACA;IACA,OAAA;QACA,MAAA;YACA,IAAA,IAAA,CAAA,SAAA,eAAA,e,M,I,C,e,I,C,S;YAIA,IAAA,IAAA,CAAA,SAAA,eAAA,YACA,MAAA,IAAA,CAAA,YAAA,IAAA,CAAA,SAAA;Y,I,I,C,S,e,aAIA,MAAA,IAAA,CAAA,oBAAA,IAAA,CAAA,SAAA;QAEA;IACA;A;AAGA,IAAA,UAAA,OAAA,kBAAA,aAAA,cAAA,UAAA;kBACA,SAAA,wCAAA;;;;;ACrSA,IAAI;AACJ,IAAI,aAAa;IACf,SAAS,QAAQ;IACjB,IAAI,OAAO,YAAY,SAAS,OAAO;IACvC,OAAO,SAAS,QAAQ,oBAA2B;IACzC,OAAO,kBAAkB,QAAQ,oBAA2B;IAC5D,OAAO,WAAW;IAE5B,OAAO,eAAe,QAAQ,oBAAwB;IACtD,QAAQ,oBAAyB,QAAQ;IACzC,OAAO,YAAY;IACnB,OAAO,SAAS;AAClB;AACA;kBAEe;;;;;A,I,gB;I,M;I,O;Q,a;Y,M;Q;Q,M,C;Q,O,C;I;I;Q,O;Y,c;Q;I;I,S;Q,Y,E;Y,I,I,I,C,M,U;Q;I;I,O;Q;Y,I,C,e,I,C;Q;I;A;A,I,U,O,kB,a,c,U;kB,S,wC;;;A,I,S;I,I,M,I;I,I,K,I;I,I,K,I,M,M;I,O,G,O;Q,a;I,G;Q,G,Y;Y,a;Q,G;Y,G,a;gB,O;oB,Q;oB,M;oB,e,I;gB;gB,I;oB,e,I;gB;gB,O;oB,O,I;oB,U,S,G;wB,I,e;oB;oB,Y;gB;Y,G;gB,C,I,Q,I,K,W,I,G,a;oB,O;wB,Y;oB;gB,G;oB,I,G;iB,I,I;gB,I,G;gB,I,G,I,M,S,I,E,K;oB,O,G,a;wB,K;wB,O;4B,S,K;wB;oB,G;wB,I,G,e,I,G,K,Q;qB;gB;a,E;S,E;K,E;A;A,I,kB,E;A,Q,S;A,Q,kB;;;;;AAff,IAAI,OAAO,KAAO;kBAEH,CAAA,UAEf;;;;;ACJA,IAAI;AACJ,IAAI,aAAa;IACf,SAAS,QAAQ;IACjB,IAAI,OAAO,YAAY,SAAS,OAAO;IACvC,OAAO,SAAS,QAAQ,oBAA6B;IAC3C,OAAO,kBAAkB,QAAQ,oBAA6B;IAC9D,OAAO,WAAW;IAE5B,OAAO,eAAe,QAAQ,oBAA0B;IACxD,QAAQ,oBAA2B,QAAQ;IAC3C,OAAO,YAAY;IACnB,OAAO,SAAS;AAClB;AACA;kBAEe;;;;;A,I,gB;I,M;I,O;Q,O;Y,M;Q;Q,W;Y,M;Q;Q,U;Y,M;Y,S;Q;I;I;Q,O;Y,M;Y,M;Q;I;I,S;Q,U,O;Y,I,C,O;Y,I,W,I,C,K,O,S,G,uB;Y,+C;Y,sE;Y,W;Y,gD;Y,I;Y,I,C,M,U,I,C,K;Y,I,C,O;Q;Q;Y,I,C,O,C,I,C;Q;I;A;A,I,U,O,kB,a,c,U;kB,S,wC;;;A,I,S;I,I,M,I;I,I,K,I;I,I,K,I,M,M;I,O,G,a;Q,O;Y,a;Y,U;Y,Q,I,Q,C,I;Q;I,G;Q,G,a;Y,a;Y,O;gB,Y,I;Y;Y,I;gB,S,S,M;oB,O;oB,O,I,c,M,M;gB;Y;Q,G;Y,G,c;gB,I,G,I,G,I;a;Y,I,G;Y,G,W;gB,I,G,I,G,I;a;Y,I,G,W,I,G,I,S;S,E;Q,I,G;Q,G,Y;Y,M;Q,G;Y,G,O;gB,a;Y,G;gB,G,O;oB,a;gB,G;oB,G,Y;wB,a;oB,G;wB,G,S;4B,I,G,I,G,I;yB;wB,I,G;wB,G,Y;4B,O;gC,O,I;gC,U,S,G;oC,I,O;gC;gC,Y;4B;wB;qB,E;iB,E;gB,I,G;gB,G,O;oB,a;gB,G;oB,G,K;wB,a;wB,I;4B,S,S,M;gC,O,I,S;4B;wB;oB,G;wB,I,G;qB;oB,I,G;oB,G,K;wB,a;wB,I;4B,S,S,M;gC,O,I,S;4B;wB;oB,G;wB,I,G;qB;iB;a;S;K,E;A;A,I,kB,E;A,Q,S;A,Q,kB;;;;;AAff,IAAI,OAAO,KAAO;kBAEH,CAAA,UAEf;;;;;ACJA,IAAI;AACJ,IAAI,aAAa;IACf,SAAS,QAAQ;IACjB,IAAI,OAAO,YAAY,SAAS,OAAO;IACvC,OAAO,SAAS,QAAQ,oBAAiC;IAC/C,OAAO,kBAAkB,QAAQ,oBAAiC;IAClE,OAAO,WAAW;IAE5B,OAAO,eAAe,QAAQ,oBAA8B;IAC5D,QAAQ,oBAA+B,QAAQ;IAC/C,OAAO,YAAY;IACnB,OAAO,SAAS;AAClB;AACA;kBAEe;;;;;A;;A;;A;A;;A,I,gB;I,M;I,Y;Q,gB,C,G,8B;Q,kB,C,G,0B;I;I,O;Q,uB;Y,M;Y,S;Q;Q,sB,C;I;I;Q,O;Y,mB;gB,M;gB,Y,E;Y;Y,U;Q;I;I;Q,I,C;I;I,S;Q,M;Y,I,I,C,uB,I,C,oB,M,C,G,oC,E,qB,I,C;iB,I,C,oB;gB,M;gB,Y,E;Y;Q;Q;Y,I,C,W;Q;Q,M;Y,M,C,G,oC,E,0B,I,C;Y,I,C,M;Y,I,C;Q;Q,M;Y,M,C,G,oC,E;Y,I,C,M;Y,I,C;Q;Q,sB,G;Y,I,Q,I,C,kB,W,K,C,K,G,S,I;Y,I,C,O,I,C,kB,W,K;gB,I,K;gB,M,I;gB,Y,E;Y;Q;Q,Y,G;Y,I,I,Y,I,O;gB,I,Q,I,C,kB,W,K,C;oB,O,G,S,I;gB;gB,I,O;oB,I,Y,M,W,K,C,K,G,S,I;oB,I,O,c,a,M,W,K;wB,M;wB,M,I;wB,I,K;oB;gB;Y;Q;Q,Y,G;Y,I,O,I,S,a,I,C,kB,a,I,C,kB,W,O,C;gB,O,G,O,I,S;Y;iB;gB,I,Q,I,C,kB,W,K,C;oBA6Ff,OAAA,GAAA,OAAA,IAAA,SAAA;gBACA;gBAEA,IAAA,OACA,MAAA,aAAA,MAAA,WAAA,O,C,K,G,O,I,K;YAIA;QACA;QAEA;YACA,IAAA,CAAA,WAAA;YACA,IAAA,CAAA;QACA;QAEA,MAAA;YACA,IAAA,CAAA,WAAA;YACA,MAAA,CAAA,GAAA,oCAAA,EAAA,kBACA,IAAA,CAAA,uBACA,IAAA,CAAA;YAGA,IAAA,CAAA;QACA;QAEA;YACA,CAAA,GAAA,sBAAA,EAAA,MAAA;QACA;IACA;IACA,OAAA;QACA,uBAAA;YACA,IAAA,CAAA;QACA;IACA;AACA;AAEA,IAAA,UAAA,OAAA,kBAAA,aAAA,cAAA,UAAA;kBACA,SAAA,wCAAA;;;;;AClJA,IAAI;AACJ,IAAI,aAAa;IACf,SAAS,QAAQ;IACjB,IAAI,OAAO,YAAY,SAAS,OAAO;IACvC,OAAO,SAAS,QAAQ,oBAA8B;IAC5C,OAAO,kBAAkB,QAAQ,oBAA8B;IAC/D,OAAO,WAAW;IAE5B,OAAO,eAAe,QAAQ,oBAA2B;IACzD,QAAQ,oBAA4B,QAAQ;IAC5C,OAAO,YAAY;IACnB,OAAO,SAAS;AAClB;AACA;kBAEe;;;;;A;;A,I,gB;I,M;I,Y;Q,kB,C,G,0B;I;I,O;Q,Y,C;Q,S;Y,M;Y,S;Q;Q,U;Y,M;Y,S;Q;I;I,S;Q,e,G;Y,I,C,M,O;Q;Q,Q,Q,E,U,E,S;Y,I,O;gB,U;gB,M;Y;Y,I,C,M,U;Q;I;A;A,I,U,O,kB,a,c,U;kB,S,wC;;;;;ACff,IAAI;AACJ,IAAI,aAAa;IACf,SAAS,QAAQ;IACjB,IAAI,OAAO,YAAY,SAAS,OAAO;IACvC,OAAO,SAAS,QAAQ,oBAA0B;IACxC,OAAO,kBAAkB,QAAQ,oBAA0B;IAC3D,OAAO,WAAW;IAE5B,OAAO,eAAe,QAAQ,oBAAuB;IACrD,QAAQ,oBAAwB,QAAQ;IACxC,OAAO,YAAY;IACnB,OAAO,SAAS;AAClB;AACA;kBAEe;;;;;A;A,I,gB;I,M;I,O;Q;K;I;Q,O;Y,M;Y,M;Q;I;I,S;Q,U,O;Y,I,C,O;Y,I,W,I,C,K,O,S;gB,I,I,C,U,0C;gB,I,C,M,O;oB,U,I,C;oB,O,I,C;gB;qB,I,C,M,O;oB,U,I,C;gB;;Y,I,C,O;Q;Q;Y,I,C,O,C,I,C;Q;I;A;A,I,U,O,kB,a,c,U;kB,S,wC;;;A,I,S;I,I,M,I;I,I,K,I;I,I,K,I,M,M;I,O,G,a;Q,O;Y,a;Y,U;Y,Q,I;Q;I,G;Q,C,I,W,G,S;Y,O;gB,W;gB,S;gB,S;Y;Y,I;gB,S,S,M;oB,O;oB,O,I,c,M,M;gB;Y;Q,G;Y,I,G;S,I,I;Q,I,G;Q,I,W,G,S;Y,O;gB,S;gB,Q;gB,Q;gB,S;gB,S;Y;Y,I;gB,S,S,M;oB,O;oB,O,I,c,M,M;gB;Y;Q,G;Y,G,U;gB,I,G;a;S,E,K,I;Q,I,G;Q,G,Y;Y,M;Q,G;Y,G,O;gB,a;Y,G;gB,G,O;oB,a;gB,G;oB,G,Y;wB,a;oB,G;wB,G,S;4B,I,G,I,G,I,W,kB;yB;wB,I,G;wB,G,Y;4B,O;gC,O,I;gC,U,S,G;oC,I,O;gC;gC,Y;4B;wB;qB,E;iB,E;gB,I,G;gB,G,O;oB,a;gB,G;oB,G,K;wB,a;wB,I;4B,S,S,M;gC,O,I,S;4B;wB;oB,G;wB,I,G;qB;oB,I,G;oB,G,K;wB,a;wB,I;4B,S,S,M;gC,O,I,S;4B;wB;oB,G;wB,I,G;qB;iB;a;S;K,E;A;A,I,kB,E;A,Q,S;A,Q,kB;;;;;AAff,IAAI,OAAO,KAAO;kBAEH,CAAA,UAEf;;;A,I,S;I,I,M,I;I,I,K,I;I,I,K,I,M,M;I,O,G,c;Q,a;I,G;Q,I,c,I,W,S,I,G,U;Y,a;Y,O;gB,U;gB,Q;gB,Q;Y;Q,G,I,G,I,Y,S,I,E,K;Y,O,G,gB;gB,K;gB,O;oB,gB;oB,e;oB,Y;oB,a;gB;Y,G;gB,G,e;oB,O;wB,Q;oB;oB,M;gB,G;oB,G,uB;wB,G,qB;4B,I,G,I,G,K;yB;qB,E;oB,I,G;oB,I,W,G,sB;wB,G,kB;4B,O;gC,Y,K;4B;4B,I;gC,O,I;4B;wB;qB,E,K,I;oB,I,G;oB,I,W,G,sB;wB,G,S;4B,O;gC,Q;gC,Q;gC,S;gC,S;gC,S;4B;4B,I;gC,S,S,M;oC,O;oC,O,I,O,M;gC;4B;wB,G;4B,G,U;gC,I,G;6B;yB,E;qB,E,K,I;iB,E;gB,I,G;gB,I,G,K,Y,S,O,E,Q;oB,O,G,e;wB,K;oB,G;wB,G,sB;4B,G,c;gC,O;oC,Y,C,I;oC,S;gC;gC,O;oC,O,Q;oC,U,S,G;wC,I,K,S,Q;oC;oC,Y;gC;4B;yB,E;wB,I,G;wB,G,uB;4B,G,qB;gC,I,G,I,G,Q;6B;yB,E;wB,I,G;wB,I,W,G,sB;4B,G,S;gC,O;oC,Q;oC,Q;oC,S;oC,S;oC,S;gC;gC,I;oC,S,S,M;wC,O,I,O,M,O;oC;gC;4B,G;gC,G,U;oC,I,G;iC;6B,E;yB,E,K,I;qB,E;gB;a,E;Q,I,K,I;Q,I,G;Q,I,c,I,W,W,I,G,O;Y,a;Q,G;Y,I,G,W,I,G,I,W;S,I,I;K,E;A;A,I,kB,E;A,Q,S;A,Q,kB;;;;;ADJA,IAAI,OAAO,KAAO;kBAEH,CAAA,UAEf;;;A,I,S;I,I,M,I;I,I,K,I;I,I,K,I,M,M;I,O,A,I,oB,G,O;Q,a;I,G;Q,G,O;Y,a;Q,G;Y,G,O;gB,a;Y,G;gB,G,c;oB,I,G,I,G,I,kB;iB;gB,I,G;gB,G,Q;oB,I,G,I,G,I,kB;iB;a,E;Y,I,G;Y,G,O;gB,a;Y,G;gB,I,W,G,O;oB,a;gB,G;oB,G,S;wB,O;4B,W;4B,S;wB;wB,I;4B,S,I;wB;oB,G;wB,I,G;qB;oB,I,G;oB,G,S;wB,O;4B,W;4B,S;wB;wB,I;4B,S,I;wB;oB,G;wB,I,G;qB;oB,I,G;oB,G,kB;wB,I;4B,O,I;wB;oB;iB,E,K,G,O;oB,a;gB,G;oB,G,S;wB,O;4B,W;4B,S;wB;wB,I;4B,S,I;wB;oB,G;wB,I,G;qB;oB,I,G;oB,I,0B,I,uB,G,S;wB,O;4B,W;4B,S;wB;wB,I;4B,S,I;wB;oB,G;wB,I,G;qB,I,I;oB,I,G;oB,I,0B,I,uB,G,S;wB,O;4B,W;4B,S;wB;wB,I;4B,S,I;wB;oB,G;wB,G,U;4B,I,G;yB;wB,I,G;qB,E,K,I;iB,E;a;S;Q,I,G;Q,G,O;Y,a;Q,G;Y,G,gB;gB,a;gB,O;oB,c,I,kB;oB,Y,I;oB,W;gB;gB,I;oB,O,I;oB,U,I;gB;Y;S,E;K,I,I;A;A,I,kB,E;A,Q,S;A,Q,kB;;;;;ADJA,IAAI,OAAO,KAAO;kBAEH,CAAA,UAEf;;;A,I,S;I,I,M,I;I,I,K,I;I,I,K,I,M,M;I,O,G,c;Q,a;I,G;Q,G,O;Y,a;Q,G;Y,G,iB;gB,O;oB,gB;oB,Y;oB,a;gB;Y,G;gB,G,wB;oB,a;gB,G;oB,G,W;wB,a;oB,G;wB,I,G;qB;oB,I,G;oB,G,W;wB,a;oB,G;wB,I,G;qB;iB,E;gB,I,G;gB,G,yB;oB,a;gB,G;oB,I,K,gB,G,e;wB,O;4B,S;4B,a;4B,Y,C,I,K;4B,Q;wB;wB,I;4B,U,I;wB;oB,K,I;oB,I,G;oB,I,K,mB,G,e;wB,O;4B,S;4B,a;4B,Y,C,I,K;4B,Q;wB;wB,I;4B,U,I;wB;oB,K,I;oB,I,G;oB,G,e;wB,O;4B,S;4B,a;4B,Q;wB;wB,I;4B,U,I;wB;oB;iB,E;a,E;S,E;Q,I,G;Q,G,O;Y,a;Q,G;Y,G,S;gB,O;oB,W;oB,S;gB;gB,I;oB,S,S,M;wB,O;wB,O,I,W,M,M;oB;gB;Y,G;gB,I,G;a;Y,I,G;Y,G,S;gB,O;oB,W;oB,S;gB;gB,I;oB,S,S,M;wB,O;wB,O,I,W,M,M;oB;gB;Y,G;gB,I,G;a;S,E;Q,I,G;Q,G,O;Y,a;Q,G;Y,G,O;gB,a;Y,G;gB,G,e;oB,O;wB,e;wB,Q,I,K;wB,S,I,K;oB;oB,I;wB,U,I;oB;gB;a,E;Y,I,G;Y,G,O;gB,a;Y,G;gB,G,e;oB,O;wB,e;wB,Q,I,K;wB,S,I,K;oB;oB,I;wB,U,I;oB;gB;a,E;Y,I,G;Y,G,O;gB,a;Y,G;gB,G,e;oB,O;wB,e;wB,Q,I,K;wB,S,I,K;oB;oB,I;wB,U,I;oB;gB;a,E;S;Q,I,G;Q,G,O;Y,a;Q,G;Y,C,I,K,wB,G,O;gB,a;Y,G;gB,I,G;a,I,G,2B;gB,O;oB,yB,I,K;oB,wB,I;gB;gB,I;oB,kB,I;gB;Y;S,E;K;A;A,I,kB,E;A,Q,S;A,Q,kB;;;;;AHJA,IAAI,OAAO,KAAO;kBAEH,CAAA,UAEf;;;;;AMJA,IAAI;AACJ,IAAI,aAAa;IACf,SAAS,QAAQ;IACjB,IAAI,OAAO,YAAY,SAAS,OAAO;IACvC,OAAO,SAAS,QAAQ,oBAAuC;IACrD,OAAO,kBAAkB,QAAQ,oBAAuC;IACxE,OAAO,WAAW;IAE5B,OAAO,eAAe,QAAQ,oBAAoC;IAClE,QAAQ,mBAAqC,QAAQ;IACrD,OAAO,YAAY;IACnB,OAAO,SAAS;AAClB;AACA;kBAEe;;;;;A;;A,I,gB;I,M;I,Y;Q,2B,C,G,iC;I;I,O;Q,sB,C;I;I;Q,O,C;I;I,S,C;A;A,I,U,O,kB,a,c,U;kB,S,wC;;;A,I,S;I,I,M,I;I,I,K,I;I,I,K,I,M,M;I,O,G,c;Q,a;I,G;Q,I,uB,G,2B;Y,a;Y,O;gB,yB,I;gB,wB,I;Y;Q,K,G,O;Y,a;Q,G;Y,I,G;S;K,E;A;A,I,kB,E;A,Q,S;A,Q,kB;;;;;AAff,IAAI,OAAO,KAAO;kBAEH,CAAA,UAEf;;;A,I,S;I,I,M,I;I,I,K,I;I,I,K,I,M,M;I,O,G,c;Q,a;Q,a;Y,Y;Q;I,G;Q,G,W;Y,a;Y,O;gB,gB;gB,iB,I,e,mB;Y;Y,I;gB,c,I;Y;Q,G;Y,G,U;gB,O;oB,M;oB,Y;oB,W;gB;Y;Y,I,G;Y,G,U;gB,O;oB,M;oB,Y;oB,W;gB;Y;S,E;Q,I,G;Q,G,c;Y,a;Q,G;Y,I,iB,I,G,0B;gB,a;gB,O;oB,Y,I;oB,Q,I;oB,wB,I;gB;gB,I;oB,e,I;gB;Y,K,I;Y,I,G;Y,I,iB,I,G,kC;gB,a;gB,O;oB,wB,I;gB;Y,K,I;S,E;K,E;A;A,I,kB,E;A,Q,S;A,Q,kB;;;;;APJA,IAAI,OAAO,KAAO;kBAEH,CAAA,UAEf;;;;;AQJA,IAAI;AACJ,IAAI,aAAa;IACf,SAAS,QAAQ;IACjB,IAAI,OAAO,YAAY,SAAS,OAAO;IACvC,OAAO,SAAS,QAAQ,oBAAwB;IACtC,OAAO,kBAAkB,QAAQ,oBAAwB;IACzD,OAAO,WAAW;IAE5B,OAAO,eAAe,QAAQ,oBAAqB;IACnD,QAAQ,oBAAsB,QAAQ;IACtC,OAAO,YAAY;IACnB,OAAO,SAAS;AAClB;AACA;kBAEe;;;;;A;;A;;A;;A;;A;;A,I,gB;I,M;I,Y;Q,sB,C,G,oC;Q,0B,C,G,uC;Q,kB,C,G,gC;I;I;Q,I,C,c,C,G,sB;Q,O;Y,Q;Y,e;Y,O;Y,Q;Y,O;Y,M;Y,gB;Y,M,O,O,C,G,C,G,0B;Y,c;gB,S;oB,Y;oB,S;gB;gB,U;oB,Y;oB,S;gB;gB,O;oB,Y;oB,S;gB;Y;Q;I;I,S;Q,Q,M;Y,I,C,O,O;Y,I,C,K,Q,O;Q;Q,W;Q;Y,I,C,gB;Q;Q,Y,I;Y,I,S,U,I,C,gB;iB,I,S,S;gB,M,c,I,C;gB,M,e,I,C,0B,I,C,K;gB,M,Y,I,C,0B,I,C,K;gB,I,C,e,C,gB,C,W;oB,I,C,iB;oB,I,C,gB;gB,O,I,C,iB;Y;Q;Q,Y,I;Y,I,C,O;Q,kC;Q,+B;Q,iC;Q,I;Q;Q;Y,I,I,C,K,Q,Q,O,I,C,K,Q,K,O,S;iB,OAuEf,IAAA,CAAA,KAAA,QAAA,KAAA,OAAA,SAAA,KACA,IAAA,CAAA,KAAA,QAAA,GAAA,OAAA,SAAA;QAGA;Q,2B,I;YAGA,wCAAA;YACA,uBAAA;YACA,gBAAA;YACA,iBAAA;YACA,qBAAA;YACA,gBAAA;YAEA,IAAA,KAAA,aAAA,IAAA,CAAA,YAAA,WACA,OAAA,KAAA,MAAA,WAAA,OAAA,SAAA;iB,I,K,a,I,C,Y,MAEA,OAAA,SAAA,KAAA,UAAA;iBAEA,IAAA,KAAA,aAAA,IAAA,CAAA,YAAA,OACA,OAAA,KAAA,WAAA,OAAA,SAAA;QAEA;IASA;AACA;AAEA,IAAA,UAAA,OAAA,kBAAA,aAAA,cAAA,UAAA;kBACA,SAAA,wCAAA;;;;;ACzHA,IAAI;AACJ,IAAI,aAAa;IACf,SAAS,QAAQ;IACjB,IAAI,OAAO,YAAY,SAAS,OAAO;IACvC,OAAO,SAAS,QAAQ,oBAAoC;IAClD,OAAO,kBAAkB,QAAQ,oBAAoC;IACrE,OAAO,WAAW;IAE5B,OAAO,eAAe,QAAQ,oBAAiC;IAC/D,QAAQ,oBAAkC,QAAQ;IAClD,OAAO,YAAY;IACnB,OAAO,SAAS;AAClB;AACA;kBAEe;;;;;A;;A;;A;;A,I,gB;I,M;I,O;Q,M,C;Q,M,C;I;I,Y;Q,e,C,G,0B;Q,gB,C,G,2B;Q,a,C,G,wB;I;I;Q,O;Y,U;Q;I;I,S;Q;Y,I,C,W;Y,W;gB,I,C,W;Y,G;Q;I;A;A,I,U,O,kB,a,c,U;kB,S,wC;;;;;ACff,IAAI;AACJ,IAAI,aAAa;IACf,SAAS,QAAQ;IACjB,IAAI,OAAO,YAAY,SAAS,OAAO;IACvC,OAAO,SAAS,QAAQ,oBAA0B;IACxC,OAAO,kBAAkB,QAAQ,oBAA0B;IAC3D,OAAO,WAAW;IAE5B,OAAO,eAAe,QAAQ,oBAAuB;IACrD,QAAQ,oBAAwB,QAAQ;IACxC,OAAO,YAAY;IACnB,OAAO,SAAS;AAClB;AACA;kBAEe;;;;;A;A;A;;A,I,gB;I,M;I,O;Q;Q;K;I;Q,O;Y,U,E;Q;I;I;Q,I,C;I;I,S;Q,M;Y,I,C,W,M,C,G,6D,E,iB,I,C;Q;Q,M,Y,E;Y,M,S,M,I,C,iB;Y,I,U,O,S,I,C,U,W,O,Q;Y,I,U,O,U,I,C,U,Y,O,S;Y,I,U,O,O,I,C,U,S,O,M;Q;Q;Y,I,C,K,Q,O;Y,I,C,K,Q,K;Q;Q,M,kB,E;Y,M,U,C,G,+C,E,Y;Y,I,S;gB,I,O,Q,K;gB,I,O,S,a,O,I,Q,C;oB,K,K,C;wB,Q;oB;gB;Y;Y;Q;Q,W,c,E,K;Y,K,M,O,O,K,O,I,I,C,I,C,e,C,e;gB,I,Q,S,I,C,I,C,e,C,I,G,I,C,U,K,C,I;qB,I,C,I,C,e,C,I,G,K,C,I;;Q;Q,W,W;Y,I,Q,Y,M,I,O;YAwDf,IAAA,OAAA,OAAA,IAAA,OAAA,KAAA,CAAA,EAAA,EAAA,KAAA,CAAA,EAAA;Y,O;QAGA;I;IAEA,OAAA;QACA;YACA,IAAA,CAAA;YACA,IAAA,CAAA,KAAA,QAAA,KAAA;YACA,IAAA,CAAA,KAAA,QAAA,OAAA;QACA;IACA;AACA;AAEA,IAAA,UAAA,OAAA,kBAAA,aAAA,cAAA,UAAA;kBACA,SAAA,wCAAA;;;A,I,S;I,I,M,I;I,I,K,I;I,I,K,I,M,M;I,O,G,O;Q,a;I,G;Q,G,gB;Y,I,G;S;Q,I,G;Q,G,O;Y,a;Q,G;Y,G,O;gB,a;Y,G;gB,G,Y;oB,a;oB,O;wB,S;oB;oB,I;wB,U,I;oB;oB,O;wB,O,I,K,Q;wB,U,S,G;4B,I,K,I,K,S,U;wB;wB,Y;oB;gB,G;oB,I,G;iB;gB,I,G;gB,G,Y;oB,a;oB,O;wB,S;oB;oB,I;wB,U,I;oB;oB,O;wB,O,I,K,Q;wB,U,S,G;4B,I,K,I,K,S,U;wB;wB,Y;oB;gB,G;oB,I,G;iB;a,E;Y,I,G;Y,I,K,Q,S,G,O;gB,a;Y,G;gB,G,Y;oB,G,S;wB,I,G;qB;oB,I,G;oB,G,Y;wB,O;4B,O,I,K,Q;4B,U,S,G;gC,I,K,I,K,S,Q;4B;4B,Y;wB;oB;iB,E;a,E,K,G,O;gB,a;Y,G;gB,G,Y;oB,G,S;wB,O;4B,O;wB;oB,G;wB,I,G;qB;oB,I,G;oB,G,a;wB,O;4B,Q;4B,M;wB;wB,I;4B,e,I;wB;wB,O;4B,O,I,K,Q;4B,U,S,G;gC,I,K,I,K,S,M;4B;4B,Y;wB;oB,G;wB,I,S,W,I,G,a;4B,O;gC,Y;4B;wB,G;4B,I,G;yB,I,I;wB,I,G;wB,I,G,I,U,S,I,E,K;4B,O,G,a;gC,K;gC,O;oC,S,K;gC;4B,G;gC,I,G,I,G,K;6B;wB;qB,E;iB,E;a,E;S;K,E;A;A,I,kB,E;A,Q,S;A,Q,kB;;;;;AAtFA,IAAI,OAAO,KAAO;kBAEH,CAAA,UAEf;;;;;ACJA,IAAI;AACJ,IAAI,aAAa;IACf,SAAS,QAAQ;IACjB,IAAI,OAAO,YAAY,SAAS,OAAO;IACvC,OAAO,SAAS,QAAQ,oBAA2B;IACzC,OAAO,kBAAkB,QAAQ,oBAA2B;IAC5D,OAAO,WAAW;IAE5B,OAAO,eAAe,QAAQ,mBAAwB;IACtD,QAAQ,oBAAyB,QAAQ;IACzC,OAAO,YAAY;IACnB,OAAO,SAAS;AAClB;AACA;kBAEe;;;;;A;A;;A;;A;;A;;A,I,gB;I,M;I,Y;Q,uB,C,G,oC;Q,kB,C,G,+B;Q,yB,C,G,qC;I;I,O;Q,M,C;I;I;Q,I,C,c,C,G,sB;Q,O,C;I;I,S;Q,iB;Q,uE;Q,oC;Q,0C;Q,0C;Q,Q;Q,Q;Q,I;Q,mB,G;Y,I,C,K,S,W,I;Y,I,C,K,S,O,I;Y,I,C,K,S,Q,I;Q;Q,c,G;Y,I,C,K,S,Y,I;Y,I,C,K,S,Q,I;Q;Q,e,G;Y,I,C,K,S,a,I;Q;I;A;A,I,U,O,kB,a,c,U;kB,S,wC;;;;;kBChBA,OAAO,OAAO;IAC3B,WAAW;IACX,MAAM;IACN,OAAO;AACT;;;;;ACHA,IAAI;AACJ,IAAI,aAAa;IACf,SAAS,QAAQ;IACjB,IAAI,OAAO,YAAY,SAAS,OAAO;IACvC,OAAO,SAAS,QAAQ,oBAAoC;IAClD,OAAO,kBAAkB,QAAQ,oBAAoC;IACrE,OAAO,WAAW;IAE5B,OAAO,eAAe,QAAQ,oBAAiC;IAC/D,QAAQ,oBAAkC,QAAQ;IAClD,OAAO,YAAY;IACnB,OAAO,SAAS;AAClB;AACA;kBAEe;;;;;A;A,I,gB;I,M;I,O;Q,W,C;Q,e,C;Q,Y,C;Q,e,C;I;I;Q,O;Y,M;Y,U;Y,O;Y,U;Q;I;I,S;Q;Y,C,G,6D,E,U,6B;gB,U,C;oB,I,C,Q;oB,I,C,W;oB,2B;oB,I,C,O;oB,I,C;gB;Y;Q;Q;Y,I,C,Q;Y,I,C,W;Q;Q;Y,I,I,C,U,O,I,C;iB,I,C,I,C,Y,I,C,K,O,S,G;gB,I,I,C,U,O,I,O,C,E,O,O,I,C,K,Q,C,E;qB,O,I,O,C,C,E,O,O,I,C,K,Q,C,C,E;Y,O,O;Q;QAoCf;Y,I,C,M,Y;gBAEA,MAAA,IAAA,CAAA;gBACA,UAAA,IAAA,CAAA;gBACA,OAAA,IAAA,CAAA;YACA;QACA;IACA;IACA,OAAA;QACA;YACA,IAAA,CAAA;QACA;QACA;YACA,IAAA,IAAA,CAAA,cAAA,IAAA,CAAA,MAAA,IAAA,CAAA,OAAA,IAAA,CAAA;QACA;QAEA;YACA,IAAA,IAAA,CAAA,kBAAA,IAAA,CAAA,UACA,IAAA,CAAA,WAAA,IAAA,CAAA;QAEA;QACA;YACA,IAAA,IAAA,CAAA,eAAA,IAAA,CAAA,OACA,IAAA,CAAA,QAAA,IAAA,CAAA;QAEA;Q;YAEA,IAAA,IAAA,CAAA,kBAAA,IAAA,CAAA,UACA,IAAA,CAAA,WAAA,IAAA,CAAA;QAEA;I;AAEA;AAEA,IAAA,UAAA,OAAA,kBAAA,aAAA,cAAA,UAAA;kBACA,SAAA,wCAAA;;;A,I,S;I,I,M,I;I,I,K,I;I,I,K,I,M,M;I,O,G,O;Q,a;I,G;Q,G,O;Y,a;Q,G;Y,G,Y;gB,O;oB,gB;gB;Y,G;gB,G,S;oB,I,G;iB;gB,I,G;gB,G,Y;oB,O;wB,Y,I;oB;oB,I;wB,Q,I;oB;oB,O;wB,O,I;wB,U,S,G;4B,I,O;wB;wB,Y;oB;gB;gB,I,G;gB,I,W,G,Q;oB,a;gB,G;oB,I,G;oB,G,K;wB,I;4B,S,I;wB;oB,G;wB,I,G;qB;iB,I,I;a,E;Y,I,G;Y,G,e;gB,a;gB,O;oB,Y,I;gB;gB,O;oB,O,I;oB,U,S,G;wB,I,W;oB;oB,Y;gB;Y,G;gB,I,G;a;S,E;Q,I,G;Q,G,O;Y,a;Q,G;Y,G,a;gB,a;gB,I;oB,S,I;gB;Y,G;gB,I,G;a;S,E;K;A;A,I,kB,E;A,Q,S;A,Q,kB;;;;;AAtFA,IAAI,OAAO,KAAO;kBAEH,CAAA,UAEf;;;;;ACJA,IAAI;AACJ,IAAI,aAAa;IACf,SAAS,QAAQ;IACjB,IAAI,OAAO,YAAY,SAAS,OAAO;IACvC,OAAO,SAAS,QAAQ,oBAA+B;IAC7C,OAAO,kBAAkB,QAAQ,oBAA+B;IAChE,OAAO,WAAW;IAE5B,OAAO,eAAe,QAAQ,oBAA4B;IAC1D,QAAQ,oBAA6B,QAAQ;IAC7C,OAAO,YAAY;IACnB,OAAO,SAAS;AAClB;AACA;kBAEe;;;;;A,I,gB;I,M;I,O;Q,gB,C;Q,e,C;I;I;Q,O;Y,W;Y,U;Q;I;I,S;Q;Y,I,C,M,Y;gB,W,I,C;gB,O,I,C;Y;Q;I;I,O;Q;Y,I,I,C,mB,I,C,W,I,C,Y,I,C;Q;Q;Y,I,I,C,kB,I,C,U,I,C,W,I,C;Q;I;A;A,I,U,O,kB,a,c,U;kB,S,wC;;;A,I,S;I,I,M,I;I,I,K,I;I,I,K,I,M,M;I,O,G,O;Q,a;I,G;Q,G,O;Y,a;Q,G;Y,G,Y;gB,G,S;oB,I,G;iB;gB,I,G;gB,G,Y;oB,I;wB,Q,I;oB;oB,O;wB,O,I;wB,U,S,G;4B,I,Y;wB;wB,Y;oB;gB;a,E;S,E;Q,I,G;Q,G,O;Y,a;Q,G;Y,G,Y;gB,G,S;oB,I,G;iB;gB,I,G;gB,G,Y;oB,O;wB,Q;wB,O;oB;oB,I;wB,Q,I;oB;oB,O;wB,O,I;wB,U,S,G;4B,I,W;wB;wB,Y;oB;gB;a,E;S,E;K;A;A,I,kB,E;A,Q,S;A,Q,kB;;;;;AAff,IAAI,OAAO,KAAO;kBAEH,CAAA,UAEf;;;;;ACJA,IAAI;AACJ,IAAI,aAAa;IACf,SAAS,QAAQ;IACjB,IAAI,OAAO,YAAY,SAAS,OAAO;IACvC,OAAO,SAAS,QAAQ,mBAAqC;IACnD,OAAO,kBAAkB,QAAQ,mBAAqC;IACtE,OAAO,WAAW;IAE5B,OAAO,eAAe,QAAQ,oBAAkC;IAChE,QAAQ,oBAAmC,QAAQ;IACnD,OAAO,YAAY;IACnB,OAAO,SAAS;AAClB;AACA;kBAEe;;;;;A,I,gB;I,M;I,O;Q,W,C;I;I;Q,O;Y,M;Q;I;I,S;Q;Y,I,C,M,Y;gB,M,I,C;Y;Q;I;I,O;Q;Y,I,I,C,c,I,C,M,I,C,O,I,C;Q;I;A;A,I,U,O,kB,a,c,U;kB,S,wC;;;A,I,S;I,I,M,I;I,I,K,I;I,I,K,I,M,M;I,O,G,O;Q,a;I,G;Q,G,O;Y,a;Q,G;Y,G,Y;gB,O;oB,gB;gB;Y,G;gB,G,S;oB,I,G;iB;gB,I,G;gB,G,Y;oB,I;wB,Q,I;oB;oB,O;wB,O,I;wB,U,S,G;4B,I,O;wB;wB,Y;oB;gB;a,E;S,E;K;A;A,I,kB,E;A,Q,S;A,Q,kB;;;;;AAff,IAAI,OAAO,KAAO;kBAEH,CAAA,UAEf;;;A,I,S;I,I,M,I;I,I,K,I;I,I,K,I,M,M;I,O,G,O;Q,a;I,G;Q,G,gB;Y,I,G;S;Q,I,G;Q,G,O;Y,a;Q,G;Y,G,O;gB,a;Y,G;gB,G,gB;oB,I,G;iB;gB,I,G;gB,G,Y;oB,a;oB,O;wB,S,I,Y;oB;oB,O;wB,O,I,K,S;wB,U,S,G;4B,I,K,I,K,U,Y;wB;wB,Y;oB;gB,G;oB,I,G;iB;gB,I,G;gB,G,Y;oB,a;oB,O;wB,S,I,Y;oB;oB,O;wB,O,I,K,S;wB,U,S,G;4B,I,K,I,K,U,Y;wB;wB,Y;oB;gB,G;oB,I,G;iB;gB,I,G;gB,G,Y;oB,a;oB,O;wB,S,I,Y;oB;oB,O;wB,O,I,K,S;wB,U,S,G;4B,I,K,I,K,U,Y;wB;wB,Y;oB;gB,G;oB,I,G;iB;a,E;Y,I,G;Y,G,O;gB,a;Y,G;gB,I,K,S,a,I,Y,Y,G,uB;oB,O;wB,a,I,K,S;wB,iB,I,K,S;wB,c,I,K,S;wB,iB,I,K,S;oB;oB,I;wB,Y,I;oB;gB,K,A,I,K,S,a,I,Y,O,G,kB;oB,O;wB,kB,I,K,S;wB,iB,I,K,S;oB;oB,I;wB,Y,I;oB;gB,K,A,I,K,S,a,I,Y,Q,G,yB;oB,O;wB,a,I,K,S;oB;oB,I;wB,Y,I;oB;gB,K,I;a,E;S;K,E;A;A,I,kB,E;A,Q,S;A,Q,kB;;;;;AJJA,IAAI,OAAO,KAAO;kBAEH,CAAA,UAEf;;;;;AKJA,IAAI;AACJ,IAAI,aAAa;IACf,SAAS,QAAQ;IACjB,IAAI,OAAO,YAAY,SAAS,OAAO;IACvC,OAAO,SAAS,QAAQ,oBAAwB;IACtC,OAAO,kBAAkB,QAAQ,oBAAwB;IACzD,OAAO,WAAW;IAE5B,OAAO,eAAe,QAAQ,oBAAqB;IACnD,QAAQ,oBAAsB,QAAQ;IACtC,OAAO,YAAY;IACnB,OAAO,SAAS;AAClB;AACA;kBAEe;;;;;A;A;;A;;A;;A;;A,I,gB;I,M;I,Y;Q,uB,C,G,oC;Q,kB,C,G,+B;Q,yB,C,G,qC;I;I,O;Q,M,C;I;I;Q,I,C,c,C,G,sB;Q,O,C;I;I,S;Q,iB;Q,uE;Q,oC;Q,uC;Q,uC;Q,Q;Q,Q;Q,I;Q,mB,G;Y,I,C,K,M,W,I;Y,I,C,K,M,O,I;Y,I,C,K,M,Q,I;Q;Q,c,G;Y,I,C,K,M,Y,I;Y,I,C,K,M,Q,I;Q;Q,e,G;Y,I,C,K,M,a,I;Q;I;A;A,I,U,O,kB,a,c,U;kB,S,wC;;;A,I,S;I,I,M,I;I,I,K,I;I,I,K,I,M,M;I,O,G,O;Q,a;I,G;Q,G,gB;Y,I,G;S;Q,I,G;Q,G,O;Y,a;Q,G;Y,G,O;gB,a;Y,G;gB,G,gB;oB,I,G;iB;gB,I,G;gB,G,Y;oB,a;oB,O;wB,S,I,Y;oB;oB,O;wB,O,I,K,M;wB,U,S,G;4B,I,K,I,K,O,Y;wB;wB,Y;oB;gB,G;oB,I,G;iB;gB,I,G;gB,G,Y;oB,a;oB,O;wB,S,I,Y;oB;oB,O;wB,O,I,K,M;wB,U,S,G;4B,I,K,I,K,O,Y;wB;wB,Y;oB;gB,G;oB,I,G;iB;gB,I,G;gB,G,Y;oB,a;oB,O;wB,S,I,Y;oB;oB,O;wB,O,I,K,M;wB,U,S,G;4B,I,K,I,K,O,Y;wB;wB,Y;oB;gB,G;oB,I,G;iB;a,E;Y,I,G;Y,G,O;gB,a;Y,G;gB,I,K,M,a,I,Y,Y,G,uB;oB,O;wB,a,I,K,M;wB,iB,I,K,M;wB,c,I,K,M;wB,iB,I,K,M;oB;oB,I;wB,Y,I;oB;gB,K,A,I,K,M,a,I,Y,O,G,kB;oB,O;wB,kB,I,K,M;wB,iB,I,K,M;oB;oB,I;wB,Y,I;oB;gB,K,A,I,K,M,a,I,Y,Q,G,yB;oB,O;wB,a,I,K,M;oB;oB,I;wB,Y,I;oB;gB,K,I;a,E;S;K,E;A;A,I,kB,E;A,Q,S;A,Q,kB;;;;;AAff,IAAI,OAAO,KAAO;kBAEH,CAAA,UAEf;;;A,I,S;I,I,M,I;I,I,K,I;I,I,K,I,M,M;I,O,G,O;Q,a;I,G;Q,I,W,G,O;Y,a;Q,G;Y,G,e;gB,O;oB,Q,I;oB,Q,I;gB;gB,I;oB,Q,I;gB;Y;Y,I,G;Y,G,gB;gB,O;oB,Q,I;gB;Y;Y,I,G;Y,G,a;gB,O;oB,Q,I;gB;Y;S,E,K,G,O;Y,a;Q;K;A;A,I,kB,E;A,Q,S;A,Q,kB;;;;;APJA,IAAI,OAAO,KAAO;kBAEH,CAAA,UAEf;;;;;AQJA,IAAI;AACJ,IAAI,aAAa;IACf,SAAS,QAAQ;IACjB,IAAI,OAAO,YAAY,SAAS,OAAO;IACvC,OAAO,SAAS,QAAQ,oBAAuC;IACrD,OAAO,kBAAkB,QAAQ,oBAAuC;IACxE,OAAO,WAAW;IAE5B,OAAO,eAAe,QAAQ,oBAAoC;IAClE,QAAQ,mBAAqC,QAAQ;IACrD,OAAO,YAAY;IACnB,OAAO,SAAS;AAClB;AACA;kBAEe;;;;;A;;A;;A;A;;A;A,I,gB;I,M;I,O;Q,M,C;Q,M,C;Q,O,C;I;I;Q,I,C,S;Y,S;Y,Q;Y,S;Y,O;Q;Q,O;Y,U;Y,c;Y,U,I,C,O;Q;I;I,S;Q,M;Y,I,C,W,I,C,O;Y,M,mB,I,C,K,Q,K,O,S;Y,M,oB,I,C,K,S,M,W,S,K,I,C,K,S,K,O,S;Y,M,iB,I,C,K,M,M,W,S,K,I,C,K,M,K,O,S;Y,iE;Y,I,C,e,M,I,C,a,I,C,K,U,I,C,K;Y,I,C,W;Y,W;Y,yB;Y,I;Y,2C;Y,I,C,W,I,C,O;Q;Q,M;Y,I,C,W,I,C,O;Y,I,Y,M,I,C;Y,I,C,Y,W,K,C;gB,I,C,kB,W,I,C;gB,I,C,e,I,C,O;Y,G,M,C;gB,I,C,e,I,C,O;gB,Q,M;YAoDf;Q;QAGA,gBAAA,MAAA;YACA,IAAA,CAAA,WAAA;Y,W;gBAEA,IAAA,CAAA,WAAA,IAAA,CAAA,OAAA;Y,G;QAEA;QAEA,MAAA,cAAA,YAAA,EAAA,SAAA;YACA,MAAA,MAAA,EAAA;YACA,MAAA,aAAA;YAEA,KAAA,MAAA,QAAA,IAAA,CAAA,KAAA,MAAA;gBACA,MAAA,WAAA,KAAA;gBAEA,MAAA,eAAA,MAAA,CAAA,GAAA,2BAAA,EAAA,SACA,UACA,cACA,IAAA,CAAA;gBAEA,M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,OAAO,KAAK,CAAC,EAAE,EAAE,KAAK,CAAC,EAAE;QAC/C,OAAO;IACT;AACF;;;A,I,S;I,I,M,I;I,I,K,I;I,I,K,I,M,M;I,O,G,O;Q,a;I,G;Q,I,a,I,O,S,G,O;Y,a;Q,G;Y,G,a;gB,a;gB,O;oB,Y,I;gB;gB,I;oB,S,I;gB;Y,G;gB,I,G;a;S,E,K,A,I,a,I,O,U,G,O;Y,a;Q,G;Y,G,uB;gB,O;oB,W;gB;Y;S,E,K,A,I,a,I,O,U,G,O;Y,a;Q,G;Y,G,W;gB,a;Y,G;gB,I,G;a;S,E,K,A,I,a,I,O,Q,G,O;Y,a;Q,G;Y,G,W;gB,a;Y,G;gB,I,G;a;S,E,K,I;K;A;A,I,kB,E;A,Q,S;A,Q,kB;;;;;AD3IA,IAAI,OAAO,KAAO;kBAEH,CAAA,UAEf;;;;;AEJA,IAAI;AACJ,IAAI,aAAa;IACf,SAAS,QAAQ;IACjB,IAAI,OAAO,YAAY,SAAS,OAAO;IACvC,OAAO,SAAS,QAAQ,oBAAgC;IAC9C,OAAO,kBAAkB,QAAQ,oBAAgC;IACjE,OAAO,WAAW;IAE5B,OAAO,eAAe,QAAQ,oBAA6B;IAC3D,QAAQ,mBAA8B,QAAQ;IAC9C,OAAO,YAAY;IACnB,OAAO,SAAS;AAClB;AACA;kBAEe;;;;;A;;A;A,I,gB;I,M;I,O;Q,M,C;Q,M,C;I;I;Q,O,C;I;I,S;Q;Y,M,iB,C,G,uD,E,U;Y,I,I,C,S,kB,I,C,K,M,W,G;gB,I,I,C,K,M,W,G,I,C,M,c;gB,I,C;Y,O,O,M,C,Y,E,e,I,E,I,C,K,K,C;Q;Q;Y,I,C,K,Q,E;Y,I,C,M;Q;Q,M;Y,M,qB,O,O,Y,O;Y,M,Y,M,I,C,a;Y,M,gB,U,I,O;gB,O,I,C,mB;Y;Y,I,iB,M,Q,I;Y,K,M,Y,e;gB,M,gB,I,C,W;gB,I,C,K,Q;uB,I,C,K;uB;iB;Y;Q;Q,c,U;Y,M,Q,W,I,C;gB,O,C,G,yD,E,a,G,O,G;Y;Y,O,Q,I;Q;QAyCf,oBAAA,EAAA;Y,I,Q,G,U,I,O;gBAEA,IAAA,OAAA,MAAA,OAAA,OAAA,iBAAA,gBACA,MACA,GAAA;gBAEA,OAAA,KAAA;YACA;YAEA,OAAA,QAAA,IAAA;QACA;QAEA,YAAA,KAAA;YACA,OAAA,MAAA,OAAA,CAAA;gB,M,Q,I,C,K,M,K,C,I,E,O,G;gBAEA,IAAA,OAAA,OAAA;gBACA,OAAA;YACA;Q;IAEA;IACA,UAAA;QACA;YACA,OAAA,IAAA,CAAA,QAAA,IAAA,CAAA,KAAA,QAAA,IAAA,CAAA,KAAA,MAAA,SAAA;QACA;I;AAEA;AAEA,IAAA,UAAA,OAAA,kBAAA,aAAA,cAAA,UAAA;kBACA,SAAA,wCAAA;;;A,I,S;I,I,M,I;I,I,K,I;I,I,K,I,M,M;I,O,G,O;Q,a;I,G;Q,G,O;Y,a;Q,G;Y,I,G,2B,I,G,I,O,I,O,U;S;Q,I,G;Q,G,O;Y,a;Q,G;Y,I,G,W,I,G,I,S;S;Q,I,G;Q,G,O;Y,a;Q,G;Y,G,a;gB,I;oB,S,I;gB;Y,G;gB,G,W;oB,I,G;iB;gB,I,G;gB,G,c;oB,O;wB,Y;oB;gB,G;oB,I,G;iB;a,E;Y,I,G;Y,G,a;gB,I;oB,S,I;gB;Y,G;gB,G,W;oB,I,G;iB;gB,I,G;gB,G,c;oB,O;wB,Y;oB;gB,G;oB,I,G;iB;a,E;S,E;K;A;A,I,kB,E;A,Q,S;A,Q,kB;;;;;AApFA,IAAI,OAAO,KAAO;kBAEH,CAAA,UAEf;;;;;ACLA;;kBAEe;IACb,OAAO,EAAE;IACT,SAAS;QACP,QAAQ;QACR,IAAI;QACJ,MAAM;IACR;IACA,UAAU;QACR,UAAU,CAAA,GAAA,oBAAU,EAAE;QACtB,UAAU;QACV,MAAM;QACN,OAAO;QACP,WAAW;QACX,OAAO;QACP,YAAY;IACd;IACA,OAAO;QACL,UAAU,CAAA,GAAA,oBAAU,EAAE;QACtB,UAAU;QACV,MAAM;QACN,OAAO;QACP,WAAW;QACX,OAAO;QACP,YAAY;IACd;AACF;;;A,I,S;I,I,M,I;I,I,K,I;I,I,K,I,M,M;I,O,G,O;Q,a;I,G;Q,G,e;Y,a;Y,O;gB,e;gB,qB;Y;Y,I;gB,c,I;Y;Q,G;Y,G,W;gB,O;oB,M;oB,Y;oB,kB;gB;Y,G;gB,G,c;oB,a;gB,G;oB,G,kB;wB,O;4B,Q,I;4B,Q,I;wB;wB,I;4B,c,I;wB;oB;iB,E;a,E;Y,I,G;Y,G,W;gB,O;oB,M;oB,Y;oB,kB;oB,Y,I;gB;Y,G;gB,G,c;oB,a;gB,G;oB,G,sB;wB,O;4B,Q,I;4B,Q,I;wB;oB;iB,E;a,E;Y,I,G;Y,G,W;gB,O;oB,M;oB,Y;oB,kB;gB;Y,G;gB,G,c;oB,a;gB,G;oB,G,0B;wB,O;4B,Q,I;4B,Q,I;4B,S,I;wB;oB;iB,E;a,E;S,E;K,E;A;A,I,kB,E;A,Q,S;A,Q,kB;;;;;AZ1BA,IAAI,OAAO,KAAO;kBAEH,CAAA,UAEf;;;;;AaJA,IAAI;AACJ,IAAI,aAAa;IACf,SAAS,QAAQ;IACjB,IAAI,OAAO,YAAY,SAAS,OAAO;IACvC,OAAO,SAAS,QAAQ,oBAA+B;IAC7C,OAAO,kBAAkB,QAAQ,oBAA+B;IAChE,OAAO,WAAW;IAE5B,OAAO,eAAe,QAAQ,oBAA4B;IAC1D,QAAQ,oBAA6B,QAAQ;IAC7C,OAAO,YAAY;IACnB,OAAO,SAAS;AAClB;AACA;kBAEe;;;A,gF;;;A;;A;;A;;A;;A,I,gB;I,M;I,Y;Q,c,C,G,sC;Q,iB,C,G,iC;Q,gB,C,G,wC;I;I,O;Q;K;I;Q,O;Y,Y;Y,c;Y,M,E;Y,U;Y,c;Y,mB,E;Y,a;Q;I;I,S;Q,M,Q,M;Y,I,C,e,O;Y,I,C,W,O;Y,I,C,oB,M,C,G,yB,E;Y,I,C,c,M,C,G,yB,E;Q,yE;Q;Q,M;Y,I,C,c,M,C,G,yB,E;Q;Q,M;Y,I,C,oB,M,C,G,yB,E;Y,I,C,c,M,C,G,yB,E;Q;Q,S,M;Y,gB;Y,wD;Y,I;Y,I,C;Y,I,C,a;Q;Q,a,W;Y,I,O,I,C,c,Y,I,C,U;Q;Q,kB;Q,qC;Q,yC;Q,6C;Q,U;Q,mB;Q,6E;Q,gD;Q,kC;Q,yB;Q,6B;Q,c;Q,U;Q,Q;Q,+B;Q,sE;Q,oB;Q,yB;Q,kC;Q,yB;Q,Y;QAiEf,QAAA;QACA,MAAA;Q,K;QAGA,YAAA,OAAA,EAAA,IAAA;YACA,OAAA,CAAA,GAAA,yBAAA,EAAA,YAAA,MAAA,KAAA,CAAA;gB,I,M,G,M,S,GAEA,OAAA,GAAA;gBAGA,IAAA,MAAA,EAAA;gBACA,QAAA,QAAA,CAAA;oBACA,IAAA,QAAA,IAAA,KAAA,CAAA,MAAA,IAAA,aAAA,GAAA;oBAEA,IAAA,OACA,MAAA,WAAA,KAAA;wBACA,MAAA;wBACA,OAAA,GAAA;wBACA,MAAA,GA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GA,OAAO,kBAAkB,eAAe,EAAE,oBAAoB,EAAE;QAC9D,IAAI,WAAW,CAAA,GAAA,+CAAiB,EAAE,YAAY;QAE9C,IAAI,UACF,SAAS,aAAa,KAAK,CAAA;YACzB,QAAQ,IAAI;QACd;IAGJ;AA6BF;kBA1LqB;;;;;AClCrB,IAAI;AACJ,IAAI,aAAa;IACf,SAAS,QAAQ;IACjB,IAAI,OAAO,YAAY,SAAS,OAAO;IACvC,OAAO,SAAS,QAAQ,oBAAsC;IACpD,OAAO,kBAAkB,QAAQ,oBAAsC;IACvE,OAAO,WAAW;IAE5B,OAAO,eAAe,QAAQ,oBAAmC;IACjE,QAAQ,oBAAoC,QAAQ;IACpD,OAAO,YAAY;IACnB,OAAO,SAAS;AAClB;AACA;kBAEe;;;A,mF;;;A;;A;;A;;A,I,gB;I,M;I,Y;Q,kB,C,G,0B;Q,0B,C,G,8B;I;I,O;Q,M;Y,S,I;Q;Q,sB,C;I;I;Q,I,C;Q,O;Y,U;Y,uB;Y,mB;gB,M;gB,Y,E;Y;Q;I;I;I,uE;I;I,S;Q,M,gB,I;Y,I,C,W,C,I,C;Y,I,C,I,C,Y,M;gB,M,C,G,yB,E,kB,I,C,uB,I,C;gB,I,C,M;Y,O,I,C,I,C,Y,C,M,6C;Y,I,C,oB,K,M,K,U,I,C;Q;Q,M;Y,M,C,G,yB,E,0B,I,C;Y,I,C,M;Q;Q;Y,I,O,I,C,0B,a,O;Y,I,I,C,wB,I,C,qB,O,I,C,uB,O;Y,O;Q;Q,Y,G;Y,I,I,Y,I,O;gB,I,Q,I,C,kB,W,K,C;oB,O,G,S,I;gB;gB,I,O;oB,I,Y,M,W,K,C,K,G,S,I;oB,I,O,c,a,M,W,K;wB,M;wB,M,I;wB,I,K;oB;gB;Y;Q;Q,Y,G;Y,I,O,I,S,a,I,C,kB,a,I,C,kB,W,O,C;gB,O,G,O,I,S;Y;iB;gB,I,Q,I,C,kB,W,K,C;oB,O,G,O,I,S;gB;gB,I,O,M,a,M,W,O,C,K,G,O,I,K;Y;Q;Q,a,G;Y,I,Q,I,C,kB,W,K,C,K,G,S,I;Y,I,C,O,I,C,kB,W,K;gB,I,K;gB,M,I;gB,Y,E;Y;Q;I;I,O;Q;Y,I,Q,I,C,K,K,C,K,G,O,I,C;Y,I,C,oB,K,M,K,U;Y,I,C,W,K,M,K,U;Q;I;A;A,I,U,O,kB,a,c,U;kB,S,wC;;;;;ACff,IAAI;AACJ,IAAI,aAAa;IACf,SAAS,QAAQ;IACjB,IAAI,OAAO,YAAY,SAAS,OAAO;IACvC,OAAO,SAAS,QAAQ,oBAA8B;IAC5C,OAAO,kBAAkB,QAAQ,oBAA8B;IAC/D,OAAO,WAAW;IAE5B,OAAO,eAAe,QAAQ,oBAA2B;IACzD,QAAQ,oBAA4B,QAAQ;IAC5C,OAAO,YAAY;IACnB,OAAO,SAAS;AAClB;AACA;kBAEe;;;;;A;;A,I,gB;I,M;I,Y;Q,kB,C,G,0B;I;I,O;Q,Y,C;Q,S;Y,M;Y,S;Q;Q,U;Y,M;Y,S;Q;I;I,S;Q,e,G;Y,I,C,M,O;Q;Q,Q,Q,E,U,E,S;Y,I,O;gB,U;gB,M;Y;Y,I,C,M,U;Q;I;A;A,I,U,O,kB,a,c,U;kB,S,wC;;;A,I,S;I,I,M,I;I,I,K,I;I,I,K,I,M,M;I,O,G,O;Q,a;I,G;Q,I,c,I,W,S,I,G,U;Y,a;Y,O;gB,U;gB,Q;gB,Q;Y;Q,G,I,G,I,Y,S,I,E,K;Y,O,G,gB;gB,K;gB,O;oB,gB;oB,e;oB,Y;oB,a;gB;Y,G;gB,G,e;oB,O;wB,Q;oB;oB,M;gB,G;oB,G,uB;wB,G,qB;4B,I,G,I,G,K;yB;qB,E;oB,I,G;oB,I,W,G,sB;wB,G,kB;4B,O;gC,Y,K;4B;4B,I;gC,O,I;4B;wB;qB,E,K,I;oB,I,G;oB,I,W,G,sB;wB,G,S;4B,O;gC,Q;gC,Q;gC,S;gC,S;gC,S;4B;4B,I;gC,S,S,M;oC,O;oC,O,I,O,M;gC;4B;wB,G;4B,G,U;gC,I,G;6B;yB,E;qB,E,K,I;iB,E;gB,I,G;gB,I,G,K,Y,S,O,E,Q;oB,O,G,e;wB,K;oB,G;wB,G,sB;4B,G,c;gC,O;oC,Y,C,I;oC,S;gC;gC,O;oC,O,Q;oC,U,S,G;wC,I,K,S,Q;oC;oC,Y;gC;4B;yB,E;wB,I,G;wB,G,uB;4B,G,qB;gC,I,G,I,G,Q;6B;yB,E;wB,I,G;wB,I,W,G,sB;4B,G,S;gC,O;oC,Q;oC,Q;oC,S;oC,S;oC,S;gC;gC,I;oC,S,S,M;wC,O,I,O,M,O;oC;gC;4B,G;gC,G,U;oC,I,G;iC;6B,E;yB,E,K,I;qB,E;gB;a,E;Q,I,K,I;Q,I,G;Q,I,c,I,W,W,I,G,O;Y,a;Q,G;Y,I,G,W,I,G,I,W;S,I,I;K,E;A;A,I,kB,E;A,Q,S;A,Q,kB;;;;;AAff,IAAI,OAAO,KAAO;kBAEH,CAAA,UAEf;;;A,I,S;I,I,M,I;I,I,K,I;I,I,K,I,M,M;I,O,G,O;Q,a;I,G;Q,C,I,W,G,O;Y,a;Q,G;Y,G,O;gB,a;Y,G;gB,G,Y;oB,G,S;wB,O;4B,O;wB;oB,G;wB,I,G;qB;oB,I,G;oB,G,a;wB,O;4B,Q;4B,M;wB;wB,O;4B,O,I;4B,U,S,G;gC,I,wB;4B;4B,Y;wB;oB,G,I,G,I,M,S,a,E,K;wB,O,G,a;4B,K;4B,O;gC,S,c;4B;wB,G;4B,I,G,I,G,c,Q;yB;oB,I;iB,E;a,E;Y,I,G;Y,G,O;gB,a;Y,G;gB,C,I,2B,G,S;oB,O;wB,W;wB,Y,C,I;wB,S;oB;oB,I;wB,S,I;oB;gB,G;oB,I,G;iB,I,I;gB,I,G;gB,I,2B,G,W;oB,O;wB,S;wB,S;wB,W;wB,Q;oB;gB,G;oB,I,G;iB,I,I;a,E;S,I,I;Q,I,G;Q,I,wB,G,O;Y,a;Y,O;gB,wB,I;Y;Q,G;Y,G,O;gB,a;Y,G;gB,G,O;oB,I,G,I,G,I,kB;iB;gB,I,G;gB,G,O;oB,a;gB,G;oB,I,W,G,S;wB,O;4B,O;4B,Q;4B,W;4B,S;4B,S;wB;wB,I;4B,S,S,M;gC,O,I,e;4B;wB;oB,G;wB,G,U;4B,I,G;yB;qB,E,K,I;oB,I,G;oB,G,S;wB,O;4B,O;4B,Q;4B,W;4B,S;4B,S;wB;wB,I;4B,S,S,M;gC,O,I,e;4B;wB;oB,G;wB,G,U;4B,I,G,I,G,I,W,U;yB;qB,E;iB,E;a;Y,I,G;Y,G,0B;gB,a;gB,O;oB,c,I,kB;oB,Y,I;oB,W;gB;gB,I;oB,O,I;oB,U,I;gB;Y;Y,I,G;Y,G,O;gB,a;Y,G;gB,I,W,G,kB;oB,a;oB,I;wB,O,I;oB;gB,K,I;a,E;S,E,K,I;K;A;A,I,kB,E;A,Q,S;A,Q,kB;;;;;ADJA,IAAI,OAAO,KAAO;kBAEH,CAAA,UAEf;;;;;AEJA,IAAI;AACJ,IAAI,aAAa;IACf,SAAS,QAAQ;IACjB,IAAI,OAAO,YAAY,SAAS,OAAO;IACvC,OAAO,SAAS,QAAQ,oBAAiC;IAC/C,OAAO,kBAAkB,QAAQ,oBAAiC;IAClE,OAAO,WAAW;IAE5B,OAAO,eAAe,QAAQ,oBAA8B;IAC5D,QAAQ,oBAA+B,QAAQ;IAC/C,OAAO,YAAY;IACnB,OAAO,SAAS;AAClB;AACA;kBAEe;;;;;A;;A;;A;;A,I,gB;I,M;I,Y;Q,kB,C,G,0B;Q,0B,C,G,8B;I;I,O;Q,sB,C;I;I;Q,O;Y,mB,C;Q;I;I;Q,I,C,oB,O,O,C,G,I,C;I;I,S;Q,M;Y,M,C,G,yB,E,kB,I,C,kB,I,I,C;Y,I,C,M;Q;Q,a,G;Y,I,Q,I,C,kB,W,K,C,K,G,S,I;Y,I,C,O,I,C,kB,W,K;gB,I,K;gB,M,I;gB,Y,E;Y;Q;Q,Y,G;Y,I,I,Y,I,O;gB,I,Q,I,C,kB,W,K,C;oB,O,G,S,I;gB;gB,I,O;oB,I,Y,M,W,K,C,K,G,S,I;oB,I,O,c,a,M,W,K;wB,M;wB,M,I;wB,I,K;oB;gB;Y;Q;Q,Y,G;Y,I,O,I,S,a,I,C,kB,a,I,C,kB,W,O,C;gB,O,G,O,I,S;Y;iB;gB,I,Q,I,C,kB,W,K,C;oBAwDf,OAAA,GAAA,OAAA,IAAA,SAAA;gBACA;gBAEA,IAAA,O,M,a,M,W,OAEA,CAAA,KAAA,GAAA,OAAA,IAAA,KAAA;YAGA;QACA;IACA;IACA,OAAA;QACA;YACA,IAAA,CAAA,oBAAA,OAAA,OAAA,CAAA,GAAA,IAAA,CAAA;QACA;IACA;AACA;AAEA,IAAA,UAAA,OAAA,kBAAA,aAAA,cAAA,UAAA;kBACA,SAAA,wCAAA;;;A,I,S;I,I,M,I;I,I,K,I;I,I,K,I,M,M;I,O,A,I,oB,G,O;Q,a;I,G;Q,G,O;Y,a;Q,G;Y,G,O;gB,I,G,I,G,I,kB;a;S;Q,I,G;Q,G,0B;Y,a;Y,O;gB,c,I,kB;gB,Y;gB,W;Y;Y,I;gB,O,I;gB,U,I;Y;Q;Q,I,G;Q,G,O;Y,a;Q,G;Y,G,kB;gB,a;gB,I;oB,O,I;gB;Y;Y,I,G;Y,G,S;gB,O;oB,W;oB,S;gB;gB,I;oB,S,I;gB;Y,G;gB,G,U;oB,O;wB,Q;oB;gB,G;oB,I,G;iB;gB,I,G;a,E;S,E;K,E,K,G,O;Q,a;I,G;Q,I,G;K;A;A,I,kB,E;A,Q,S;A,Q,kB;;;;;AA1FA,IAAI,OAAO,KAAO;kBAEH,CAAA,UAEf;;;;;ACJA,IAAI;AACJ,IAAI,aAAa;IACf,SAAS,QAAQ;IACjB,IAAI,OAAO,YAAY,SAAS,OAAO;IACvC,OAAO,SAAS,QAAQ,oBAAwC;IACtD,OAAO,kBAAkB,QAAQ,oBAAwC;IACzE,OAAO,WAAW;IAE5B,OAAO,eAAe,QAAQ,oBAAqC;IACnE,QAAQ,oBAAsC,QAAQ;IACtD,OAAO,YAAY;IACnB,OAAO,SAAS;AAClB;AACA;kBAEe;;;;;A;;A;;A;;A,I,gB;I,M;I,Y;Q,kB,C,G,0B;Q,0B,C,G,8B;I;I;Q,O;Y,M;gB,W;gB,Y,E;Y;Q;I;I,S;Q;Y,O,I,C,K,U,O,W,K,I,C,K,W,W;Q;Q,e,G;Y,I,I,Y,I,O;gB,I,Q,I,C,K,W,K,C;oB,O,G,S,I;gB;gB,I,O;oB,I,Y,M,W,K,C,K,G,S,I;oB,I,O,c,a,M,W,K;wB,M;wB,M,I;wB,I,K;oB;gB;Y,O,I,I,U;gB,I,Q,I,C,K,W,K,C,K,G,S,I;gB,I,C,O,I,C,K,W,K;oB,I,K;oB,M,I;oB,Y,E;gB;Y;Q;Q;Y,C,G,yB,E,oB,I,C,K,U,Q,I,C,K,Y,K,C;gB,I,O,Q,a;oB,I,C,K,Y;oB,I,C,K,a,E;gB;gB,I,C,M;Y;Q;I;A;A,I,U,O,kB,a,c,U;kB,S,wC;;;A,I,S;I,I,M,I;I,I,K,I;I,I,K,I,M,M;I,O,G,O;Q,a;I,G;Q,G,O;Y,a;Q,G;Y,G,Y;gB,G,S;oB,I,G;iB;gB,I,G;gB,G,Y;oB,O;wB,O,I,K;wB,U,S,G;4B,I,K,I,M,a;wB;wB,Y;oB;gB;a,E;Y,I,G;Y,G,0B;gB,O;oB,c,I,K;oB,W;gB;gB,I;oB,O,I;gB;Y;S,E;Q,I,G;Q,G,O;Y,a;Q,G;Y,G,O;gB,a;Y,G;gB,G,kB;oB,I;wB,O,I;oB;gB;gB,I,G;gB,G,O;oB,a;gB,G;oB,G,a;wB,a;wB,O;4B,S;4B,Y,I;wB;wB,I;4B,S,I;wB;oB,G;wB,G,W;4B,I,G;yB;wB,I,G;qB,E;iB,E;a,E;S;K;A;A,I,kB,E;A,Q,S;A,Q,kB;;;;;AAff,IAAI,OAAO,KAAO;kBAEH,CAAA,UAEf;;;A,I,S;I,I,M,I;I,I,K,I;I,I,K,I,M,M;I,O,G,a;Q,a;Q,O;Y,a,I;Q;Q,I;Y,mB,S,M;gB,I,a;Y;Y,oB,S,M;gB,I,a;Y;Y,a,S,M;gB,O,I,Y;Y;Q;I,G;Q,G,mB;Y,a;gB,c;Y;Q,G;Y,I,G;S;Q,I,G;Q,G,qB;Y,a;gB,Y;Y;Q,G;Y,G,W;gB,a;gB,O;oB,gB;gB;gB,I;oB,c,I;gB;Y,G;gB,G,U;oB,O;wB,M;wB,Y;wB,W;oB;gB;gB,I,G;gB,G,U;oB,O;wB,M;wB,Y;wB,W;oB;gB;gB,I,G;gB,G,U;oB,O;wB,M;wB,Y;wB,W;oB;gB;a,E;Y,I,G;Y,G,O;gB,a;Y,G;gB,I,iB,I,G,iB;oB,O;wB,wB,I;oB;oB,I;wB,W,I;oB;gB,K,I;gB,I,G;gB,I,iB,I,G,c;oB,O;wB,Q,I;wB,wB,I;oB;oB,I;wB,U,I;wB,W,I;oB;gB,K,I;gB,I,G;gB,I,iB,I,G,gB;oB,I;wB,W,I;oB;gB,K,I;a,E;S,E;Q,I,G;Q,G,qB;Y,G,a;gB,a;gB,I;oB,S,S,M;wB,O,I,Y;oB;gB;Y,G;gB,I,G;a;S,E;K,E;A;A,I,kB,E;A,Q,S;A,Q,kB;;;;;ALJA,IAAI,OAAO,KAAO;kBAEH,CAAA,UAEf;;;;;AMJA,IAAI;AACJ,IAAI,aAAa;IACf,SAAS,QAAQ;IACjB,IAAI,OAAO,YAAY,SAAS,OAAO;IACvC,OAAO,SAAS,QAAQ,mBAA6C;IAC3D,OAAO,kBAAkB,QAAQ,mBAA6C;IAC9E,OAAO,WAAW;IAE5B,OAAO,eAAe,QAAQ,oBAA0C;IACxE,QAAQ,oBAA2C,QAAQ;IAC3D,OAAO,YAAY;IACnB,OAAO,SAAS;AAClB;AACA;kBAEe;;;;;A;A;;A,I,gB;I,M;I,O;Q;K;I;Q,I,C,S,O,O;Y,O;Y,S;Y,O;Y,Q;Q;Q,O;Y,U,I,C,O;Y,Y;Y,M,E;Y,U,I;Y,U,K;Q;I;I,S;Q,M,Q,M;Y,I,C,W,I,C,O;Y,I,C,W,O;Y,I,C,a,O;Y,M,Y,I,C,a,O;Y,M,O,I,C,gB;Y,I,C,O,M,I,C,yB,M,O;Y,I,I,C,M,I,C,W,I,C,O;iB,I,C,W,I,C,O;Q,kE;Q,8D;Q;Q,M,S,M;Y,I,C,W,I,C,O;Y,I,U,I,C,M,I,C,e,K;gB,I,C,W,I,C,O;gB,I,C;gB,W;oB,I,C,a;gB,G;Y,G,M,C;gB,I,C,W,I,C,O;Y;iB;gB,I,C,a;gB,I,C;Y;QAoDf,2BAAA;Q;QAGA,aAAA,WAAA;YACA,IAAA,OAAA,IAAA,CAAA,cAAA,YACA,IAAA,CAAA,UAAA;QAEA;QAEA,iBAAA,SAAA;YACA,OAAA,UAAA,IAAA,CAAA;gBACA,IAAA,MAAA;oBAAA,IAAA;oBAAA,YAAA,EAAA;gBAAA;gBAEA,IAAA,KAAA,IAAA,CAAA,iBAAA;gBACA,IAAA,OAAA,IAAA,CAAA,OAAA;gBAEA,MAAA,QAAA;oBAAA;oBAAA;oBAAA;iBAAA;gBAEA,KAAA,MAAA,OAAA,OAAA,KAAA,MAAA;oBACA,sCAAA;oBAEA,IAAA,MAAA,QAAA,IAAA,mBAAA,IAAA;oBAEA,MAAA,OAAA,IAAA,MAAA;oBAEA,IAAA,WAAA,KAAA;wB,U,I,C,E,G,I,C,E,G;wBAEA,OAAA,IAAA,CAAA,EAAA,GAAA,IAAA,CAAA,EAAA,GAAA;wB,O,I,C,I,G,I,C,I,G;oBAEA;gB;gB,O;YAIA;Q;QAGA,cAAA,SAAA;YACA,MAAA,OAAA,EAAA;YACA,KAAA,MAAA,UAAA,OAAA,OAAA,WACA,KAAA,QAAA;YAEA,OAAA;Q;QAGA,cAAA,YAAA;Y,K,M,W,a;gBAEA,MAAA,UAAA,CAAA;gBACA,KAAA,MAAA,QAAA,QAAA,W,O,C,C,E,K,S,C,E,K,M,C,C,G;oBAEA,OAAA,KAAA;oBACA,cAAA,KAAA;gBACA;gBAEA,IAAA,CAAA,SAAA,IAAA,QAAA,IAAA;YACA;QACA;QAEA,0BAAA,SAAA,EAAA,YAAA;YACA,MAAA,OAAA,EAAA;YACA,KAAA,MAAA,gBAAA,UAAA;gBACA,IAAA,QAAA,aAAA,KAAA,CAAA,KAAA,GAAA,OAAA,aAAA;gBAEA,IAAA,SAAA,MAAA,YAAA;oBACA,MAAA,WAAA,IAAA,CAAA,aAAA,OAAA;oB,I,O,a,aAGA;yBACA,I,YAEA,CAAA,SAAA,WAAA,SAAA,WAAA,SAAA,CAAA,GAEA,KAAA,KAAA;gBAEA;Y;YAGA,OAAA;QACA;QAEA,MAAA;YACA,MAAA,WAAA,EAAA;YAEA,KAAA,MAAA,SAAA,IAAA,CAAA,K,wD;YAEA,+BAAA;YACA,IAAA,SAAA,MAAA,YAAA;gB,I,M,SAEA,MAAA,IAAA,CAAA,aAAA,MAAA,IAAA,MAAA;gB,K,M,Q,M,WAIA,yCAAA;gBACA,qCAAA;gBACA,cAAA;gBACA,gDAAA;gBACA,qCAAA;gBACA,qBAAA;gB,6D;gBAEA,gCAAA;gBACA,SAAA,KACA,CAAA,GAAA,wBAAA,EAAA,qB,M,IAEA,KAAA,UACA,KAAA,OACA,KAAA;Y;YAQA,OAAA,QAAA,IAAA;QACA;QAEA,cAAA,SAAA,EAAA,SAAA;YACA,IAAA,MAAA;gBACA,IAAA,UAAA;gBACA,YAAA,EAAA;YACA;YAEA,IAAA,UAAA,SAAA,UAAA,M,I,U,U;YAIA,KAAA,MAAA,QAAA,UAAA,WAAA;gBACA,IAAA,YAAA,UAAA,WAAA,KAAA,CAAA;oB,O,K,a,G,Y,K,U,G;gBAEA;gB,I,a,U,S,K,OAGA,IAAA,WAAA,KAAA;YAEA,+CAAA;YACA,YAAA;YACA,IAAA;YACA;YAEA,OAAA;QACA;Q,c,M,E,O;YAGA,MAAA,WAAA,CAAA,GAAA,+CAAA,EAAA,YAAA;YACA,IAAA,U,S,K,K,I;QAGA;IAoCA;AACA;AAEA,IAAA,UAAA,OAAA,kBAAA,aAAA,cAAA,UAAA;kB,S,wC;;;A,I,S;I,I,M,I;I,I,K,I;I,I,K,I,M,M;I,O,G,a;Q,O;Y,a,I;Q;Q,I;Y,mB,S,M;gB,I,a;Y;Y,oB,S,M;gB,I,a;Y;Y,a,S,M;gB,O,I,Y;Y;Q;I,G;Q,G,mB;Y,a;Q,G;Y,I,G;S;Q,I,G;Q,G,qB;Y,a;Q,G;Y,I,a,I,O,Q,G,O;gB,a;Y,G;gB,G,W;oB,a;gB,G;oB,I,G;iB;gB,I,G;gB,G,O;oB,I,G;iB;a,E,K,I;Y,I,G;Y,I,a,I,O,S,G,O;gB,a;Y,G;gB,G,O;oB,I,G;iB;a,I,A,I,a,I,O,U,G,O;gB,a;Y,G;gB,G,uB;oB,O;wB,W;oB;gB;a,E,K,A,I,a,I,O,Q,G,O;gB,a;Y,G;gB,G,W;oB,a;gB,G;oB,I,G;iB;gB,I,G;gB,G,O;oB,I,G;iB;gB,I,G;gB,G,O;oB,I,G;iB;a,E,K,I;S;Q,I,G;Q,G,qB;Y,G,a;gB,a;gB,I;oB,S,S,M;wB,O,I,Y;oB;gB;Y,G;gB,I,G;a;Y,I,G;Y,G,a;gB,a;gB,O;oB,Y,I,a,I,O;gB;gB,I;oB,S,S,M;wB,O,I,Y;oB;gB;Y,G;gB,I,G;a;S,E;K,E;A;A,I,kB,E;A,Q,S;A,Q,kB;;;;;AA5PA,IAAI,OAAO,KAAO;kBAEH,CAAA,UAEf;;;;;ACJA,IAAI;AACJ,IAAI,aAAa;IACf,SAAS,QAAQ;IACjB,IAAI,OAAO,YAAY,SAAS,OAAO;IACvC,OAAO,SAAS,QAAQ,oBAAyB;IACvC,OAAO,kBAAkB,QAAQ,oBAAyB;IAC1D,OAAO,WAAW;IAG5B,QAAQ,oBAAuB,QAAQ;IACvC,OAAO,YAAY;IACnB,OAAO,SAAS;AAClB;AACA;kBAEe;;;;;A,I,gB;I,M;I,O;Q;K;I;Q,O;Y,Y;Q;I;I,S;Q,Q,M,G;Q,M,S,M;Y;Y,I,C,a;Q;Q,a,W;Y,I,O,I,C,c,Y,I,C,U;Q;I;A;A,I,U,O,kB,a,c,U;kB,S,wC;;;A,I,S;I,I,M,I;I,I,K,I;I,I,K,I,M,M;I,O,G,a;Q,O;Y,a,I;Q;Q,I;Y,mB,S,M;gB,I,a;Y;Y,oB,S,M;gB,I,a;Y;Y,a,S,M;gB,O,I,Y;Y;Q;I,G;Q,G,mB;Y,a;Q,G;Y,I,G;S;Q,I,G;Q,G,qB;Y,a;Q,G;Y,G,M;gB,I,G;a;S;Q,I,G;Q,G,qB;Y,G,a;gB,a;gB,I;oB,S,S,M;wB,O,I,Y;oB;gB;Y,G;gB,I,G;a;Y,I,G;Y,G,a;gB,a;gB,I;oB,S,S,M;wB,O,I,Y;oB;gB;Y,G;gB,I,G;a;S,E;K,E;A;A,I,kB,E;A,Q,S;A,Q,kB;;;;;AAff,IAAI,OAAO,KAAO;kBAEH,CAAA,UAEf;;;;;ACJA,IAAI;AACJ,IAAI,aAAa;IACf,SAAS,QAAQ;IACjB,IAAI,OAAO,YAAY,SAAS,OAAO;IACvC,OAAO,SAAS,QAAQ,oBAAyB;IACvC,OAAO,kBAAkB,QAAQ,oBAAyB;IAC1D,OAAO,WAAW;IAE5B,OAAO,eAAe,QAAQ,oBAAsB;IACpD,QAAQ,oBAAuB,QAAQ;IACvC,OAAO,YAAY;IACnB,OAAO,SAAS;AAClB;AACA;kBAEe;;;;;A;A,I,gB;I,M;I,O;Q;K;I;Q,I,C,S,O,O;Y,O;Y,S;Y,O;Y,Q;Q;Q,O;Y,U,I,C,O;Y,Y;Y,M,E;Q;I;I,S;Q,Q,M;Y,I,C,W,I,C,O;Y,M,O,I,C,a;Y,I,C,O,I,C,W;Y,I,C,W,I,C,O;Q;Q,M,S,M;Y,I,C,W,I,C,O;Y,I,Q,I,C,e,I,C,M,K;gB,I,C,W,I,C,O;Y,G,M,C;gB,I,C,W,I,C,O;Y;iB,I,C,a;Q;Q,a,W;Y,I,O,I,C,c,Y,I,C,U;Q;Q,c,S;Y,M,O,E;Y,K,M,U,O,O,W,K,Q;Y,O;Q;Q,Y,Y;Y,M,O,E;Y,K,M,W,a;gB,I,gB,K,K,C;oB,O,G,K,iB,Q,S;gB;gB,I,O,kB,a;oBAkDf,gBAAA;wBACA,MAAA,QAAA;wBACA,QAAA,EAAA;oBACA;oBAEA,KAAA,KAAA;gBACA;gBAEA,IAAA,aAAA,cAAA,OAAA,KAAA,CAAA;oBACA,OAAA,GAAA,KAAA,iBAAA,QAAA,MAAA;gB;gBAGA,IAAA,OAAA,eAAA,aAAA;oBACA,aAAA;wBACA,MAAA,QAAA;wBACA,gBAAA,EAAA;oBACA;oBAEA,cAAA,OAAA,KAAA;gBACA;gBAEA,IAAA,qBAAA,WAAA,eAAA,KAAA,CAAA;oBACA,OACA,GAAA,KAAA,iB,O,C,uB,C;gBAGA;gBAEA,IAAA,OAAA,uBAAA,aAAA;oBACA,qBAAA;wBACA,MAAA,OAAA,CAAA,uBAAA;wBACA,YAAA,EAAA;oBACA;oBAEA,WAAA,eAAA,KAAA;gBACA;gBAEA,IAAA,yBAAA,mBAAA,WAAA,KACA,CAAA;oB,OAEA,GAAA,KAAA,kBACA,OAAA,CAAA,qBAAA,CAAA;gBAEA;gBAGA,IAAA,OAAA,2BAAA,aAAA;oBACA,yBAAA;wBACA,MAAA,OAAA,CAAA,qBAAA;wBACA,YAAA,EAAA;oBACA;oBAEA,mBAAA,WAAA,KAAA;gB;gBAGA,IAAA,iBAAA,uBAAA,WAAA,KAAA,CAAA;oB,OAEA,GAAA,KAAA,kBAAA,OAAA,CAAA,iBAAA,CAAA;gBAEA;gB,I,O,mB,aAGA,uBAAA,WAAA,KAAA;oBACA,MAAA;oBACA,MAAA,OAAA,CAAA,iBAAA;oBACA,IAAA,KAAA;gBACA;YAEA;Y,O;QAGA;QAEA,MAAA,gBAAA,IAAA;Y,K,M,Y,K;gBAEA,MAAA,aAAA,MAAA,IAAA,CAAA,gBAAA,SAAA;gBAEA,KAAA,MAAA,iBAAA,SAAA,OAAA;oBACA,MAAA,UAAA,MAAA,IAAA,CAAA,aACA,Y,c;oB,K,M,iB,c,e;wBAKA,MAAA,WAAA,MAAA,IAAA,CAAA,qBACA,SACA,cAAA;wBAGA,CAAA,GAAA,oCAAA,EAAA,kB,UAEA;oBAEA;gBACA;YACA;Q;QAGA,MAAA,iBAAA,IAAA;Y,M,W,M,C,G,oC,E,eAEA,MACA;YAGA,OAAA,SAAA,KAAA,GAAA;QACA;QAEA,MAAA,cAAA,UAAA,EAAA,IAAA;Y,M,Q,M,C,G,oC,E,YAEA,YACA,MACA;Y,O,M,K,G;QAIA;Q,M,sB,O,E,I;YAGA,MAAA,gBACA,MAAA,CAAA,GAAA,oCAAA,EAAA,oBAAA,SAAA;YAEA,OAAA,cAAA,KAAA,GAAA;QACA;I;AAEA;AAEA,IAAA,UAAA,OAAA,kBAAA,aAAA,cAAA,UAAA;kBACA,SAAA,wCAAA;;;A,I,S;I,I,M,I;I,I,K,I;I,I,K,I,M,M;I,O,G,a;Q,O;Y,a,I;Q;Q,I;Y,mB,S,M;gB,I,a;Y;Y,oB,S,M;gB,I,a;Y;Y,a,S,M;gB,O,I,Y;Y;Q;I,G;Q,G,mB;Y,a;Q,G;Y,I,G;S;Q,I,G;Q,G,qB;Y,a;Q,G;Y,I,a,I,O,Q,G,O;gB,a;Y,G;gB,G,W;oB,a;gB,G;oB,I,G;iB;gB,I,G;gB,G,O;oB,I,G;iB;a,E,K,I;Y,I,G;Y,I,a,I,O,S,G,O;gB,a;Y,G;gB,G,O;oB,I,G;iB;a,I,A,I,a,I,O,U,G,O;gB,a;Y,G;gB,G,uB;oB,O;wB,W;oB;gB;a,E,K,A,I,a,I,O,Q,G,O;gB,a;Y,G;gB,G,W;oB,a;gB,G;oB,I,G;iB;gB,I,G;gB,G,O;oB,I,G;iB;gB,I,G;gB,G,O;oB,I,G;iB;a,E,K,I;S;Q,I,G;Q,G,qB;Y,G,a;gB,a;gB,I;oB,S,S,M;wB,O,I,Y;oB;gB;Y,G;gB,I,G;a;Y,I,G;Y,G,a;gB,a;gB,O;oB,Y,I,a,I,O;gB;gB,I;oB,S,S,M;wB,O,I,Y;oB;gB;Y,G;gB,I,G;a;S,E;K,E;A;A,I,kB,E;A,Q,S;A,Q,kB;;;;;AAhMA,IAAI,OAAO,KAAO;kBAEH,CAAA,UAEf;;;;;ACJA,IAAI;AACJ,IAAI,aAAa;IACf,SAAS,QAAQ;IACjB,IAAI,OAAO,YAAY,SAAS,OAAO;IACvC,OAAO,SAAS,QAAQ,oBAAiC;IAC/C,OAAO,kBAAkB,QAAQ,oBAAiC;IAClE,OAAO,WAAW;IAE5B,OAAO,eAAe,QAAQ,oBAA8B;IAC5D,QAAQ,oBAA+B,QAAQ;IAC/C,OAAO,YAAY;IACnB,OAAO,SAAS;AAClB;AACA;kBAEe;;;;;A;;A;;A,I,gB;I,M;I,O;Q;K;I;Q,I,C,c,C,G,sB;Q,I,C,Y,C,G,uB;Q,O;Y,Y;Y,O;Y,U;Y,U;Y,Y;Y,O,E;Y,M;gB,O;Y;Y,U;Q;I;I,S;Q,Q,M;Y,I,C,W,O;Q;Q,S,M;Y,I,Q;gB,M,Q,I,C,S,I,C,O,I,C,U,I,C,U,I,C,M,K,K,I,C;gB,I,I,C,U,I,C,S,O,I,C,K;Y;Y,I,C,a;Q;Q,a,W;Y,I,O,I,C,c,Y,I,C,U;Q;Q,U,K,E,Q,E,Q,E,I,E,Y,G;Y,I;Y,O;gB,K;oB,I,U,Q,I,O,C,E,O,O,M,Q,C,E;yB,Q,I,O,C,C,E,O,O,M,Q,C,C,E;oB;gB,K;oB,Q,I,O,O;oB;Y;Y,O;Q;I;I,U;Q;Y,O,I,C,K;gB,K,I,C,Y;oB,O;gB,K,I,C,Y;oB,O;gB;oB;Y;Q;I;A;A,I,U,O,kB,a,c,U;kB,S,wC;;;;;kBChBA;IAEb;QACE,MAAM;QACN,OAAO;QACP,aAAa;IACf;IACA;QACE,MAAM;QACN,OAAO;QACP,aAAa;IACf;IACA;QACE,MAAM;QACN,OAAO;QACP,aAAa;IACf;IACA;QACE,MAAM;QACN,OAAO;QACP,aAAa;IACf;CACD;;;A,I,S;I,I,M,I;I,I,K,I;I,I,K,I,M,M;I,O,G,a;Q,a;Q,O;Y,a,I;Q;Q,I;Y,mB,S,M;gB,I,a;Y;Y,oB,S,M;gB,I,a;Y;Y,a,S,M;gB,O,I,Y;Y;Q;I,G;Q,G,mB;Y,a;Q,G;Y,I,G;S;Q,I,G;Q,G,qB;Y,a;Q,G;Y,G,O;gB,a;Y,G;gB,G,O;oB,a;gB,G;oB,G,W;wB,G,gB;4B,G,Y;gC,a;4B,G;gC,G,S;oC,I,G;iC;gC,I,G;gC,G,Q;oC,a;gC,G;oC,I,G,I,G,I;iC;gC,I,G;gC,G,Y;oC,O;wC,e;oC;oC,O;wC,O,I;wC,U,S,G;4C,I,Q;wC;wC,Y;oC;gC;gC,I,G;gC,G,Q;oC,a;gC,G;oC,I,G,I,G,I;iC;6B,E;yB,E;wB,I,G;wB,G,gB;4B,G,Y;gC,a;4B,G;gC,G,S;oC,I,G;iC;gC,I,G;gC,G,a;oC,O;wC,Q;wC,M;wC,Y;wC,Y;oC;oC,O;wC,O,I;wC,U,S,G;4C,I,Q;wC;wC,Y;oC;gC,G,I,G,I,W,S,I,E,K;oC,O,G,a;wC,K;wC,O;4C,S,K;wC;oC,G;wC,I,G,I,G,K;qC;gC,I;6B,E;yB,E;qB,E;iB,E;a;S;Q,I,G;Q,G,qB;Y,G,a;gB,a;gB,I;oB,S,S,M;wB,O,I,Y;oB;gB;Y,G;gB,I,G;a;Y,I,G;Y,G,a;gB,a;gB,I;oB,S,S,M;wB,O,I,Y;oB;gB;Y,G;gB,I,G;a;S,E;K,E;A;A,I,kB,E;A,Q,S;A,Q,kB;;;;;ADrBD,IAAI,OAAO,KAAO;kBAEH,CAAA,UAEf;;;;;AEJA,IAAI;AACJ,IAAI,aAAa;IACf,SAAS,QAAQ;IACjB,IAAI,OAAO,YAAY,SAAS,OAAO;IACvC,OAAO,SAAS,QAAQ,oBAA8B;IAC5C,OAAO,kBAAkB,QAAQ,oBAA8B;IAC/D,OAAO,WAAW;IAE5B,OAAO,eAAe,QAAQ,oBAA2B;IACzD,QAAQ,oBAA4B,QAAQ;IAC5C,OAAO,YAAY;IACnB,OAAO,SAAS;AAClB;AACA;kBAEe;;;;;A;;A;A,I,gB;I,M;I,O;Q;K;I;Q,I,C,S,O,O;Y,Q;Y,S;Y,O;Q;Q,O;Y,U,I,C,O;Y,Y;Y,M,C;Y,c;Q;I;I,S;Q,M,Q,M;Y,I,C,W,I,C,O;Y,I,C,O,M,I,C,W;Y,I,C,W,I,C,O;Q;Q,S,M;Y,I,Q;gB,M,Q,I,C,S,I,C;gB,C,G,6D,E,U,sB;oB,M,I,C;oB,O;gB;Y;Y,I,C,a;Q;Q,a,W;Y,I,O,I,C,c,Y,I,C,U;Q;Q,Y,M;Y,O,C,G,wB,E,W,O,I,O;Q;Q,U,I;Y,O,I,C,K,I,C,K;Q;Q;Y,O,I,C,a,O,W;Q;I;A;A,I,U,O,kB,a,c,U;kB,S,wC;;;A,I,S;I,I,M,I;I,I,K,I;I,I,K,I,M,M;I,O,G,a;Q,a;Q,O;Y,a,I;Q;Q,I;Y,mB,S,M;gB,I,a;Y;Y,oB,S,M;gB,I,a;Y;Y,a,S,M;gB,O,I,Y;Y;Q;I,G;Q,G,mB;Y,a;Q,G;Y,I,G;S;Q,I,G;Q,G,qB;Y,a;Q,G;Y,I,a,I,O,S,G,O;gB,a;Y,G;gB,G,Y;oB,G,S;wB,O;4B,O;wB;oB,G;wB,I,G;qB;oB,I,G;oB,G,a;wB,O;4B,Q;4B,M;wB;wB,O;4B,O,I;4B,U,S,G;gC,I,e;4B;4B,Y;wB;oB,G;wB,C,I,Q,I,K,M,W,I,G,a;4B,O;gC,Y;4B;wB,G;4B,I,G;yB,I,I;wB,I,G;wB,I,G,I,K,O,S,I,E,K;4B,O,G,a;gC,K;gC,O;oC,S;gC;4B,G;gC,I,G,I,G;6B;wB;qB,E;iB,E;a,E,K,I;Y,I,G;Y,I,a,I,O,U,G,O;gB,a;Y,G;gB,G,uB;oB,O;wB,W;oB;gB;a,E,K,I;S;Q,I,G;Q,G,qB;Y,G,a;gB,a;gB,I;oB,S,S,M;wB,O,I,Y;oB;gB;Y,G;gB,I,G;a;Y,I,G;Y,G,a;gB,a;gB,O;oB,Y,I;gB;gB,I;oB,S,S,M;wB,O,I,Y;oB;gB;Y,G;gB,I,G;a;S,E;K,E;A;A,I,kB,E;A,Q,S;A,Q,kB;;;;;AAff,IAAI,OAAO,KAAO;kBAEH,CAAA,UAEf;;;ACLA;;;;;;;;;;;;;;;;;;;;;;CAsBC,GAED,MAAM,EACJ,yBAAyB,EACzB,cAAc,EACf,GAAG,QAAQ;AAEZ,MAAM,uBAAuB,QAAQ,oBACnC,2BACA;AAGF,OAAO,UAAU;IACf;AACF;;;ACpCA;;;;;;;;;;;;;;;;;;;;;;CAsBC,GAED,SAAS,WAAW,MAAM;IACxB,MAAM,MAAM,CAAC;IACb,IAAI,OAAO,OAAO,YAAY,aAAa;QACzC,IAAI,UAAU;YACZ,MAAM,OAAO,QAAQ,QAAQ;YAC7B,OAAO,OAAO,QAAQ,SAAS;YAC/B,gBAAgB,OAAO,QAAQ,kBAAkB;YACjD,UAAU,CAAC;YACX,WAAW,CAAC;QACd;QACA,OAAO,OAAO,IAAI,QAAQ,UAAU,OAAO,QAAQ;QACnD,OAAO,OAAO,IAAI,QAAQ,WAAW,OAAO,QAAQ;IACtD;IAC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","sources":["node_modules/spinal-env-viewer-plugin-attribute-manager/index.js","node_modules/spinal-env-viewer-plugin-attribute-manager/src/js/events/eventRecepter.js","node_modules/spinal-env-viewer-plugin-attribute-manager/src/js/events/events.js","node_modules/spinal-env-viewer-plugin-attribute-manager/src/js/events/controllers.js","node_modules/spinal-env-viewer-room-manager/services/service.js","node_modules/spinal-env-viewer-room-manager/services/constants.js","node_modules/spinal-env-viewer-plugin-attribute-manager/src/js/register.js","node_modules/spinal-env-viewer-plugin-attribute-manager/src/vue/panels/attributePanel/panel.vue","node_modules/spinal-env-viewer-panel-manager-service/index.js","node_modules/spinal-env-viewer-panel-manager-service/SpinalPanelManagerService.js","node_modules/spinal-env-viewer-panel-manager-service/SpinalPanelApp.js","node_modules/spinal-env-viewer-panel-manager-service/SpinalMountExtention.js","node_modules/spinal-env-viewer-plugin-attribute-manager/src/vue/panels/attributePanel/components/typesList.vue","node_modules/spinal-env-viewer-plugin-attribute-manager/src/vue/panels/attributePanel/components/tablePage.vue","node_modules/spinal-env-viewer-plugin-attribute-manager/src/vue/panels/attributePanel/components/table/index.vue","node_modules/spinal-env-viewer-plugin-attribute-manager/src/vue/panels/attributePanel/components/table/tableContent.vue","node_modules/spinal-env-viewer-plugin-attribute-manager/src/services/index.js","node_modules/spinal-env-viewer-plugin-attribute-manager/src/services/classes/spinalAttributeService.js","node_modules/spinal-env-viewer-plugin-forge/dist/Constants.js","node_modules/spinal-env-viewer-context-geographic-service/build/constants.js","node_modules/spinal-env-viewer-context-geographic-service/src/constants.ts","node_modules/spinal-env-viewer-bim-manager-service/dist/index.js","node_modules/spinal-env-viewer-bim-manager-service/src/index.ts","node_modules/spinal-env-viewer-bim-manager-service/dist/bimObjects/bimService.js","node_modules/spinal-env-viewer-bim-manager-service/src/bimObjects/bimService.ts","node_modules/spinal-env-viewer-plugin-attribute-manager/src/services/classes/spinalConfigurationService.js","node_modules/spinal-env-viewer-plugin-attribute-manager/src/vue/panels/attributePanel/components/tooltips/createAttribute.vue","node_modules/spinal-env-viewer-plugin-attribute-manager/src/vue/panels/attributePanel/components/table/standard-buttons.vue","node_modules/spinal-env-viewer-plugin-attribute-manager/src/vue/panels/attributePanel/components/table/fabs.vue","node_modules/spinal-env-viewer-plugin-attribute-manager/src/vue/panels/attributePanel/components/tooltips/changeCol.vue","node_modules/file-saver/dist/FileSaver.min.js","node_modules/file-saver/src/FileSaver.js","node_modules/spinal-env-viewer-plugin-attribute-manager/src/vue/panels/configurationPanel/configurationPanel.vue","node_modules/spinal-env-viewer-plugin-attribute-manager/src/vue/panels/configurationPanel/components/configuration-crud.vue","node_modules/spinal-env-viewer-plugin-attribute-manager/src/vue/panels/configurationPanel/components/mdSelect.vue","node_modules/spinal-env-viewer-plugin-attribute-manager/src/vue/panels/configurationPanel/components/createItem.vue","node_modules/spinal-env-viewer-plugin-attribute-manager/src/vue/panels/configurationPanel/components/configurations.vue","node_modules/spinal-env-viewer-plugin-attribute-manager/src/vue/panels/configurationPanel/components/displayList.vue","node_modules/spinal-env-viewer-plugin-attribute-manager/src/vue/panels/attributePanel/components/tooltips/addItem.vue","node_modules/spinal-env-viewer-plugin-attribute-manager/src/vue/panels/configurationPanel/components/currentConfiguration.vue","node_modules/spinal-env-viewer-plugin-attribute-manager/src/vue/panels/generateGroupPanel/panel.vue","node_modules/spinal-env-viewer-plugin-attribute-manager/src/vue/panels/generateGroupPanel/components/configurationStep.vue","node_modules/spinal-env-viewer-plugin-attribute-manager/src/vue/panels/generateGroupPanel/components/context.vue","node_modules/spinal-env-viewer-plugin-attribute-manager/src/vue/panels/generateGroupPanel/components/category.vue","node_modules/spinal-env-viewer-plugin-attribute-manager/src/vue/panels/generateGroupPanel/js/data.js","node_modules/spinal-env-viewer-plugin-attribute-manager/src/vue/panels/generateGroupPanel/components/createByAttribute.vue","node_modules/spinal-env-viewer-plugin-attribute-manager/src/vue/panels/generateGroupPanel/components/createByName.vue","node_modules/spinal-env-viewer-plugin-attribute-manager/src/vue/panels/generateGroupPanel/components/createByFixedValue.vue","node_modules/spinal-env-viewer-plugin-attribute-manager/src/vue/panels/generateGroupPanel/components/group.vue","node_modules/spinal-env-viewer-plugin-attribute-manager/src/vue/panels/generateGroupPanel/components/launchGenerationStep.vue","node_modules/spinal-env-viewer-plugin-attribute-manager/src/vue/panels/generateGroupPanel/js/utilities.js","node_modules/spinal-env-viewer-plugin-attribute-manager/src/vue/panels/generateGroupPanel/components/selectionStep.vue","node_modules/spinal-env-viewer-plugin-attribute-manager/src/vue/panels/generateGroupPanel/js/data.config.js","node_modules/spinal-env-viewer-plugin-attribute-manager/src/vue/dialogs/paramsDialog.vue","node_modules/spinal-env-viewer-plugin-attribute-manager/src/js/utilities.js","node_modules/spinal-env-viewer-plugin-attribute-manager/src/vue/dialogs/components/editParamsComponent.vue","node_modules/spinal-env-viewer-plugin-attribute-manager/src/vue/dialogs/components/displayList.vue","node_modules/spinal-env-viewer-plugin-attribute-manager/src/vue/dialogs/components/paramsUploaded.vue","node_modules/spinal-env-viewer-plugin-attribute-manager/src/vue/dialogs/components/createParamsComponent.vue","node_modules/spinal-env-viewer-plugin-attribute-manager/src/vue/dialogs/importAttributeExcelDialog.vue","node_modules/spinal-env-viewer-plugin-attribute-manager/src/vue/panels/configurationPanel/dialogs/export.vue","node_modules/spinal-env-viewer-plugin-attribute-manager/src/vue/panels/configurationPanel/dialogs/import.vue","node_modules/spinal-env-viewer-plugin-attribute-manager/src/vue/panels/generateGroupPanel/dialogs/configurations.vue","node_modules/spinal-env-viewer-plugin-attribute-manager/src/vue/panels/generateGroupPanel/js/flags.js","node_modules/spinal-env-viewer-plugin-attribute-manager/src/vue/panels/generateGroupPanel/dialogs/select-type.vue","node_modules/spinal-env-viewer-panel-manager-service_spinalforgeextention/index.js","node_modules/spinal-env-viewer-panel-manager-service_spinalforgeextention/SpinalForgeExtention.js","node_modules/spinal-env-viewer-plugin-attribute-manager/src/buttons/index.js","node_modules/spinal-env-viewer-plugin-attribute-manager/src/buttons/openPanel.js","node_modules/spinal-env-viewer-context-menu-service/index.js","node_modules/spinal-env-viewer-context-menu-service/SpinalContextMenuService.js","node_modules/spinal-env-viewer-context-menu-service/SpinalContextApp.js","node_modules/spinal-env-viewer-context-menu-service/constants.js","node_modules/spinal-env-viewer-plugin-attribute-manager/src/buttons/openConfiguration.js","node_modules/spinal-env-viewer-plugin-attribute-manager/src/vue/panels/generateGroupPanel/buttons/index.js","node_modules/spinal-env-viewer-plugin-attribute-manager/src/vue/panels/generateGroupPanel/buttons/openSelectType.js","node_modules/@parcel/node-resolver-core/lib/_empty.js"],"sourcesContent":["import \"./src/js/events/eventRecepter\";\nimport \"./src/js/register\";\n\nimport { OPEN_PANEL_BTN, OPEN_CONFIGURATION_PANEL } from \"./src/buttons\";\n\nimport { OPEN_SELECT_TYPE_BTN } from \"./src/vue/panels/generateGroupPanel/buttons\";\n\nimport { spinalContextMenuService } from \"spinal-env-viewer-context-menu-service\";\n\nconst SIDEBAR = \"GraphManagerSideBar\";\n\nspinalContextMenuService.registerApp(SIDEBAR, new OPEN_PANEL_BTN(), [3]);\nspinalContextMenuService.registerApp(SIDEBAR, new OPEN_CONFIGURATION_PANEL(), [\n  3,\n]);\n\nspinalContextMenuService.registerApp(SIDEBAR, new OPEN_SELECT_TYPE_BTN(), [3]);\n","import EventBus from './events';\nimport controllers from './controllers'\n\nEventBus.$on(\"selectElement\", (data) => {\n  controllers.selectitemInViewer(data.id);\n})\n\nEventBus.$on(\"select\", (data) => {\n  controllers.selectObject(data);\n})\n\nEventBus.$on(\"isolate\", (data) => {\n  controllers.IsolateObject(data);\n})\n\nEventBus.$on(\"fitToView\", (data) => {\n  controllers.zoomObject(data);\n})","import Vue from 'vue';\n\nconst EventBus = new Vue();\n\nexport default EventBus;","import {\n  SpinalGraphService\n} from \"spinal-env-viewer-graph-service\"\n\nimport spinalGeographicService from \"spinal-env-viewer-context-geographic-service\";\n\n\nimport {\n  groupService\n} from \"spinal-env-viewer-room-manager/services/service\";\n\n\nexport default {\n\n  async selectitemInViewer(nodeId) {\n\n    const objects = await this.getBimObjectsAndOrganizeThem(nodeId);\n\n    // if (nodeInfo && this._isBimobjectOrRoom(nodeInfo.type.get())) {\n    //   const bimObjects = await this._getBimObjects(nodeInfo);\n    //   const objecs = this._organizeBimObject(bimObjects);\n\n    objects.forEach(el => {\n      let model = window.spinal.BimObjectService\n        .mappingBimFileIdModelId[el.bimFileId];\n\n      for (let j = 0; j < model.modelScene.length; j++) {\n        const scene = model.modelScene[j];\n\n        spinal.ForgeViewer.viewer.impl.selector.setSelection(el\n          .selection, scene.model);\n\n        spinal.ForgeViewer.viewer.isolate(el.selection, scene.model);\n        spinal.ForgeViewer.viewer.fitToView(el.selection);\n\n      }\n\n    })\n\n  },\n\n  async selectObject(nodeIds) {\n    const objects = await this.getBimObjectsAndOrganizeThem(nodeIds);\n\n    objects.forEach(el => {\n      let model = window.spinal.BimObjectService\n        .mappingBimFileIdModelId[el.bimFileId];\n\n      for (let j = 0; j < model.modelScene.length; j++) {\n        const scene = model.modelScene[j];\n\n        spinal.ForgeViewer.viewer.impl.selector.setSelection(el\n          .selection, scene.model);\n      }\n\n    })\n\n  },\n  async IsolateObject(nodeIds) {\n    const objects = await this.getBimObjectsAndOrganizeThem(nodeIds);\n\n    objects.forEach(el => {\n      let model = window.spinal.BimObjectService\n        .mappingBimFileIdModelId[el.bimFileId];\n\n      for (let j = 0; j < model.modelScene.length; j++) {\n        const scene = model.modelScene[j];\n\n        spinal.ForgeViewer.viewer.isolate(el.selection, scene.model);\n\n      }\n\n    })\n\n  },\n  async zoomObject(nodeIds) {\n    const objects = await this.getBimObjectsAndOrganizeThem(nodeIds);\n\n    objects.forEach(el => {\n      let model = window.spinal.BimObjectService\n        .mappingBimFileIdModelId[el.bimFileId];\n\n      for (let j = 0; j < model.modelScene.length; j++) {\n        const scene = model.modelScene[j];\n\n        spinal.ForgeViewer.viewer.fitToView(el.selection);\n\n      }\n\n    })\n\n  },\n\n\n  async getBimObjectsAndOrganizeThem(nodeIds) {\n    if (!Array.isArray(nodeIds)) nodeIds = [nodeIds];\n    const promises = [];\n\n\n    for (const nodeId of nodeIds) {\n      promises.push(this._getBimsOrganized(nodeId));\n    }\n\n    return Promise.all(promises).then(values => {\n      const res = [];\n      values = values.flat(2);\n\n      for (const obj of values) {\n        const found = res.find(el => el.bimFileId === obj.bimFileId);\n        if (typeof found === \"undefined\") {\n          res.push(obj);\n        } else {\n          found.selection.push(...obj.selection);\n        }\n      }\n\n      return res;\n\n    })\n\n  },\n\n\n\n  ////////////////////////////////////////////////////////////////////////////\n  //                                PRIVATES\n  ////////////////////////////////////////////////////////////////////////////\n\n  _isBimobjectOrRoom(nodeType) {\n    if (nodeType && spinalGeographicService.constants.GEOGRAPHIC_TYPES_ORDER\n      .indexOf(nodeType) !== -1) return true;\n\n    return false;\n  },\n\n  async _getBimObjects(nodeInfo) {\n    let type = nodeInfo.type.get()\n    let nodeId = nodeInfo.id.get();\n\n    if (type === spinalGeographicService.constants\n      .EQUIPMENT_TYPE) return [nodeInfo.get()]\n\n    else if (type === spinalGeographicService.constants.ROOM_TYPE) {\n      return SpinalGraphService.getChildren(nodeId, [spinalGeographicService\n        .constants\n        .REFERENCE_RELATION, spinalGeographicService.constants\n        .EQUIPMENT_RELATION\n      ]).then(children => {\n        return children.map(el => el.get());\n      });\n    } else {\n      //   let relations = [\n      //     ...spinalGeographicService.constants.GEOGRAPHIC_RELATIONS,\n      //     groupService.constants.CONTEXT_TO_CATEGORY_RELATION,\n      //     groupService.constants.GROUP_TO_ROOMS_RELATION,\n      //     groupService.constants.CATEGORY_TO_GROUP_RELATION,\n      //     groupService.constants.GROUP_TO_EQUIPMENTS_RELATION\n      //   ]\n    }\n\n  },\n  _organizeBimObject(bimObjects) {\n\n    let data = [];\n\n    bimObjects.forEach(bim => {\n      let found = data.find(el => el.bimFileId === bim.bimFileId);\n\n      if (found) {\n        found.selection.push(bim.dbid);\n      } else {\n        data.push({\n          bimFileId: bim.bimFileId,\n          selection: [bim.dbid]\n        });\n      }\n\n    })\n\n    return data;\n\n  },\n\n  async _getBimsOrganized(nodeId) {\n    const nodeInfo = SpinalGraphService.getInfo(nodeId);\n\n    if (nodeInfo && this._isBimobjectOrRoom(nodeInfo.type.get())) {\n      const bimObjects = await this._getBimObjects(nodeInfo);\n      const objects = this._organizeBimObject(bimObjects);\n      return objects;\n    }\n\n    return [];\n  }\n\n}","const {\n  SPINAL_RELATION_PTR_LST_TYPE,\n  SpinalGraphService\n} = require(\"spinal-env-viewer-graph-service\");\n\nconst {\n  Model\n} = require(\"spinal-core-connectorjs_type\");\n\nconst constants = require(\"./constants\");\n\n\nlet groupService = {\n  constants: constants,\n  createGroupContext(name, type) {\n    const context = SpinalGraphService.getContext(name);\n\n    if (typeof context !== \"undefined\") return Promise.resolve(false);\n\n    return SpinalGraphService.addContext(\n      name,\n      type,\n      new Model({\n        name: name\n      })\n    );\n  },\n  addElement(contextId, elementId, elementType, elementName, iconName,\n    color) {\n    let contextInfo = SpinalGraphService.getInfo(contextId)\n    let contextType = contextInfo && contextInfo.type ? contextInfo.type\n      .get() : undefined;\n\n    let typeAndRelation = this.getTypeAndRelation(elementType, contextType);\n\n\n    let type = typeAndRelation.type;\n    let relationName = typeAndRelation.relation;\n\n    if (typeof type !== \"undefined\" && typeof relationName !== \"undefined\") {\n      let info = {\n        name: elementName,\n        type: type\n      }\n\n      if (iconName) {\n        info[\"icon\"] = iconName;\n      }\n\n      if (color) {\n        info[\"color\"] = color;\n      }\n\n      let childId = SpinalGraphService.createNode(info,\n        new Model({\n          name: elementName\n        })\n      );\n\n\n      return SpinalGraphService.addChildInContext(\n        elementId,\n        childId,\n        contextId,\n        relationName,\n        SPINAL_RELATION_PTR_LST_TYPE\n      );\n    }\n\n    // // let type =\n    // //   contextType === ROOMS_GROUP_CONTEXT ? ROOMS_GROUP : EQUIPMENTS_GROUP;\n\n    // // let relationName =\n    // //   contextType === ROOMS_GROUP_CONTEXT ?\n    // //   ROOMS_GROUP_RELATION :\n    // //   EQUIPMENTS_GROUP_RELATION;\n\n\n\n  },\n  elementIsLinkedToGroup(groupId, elementId) {\n    let realNode = SpinalGraphService.getRealNode(groupId);\n    const type = realNode.getType().get();\n\n    let relationName = constants.GROUP_RELATION_ASSOCIATION.get(type)\n\n    try {\n      let ids = realNode.children[SPINAL_RELATION_PTR_LST_TYPE][relationName]\n        .children.info.ids;\n\n      return Promise.resolve(ids.has((el) => {\n        return el.get() === elementId\n      }))\n    } catch (error) {\n      // let type = SpinalGraphService.getInfo(groupId).type.get();\n      // let relationName = type === ROOMS_GROUP ? ROOMS_TO_ELEMENT_RELATION :\n      //   EQUIPMENTS_TO_ELEMENT_RELATION;\n\n      return SpinalGraphService.getChildren(groupId, [relationName]).then(\n        children => {\n          for (let i = 0; i < children.length; i++) {\n            const element = children[i];\n            if (element.id.get() === elementId) return true;\n\n          }\n          return false;\n        });\n    }\n\n  },\n  linkElementToGroup(groupId, elementId, contextId) {\n\n    let groupInfo = SpinalGraphService.getInfo(groupId);\n\n    let relationName = constants.GROUP_RELATION_ASSOCIATION.get(groupInfo.type\n      .get());\n\n\n    return this.getCategorie(groupInfo).then(category => {\n\n      return this.elementIsInCategorie(category[0].id.get(), elementId)\n        .then(\n          group => {\n            let result = {\n              old_group: undefined,\n              newGroup: groupId\n            }\n\n            if (typeof group !== \"undefined\") {\n              this.removeLink(group.id.get(), elementId);\n              result.old_group = group.id.get();\n            }\n\n            SpinalGraphService.addChildInContext(groupId,\n              elementId, contextId, relationName,\n              SPINAL_RELATION_PTR_LST_TYPE);\n\n\n            return result;\n\n          })\n    })\n\n  },\n  removeLink(groupId, elementId) {\n    let type = SpinalGraphService.getInfo(groupId).type.get();\n    let relationName = constants.GROUP_RELATION_ASSOCIATION.get(type);\n\n    return SpinalGraphService.removeChild(groupId, elementId,\n      relationName,\n      SPINAL_RELATION_PTR_LST_TYPE)\n  },\n  getTypeAndRelation(elementType, contextType) {\n\n    switch (elementType) {\n      case contextType:\n        return {\n          type: constants.CATEGORY_TYPE,\n            relation: constants.CONTEXT_TO_CATEGORY_RELATION\n        };\n\n        // case ROOMS_GROUP:\n        //   return {\n        //     type: \"undefined\",\n        //       relation:\n        //   };\n      case constants.CATEGORY_TYPE:\n        // eslint-disable-next-line no-case-declarations\n        let type = constants.CONTEXT_GROUP_ASSOCIATION.get(contextType);\n        return {\n          type: type,\n            relation: constants.CATEGORY_TO_GROUP_RELATION\n        };\n\n        // case constants.ROOMS_GROUP:\n        // case constants.EQUIPMENTS_GROUP:\n        // case constants.ENDPOINT_GROUP:\n        //   return {\n        //     type: \"\",\n        //       relation: constants.GROUP_RELATION_ASSOCIATION.get(elementType)\n        //   }\n\n      default:\n        return {};\n    }\n  },\n\n  getElementsLinked(groupId) {\n    let type = SpinalGraphService.getInfo(groupId).type.get();\n    let relationName = constants.GROUP_RELATION_ASSOCIATION.get(type);\n\n    return SpinalGraphService.getChildren(groupId, [relationName]);\n  },\n\n  getGroups(selectedNode) {\n\n    // const ROOMS_TYPES = [\n    //   ROOMS_GROUP_CONTEXT,\n    //   ROOMS_CATEGORY,\n    //   ROOMS_GROUP\n    // ]\n\n\n    let type = selectedNode.type.get();\n    let nodeId = selectedNode.id.get();\n\n    if (typeof constants.GROUP_RELATION_ASSOCIATION.get(type) !==\n      \"undefined\") {\n      return Promise.resolve([selectedNode]);\n    }\n\n    let relations = [\n      constants.CONTEXT_TO_CATEGORY_RELATION,\n      constants.CATEGORY_TO_GROUP_RELATION,\n      constants.GROUP_TO_ROOMS_RELATION,\n      constants.GROUP_TO_EQUIPMENTS_RELATION,\n      constants.GROUP_TO_ENDPOINT_RELATION\n    ];\n\n    return SpinalGraphService.findNodes(nodeId, relations, (node) => {\n      let argType = node.getType().get()\n      return typeof constants.GROUP_RELATION_ASSOCIATION.get(argType) !==\n        \"undefined\"\n    }).then(res => {\n      return res.map(el => {\n        SpinalGraphService._addNode(el);\n        return el.info;\n      })\n    })\n  },\n\n  getCategorie(selectedNode) {\n    let type = selectedNode.type.get();\n    let nodeId = selectedNode.id.get();\n\n    if (type === constants.CATEGORY_TYPE) {\n      return Promise.resolve(selectedNode);\n    } else if (constants.CONTEXTS_TYPES.indexOf(type) !== -1) {\n      return SpinalGraphService.getChildren(nodeId, [constants\n        .CONTEXT_TO_CATEGORY_RELATION\n      ]);\n\n    } else {\n      let relationRefPromises = [];\n\n\n      let node = SpinalGraphService.getRealNode(nodeId);\n\n      let relationList = node.parents[constants.CATEGORY_TO_GROUP_RELATION];\n\n      if (relationList) {\n        for (let i = 0; i < relationList.length; i++) {\n          const element = relationList[i];\n          relationRefPromises.push(element.load());\n        }\n\n      }\n\n      return Promise.all(relationRefPromises).then(refs => {\n\n        let promises = refs.map(node => {\n          return node.parent.load();\n        })\n\n\n        return Promise.all(promises).then(parents => {\n          // let p = [];\n          // parents.forEach(el => {\n          //   if (el && !(el instanceof SpinalContext)) {\n          //     p.push(new SpinalCalNode(el));\n          //   }\n          // })\n\n          // return p;\n\n          return parents.map(el => {\n            return el.info;\n          });\n\n        });\n\n      })\n\n\n    }\n  },\n\n  elementIsInCategorie(categoryId, elementId) {\n\n    // let nodeInfo = SpinalGraphService.getInfo(categoryId);\n    // let type = nodeInfo.type.get();\n\n    // let relationName =\n    //   type === ROOMS_CATEGORY ?\n    //   ROOMS_GROUP_RELATION :\n    //   EQUIPMENTS_GROUP_RELATION;\n\n    return SpinalGraphService.getChildren(categoryId, [constants\n        .CATEGORY_TO_GROUP_RELATION\n      ])\n      .then(\n        children => {\n\n          return children.find(child => {\n            return child.childrenIds.find(el => {\n              return el === elementId\n            })\n          })\n\n        })\n\n  }\n\n};\n\nmodule.exports = {\n  // ROOMS_GROUP_CONTEXT,\n  // ROOMS_GROUP,\n  // EQUIPMENTS_GROUP,\n  // ROOMS_GROUP_RELATION,\n  // EQUIPMENTS_GROUP_RELATION,\n  // EQUIPMENTS_GROUP_CONTEXT,\n  // ROOMS_TO_ELEMENT_RELATION,\n  // EQUIPMENTS_TO_ELEMENT_RELATION,\n  // ROOMS_CATEGORY,\n  // ROOMS_CATEGORY_RELATION,\n  // EQUIPMENTS_CATEGORY,\n  // EQUIPMENTS_CATEGORY_RELATION,\n  // typeLst,\n  // TYPE_AND_RELATION,\n\n  groupService\n};","// ////////////////////////////////////////////////////\n// // ROOMS\n// ////////////////////////////////////////////////////\n// const ROOMS_GROUP_CONTEXT = \"RoomsGroupContext\";\n// const ROOMS_GROUP = \"RoomsGroup\";\n// const ROOMS_GROUP_RELATION = \"hasRoomsGroup\";\n// const ROOMS_TO_ELEMENT_RELATION = \"groupHasRooms\";\n// const ROOMS_CATEGORY = \"Rooms_category\";\n// const ROOMS_CATEGORY_RELATION = \"hasRoomsCategory\";\n\n\n\n// ///////////////////////////////////////////////////////\n// // BimObject\n// ///////////////////////////////////////////////////////\n// const EQUIPMENTS_GROUP_CONTEXT = \"EquipmentGroupContext\";\n// const EQUIPMENTS_GROUP = \"EquipmentGroup\";\n// const EQUIPMENTS_GROUP_RELATION = \"hasEquipmentsGroup\";\n// const EQUIPMENTS_TO_ELEMENT_RELATION = \"groupHasEquipments\";\n// const EQUIPMENTS_CATEGORY = \"Equipment_category\";\n// const EQUIPMENTS_CATEGORY_RELATION = \"hasEquipmentsCategory\";\n\n\n\n// const typeLst = [\n//   ROOMS_GROUP_CONTEXT,\n//   ROOMS_GROUP,\n//   ROOMS_CATEGORY,\n//   EQUIPMENTS_GROUP_CONTEXT,\n//   EQUIPMENTS_GROUP,\n//   EQUIPMENTS_CATEGORY\n// ]\n\n\n\n// const TYPE_AND_RELATION = new Map();\n// TYPE_AND_RELATION.set(ROOMS_GROUP_CONTEXT, ROOMS_CATEGORY_RELATION)\n// TYPE_AND_RELATION.set(ROOMS_GROUP, ROOMS_TO_ELEMENT_RELATION)\n// TYPE_AND_RELATION.set(ROOMS_CATEGORY, ROOMS_GROUP_RELATION)\n// TYPE_AND_RELATION.set(EQUIPMENTS_GROUP_CONTEXT, EQUIPMENTS_CATEGORY_RELATION)\n// TYPE_AND_RELATION.set(EQUIPMENTS_GROUP, EQUIPMENTS_TO_ELEMENT_RELATION)\n// TYPE_AND_RELATION.set(EQUIPMENTS_CATEGORY, EQUIPMENTS_GROUP_RELATION)\n\n// const CONTEXT_TYPE = \"groupingContext\";\n// const CATEGORY_TYPE = \"groupingCategory\";\n\n// ///////////////////////////////////////////\n// //            Groups Types               //\n// ///////////////////////////////////////////\n// const ROOMS_GROUP = \"roomsGroup\";\n// const EQUIPMENTS_GROUP = \"equipmentGroup\";\n// const ENDPOINT_GROUP = \"endpointGroup\"\n\n// ///////////////////////////////////////////\n// //            Relations                  //\n// ///////////////////////////////////////////\n\n// const CONTEXT_TO_CATEGORY_RELATION = \"hasCategory\";\n// const CATEGORY_TO_GROUP_RELATION = \"hasGroup\";\n// const GROUP_TO_ROOMS_RELATION = \"groupHasRooms\";\n// const GROUP_TO_EQUIPMENTS_RELATION = \"groupHasEquipments\";\n// const GROUP_TO_ENDPOINT_RELATION = \"groupHasEndpoints\";\n\n\n\nclass GroupServiceConstants {\n  constructor() {\n    ///////////////////////////////////////\n    // CONTEXT\n    ///////////////////////////////////////\n    this.ROOMS_GROUP_CONTEXT = \"RoomsGroupContext\";\n    this.EQUIPMENTS_GROUP_CONTEXT = \"EquipmentGroupContext\";\n    this.ENDPOINTS_GROUP_CONTEXT = \"EndpointGroupContext\";\n\n    this.CONTEXTS_TYPES = [\n      this.ROOMS_GROUP_CONTEXT,\n      this.EQUIPMENTS_GROUP_CONTEXT,\n      this.ENDPOINTS_GROUP_CONTEXT\n    ];\n\n    //Category\n\n    this.CATEGORY_TYPE = \"groupingCategory\";\n\n    ///////////////////////////////////////////\n    //            Groups Types               //\n    ///////////////////////////////////////////\n    this.ROOMS_GROUP = \"roomsGroup\";\n    this.EQUIPMENTS_GROUP = \"equipmentGroup\";\n    this.ENDPOINT_GROUP = \"endpointGroup\";\n\n    this.GROUPS_TYPES = [\n      this.ROOMS_GROUP,\n      this.EQUIPMENTS_GROUP,\n      this.ENDPOINT_GROUP\n    ];\n\n    ///////////////////////////////////////////\n    //            Relations                  //\n    ///////////////////////////////////////////\n\n    this.CONTEXT_TO_CATEGORY_RELATION = \"hasCategory\";\n    this.CATEGORY_TO_GROUP_RELATION = \"hasGroup\";\n    this.GROUP_TO_ROOMS_RELATION = \"groupHasRooms\";\n    this.GROUP_TO_EQUIPMENTS_RELATION = \"groupHasEquipments\";\n    this.GROUP_TO_ENDPOINT_RELATION = \"groupHasEndpoints\";\n\n    ////////////////////////////////////////////\n    // Maps\n    ////////////////////////////////////////////\n\n    this.CONTEXT_GROUP_ASSOCIATION = new Map([\n      [this.ROOMS_GROUP_CONTEXT, this.ROOMS_GROUP],\n      [this.EQUIPMENTS_GROUP_CONTEXT, this.EQUIPMENTS_GROUP],\n      [this.ENDPOINTS_GROUP_CONTEXT, this.ENDPOINT_GROUP]\n    ]);\n\n    this.GROUP_RELATION_ASSOCIATION = new Map([\n      [this.ROOMS_GROUP, this.GROUP_TO_ROOMS_RELATION],\n      [this.EQUIPMENTS_GROUP, this\n        .GROUP_TO_EQUIPMENTS_RELATION\n      ],\n      [this.ENDPOINT_GROUP, this.GROUP_TO_ENDPOINT_RELATION]\n\n    ])\n  }\n\n}\n\nmodule.exports = new GroupServiceConstants();","import Vue from \"vue\";\n\n\n////////////////////////////////////\n//            Panels\n////////////////////////////////////\nimport attributePanel from \"../vue/panels/attributePanel/panel.vue\";\nimport configurationPanel from \"../vue/panels/configurationPanel/configurationPanel.vue\";\nimport generateGroupPanel from \"../vue/panels/generateGroupPanel/panel.vue\";\n\n\n////////////////////////////////////\n//            Dialogs\n////////////////////////////////////\n// import LinkToGroup from \"../vue/dialogs/linkToGroup.vue\";\nimport ParamDialogComponent from \"../vue/dialogs/paramsDialog.vue\";\nimport ImportAttributeExcelDialog from '../vue/dialogs/importAttributeExcelDialog.vue';\nimport ExportConfigurationDialog from \"../vue/panels/configurationPanel/dialogs/export.vue\"\nimport ImportConfigurationDialog from \"../vue/panels/configurationPanel/dialogs/import.vue\"\nimport ConfigureGenerationDialog from \"../vue/panels/generateGroupPanel/dialogs/configurations.vue\";\nimport SelectTypeDialog from \"../vue/panels/generateGroupPanel/dialogs/select-type.vue\";\n\n////////////////////////////////////\n//            Others\n////////////////////////////////////\nconst {\n  SpinalForgeExtention\n} = require(\"spinal-env-viewer-panel-manager-service_spinalforgeextention\");\n\nconst {\n  SpinalMountExtention\n} = require(\"spinal-env-viewer-panel-manager-service\");\n\n//////////////////////////////////////////////////////////////////////////////////\n// register Panels\n/////////////////////////////////////////////////////////////////////////////////\n\n\n\nlet panels = [{\n  name: \"attributeManagerPanel\",\n  vueMountComponent: Vue.extend(attributePanel),\n  panel: {\n    title: \"Attribute manager\",\n    closeBehaviour: \"hide\"\n  },\n  style: {\n    minWidth: \"620px\",\n    height: \"475px\",\n    left: \"400px\"\n  }\n}, {\n  name: \"configurationPanel\",\n  vueMountComponent: Vue.extend(configurationPanel),\n  panel: {\n    title: \"Configuration Panel\",\n    closeBehaviour: \"hide\"\n  },\n  style: {\n    minWidth: \"620px\",\n    height: \"475px\",\n    left: \"400px\"\n  }\n}, {\n  name: \"generateGroupPanel\",\n  vueMountComponent: Vue.extend(generateGroupPanel),\n  panel: {\n    title: \"Generate Group Panel\",\n    closeBehaviour: \"hide\"\n  },\n  style: {\n    minWidth: \"620px\",\n    height: \"740px\",\n    left: \"400px\"\n  }\n}]\n\nfor (let index = 0; index < panels.length; index++) {\n  const element = panels[index];\n  const panelExtension = SpinalForgeExtention.createExtention(element);\n  SpinalForgeExtention.registerExtention(element.name, panelExtension);\n}\n\n\n\n\n\n//////////////////////////////////////////////////////////////////////////////////\n// register Dialogs\n/////////////////////////////////////////////////////////////////////////////////\n\n\nconst dialogs = [\n  // {\n  //   name: \"linkToGroupDialog\",\n  //   vueMountComponent: Vue.extend(LinkToGroup),\n  //   parentContainer: document.body\n  // }, \n  {\n    name: \"paramDialogComponent\",\n    vueMountComponent: Vue.extend(ParamDialogComponent),\n    parentContainer: document.body\n  },\n  {\n    name: \"importAttributeExcelDialog\",\n    vueMountComponent: Vue.extend(ImportAttributeExcelDialog),\n    parentContainer: document.body\n  },\n  {\n    name: \"exportConfigurationDialog\",\n    vueMountComponent: Vue.extend(ExportConfigurationDialog),\n    parentContainer: document.body\n  }, {\n    name: \"importConfigurationDialog\",\n    vueMountComponent: Vue.extend(ImportConfigurationDialog),\n    parentContainer: document.body\n  }, {\n    name: \"configureGenerationDialog\",\n    vueMountComponent: Vue.extend(ConfigureGenerationDialog),\n    parentContainer: document.body\n  }, {\n    name: \"selectTypeDialog\",\n    vueMountComponent: Vue.extend(SelectTypeDialog),\n    parentContainer: document.body\n  }\n];\n\n\nfor (let index = 0; index < dialogs.length; index++) {\n  SpinalMountExtention.mount(dialogs[index]);\n}","<!--\nCopyright 2020 SpinalCom - www.spinalcom.com\n\nThis file is part of SpinalCore.\n\nPlease read all of the following terms and conditions\nof the Free Software license Agreement (\"Agreement\")\ncarefully.\n\nThis Agreement is a legally binding contract between\nthe Licensee (as defined below) and SpinalCom that\nsets forth the terms and conditions that govern your\nuse of the Program. By installing and/or using the\nProgram, you agree to abide by all the terms and\nconditions stated or referenced herein.\n\nIf you do not agree to abide by these terms and\nconditions, do not demonstrate your acceptance and do\nnot install or use the Program.\nYou should have received a copy of the license along\nwith this file. If not, see\n<http://resources.spinalcom.com/licenses.pdf>.\n-->\n\n<template>\n   <md-content class=\"mdContainer md-scrollbar\">\n\n      <type-lst-component\n         v-if=\"data && appState === STATES.normal && visiblePage === pages.types\"\n         :types=\"data.types\"\n         @select=\"selectType\"\n      >\n      </type-lst-component>\n\n      <table-page\n         v-if=\"appState === STATES.normal && typeSelected && visiblePage === pages.table\"\n         :itemDisplayed=\"itemDisplayed\"\n         :attributesDisplayed=\"attributesDisplayed\"\n         :typeSelected=\"typeSelected\"\n         @back=\"goBack\"\n         @refresh=\"validateItem\"\n         @openExportDialog=\"openExportDialog\"\n      >\n      </table-page>\n\n      <!--\n          /////////////////////////////////\n          Loading\n          ////////////////////////////////\n        -->\n      <div\n         v-if=\"appState === STATES.loading\"\n         class=\"loading\"\n      >\n         <md-progress-spinner md-mode=\"indeterminate\"></md-progress-spinner>\n      </div>\n   </md-content>\n</template>\n\n<script>\nconst {\n   spinalPanelManagerService,\n} = require(\"spinal-env-viewer-panel-manager-service\");\n\nimport TypeLstComponent from \"./components/typesList.vue\";\nimport TablePage from \"./components/tablePage.vue\";\n\nimport SpinalAttributeManager from \"../../../services\";\n\nimport EventBus from \"../../../js/events/events\";\n\nexport default {\n   name: \"attributeManagerPanel\",\n   components: {\n      \"type-lst-component\": TypeLstComponent,\n      \"table-page\": TablePage,\n   },\n   mounted() {\n      EventBus.$on(\"refreshTable\", () => {\n         this.refreshData();\n      });\n   },\n   data() {\n      this.STATES = Object.freeze({\n         normal: 0,\n         loading: 1,\n         error: 2,\n      });\n\n      this.pages = Object.freeze({\n         types: 0,\n         table: 1,\n      });\n\n      this.data = null;\n\n      return {\n         appState: this.STATES.normal,\n         itemSelected: null,\n         contextSelected: null,\n         typeSelected: null,\n         visiblePage: this.pages.types,\n         itemDisplayed: null,\n         // attributesDisplayed: []\n      };\n   },\n   methods: {\n      opened(params) {\n         this.itemSelected = params.nodeSelected;\n         this.contextSelected = params.context;\n      },\n\n      closed() {},\n\n      setTitle(title) {\n         spinalPanelManagerService.panels.attributeManagerPanel.panel.setTitle(\n            title\n         );\n      },\n      getAllData() {\n         return SpinalAttributeManager.getAllData(\n            this.contextSelected.id,\n            this.itemSelected.id\n         );\n      },\n      selectType(type) {\n         this.typeSelected = type;\n         this.itemDisplayed = this.data.data[type];\n         // this.attributesDisplayed = this.data.attributes;\n         // this.attributesDisplayed = this.getAttributes();\n         this.visiblePage = this.pages.table;\n      },\n\n      getAttributes() {\n         return this.data.data[this.typeSelected]\n            .map((el) => {\n               return el.attributes.map((el2) => {\n                  return { category: el2.category, label: el2.label };\n               });\n            })\n            .flat();\n      },\n\n      goBack() {\n         this.typeSelected = null;\n         this.visiblePage = this.pages.types;\n      },\n\n      validateItem() {\n         // setTimeout(() => {\n         this.refreshData();\n         // }, 500);\n      },\n\n      refreshData() {\n         this.appState = this.STATES.loading;\n\n         this.getAllData()\n            .then((res) => {\n               this.data = res;\n\n               const typeFound = this.data.types.find(\n                  (el) => el === this.typeSelected\n               );\n\n               this.typeSelected = typeFound ? typeFound : null;\n\n               if (this.typeSelected) {\n                  this.selectType(this.typeSelected);\n               } else {\n                  this.visiblePage = this.pages.types;\n               }\n\n               this.appState = this.STATES.normal;\n            })\n            .catch((err) => {\n               this.appState = this.STATES.normal;\n               console.error(err);\n            });\n      },\n\n      openExportDialog(res) {\n         this.appState = this.STATES.loading;\n\n         spinalPanelManagerService.openPanel(\"importAttributeExcelDialog\", {\n            tableData: res.table,\n            excelData: res.data,\n            callback: () => {\n               this.refreshData();\n            },\n         });\n      },\n   },\n   watch: {\n      itemSelected() {\n         this.setTitle(`Attribute Manager : ${this.itemSelected.name}`);\n         this.refreshData();\n      },\n   },\n};\n</script>\n\n<style scoped>\n.mdContainer {\n   width: 100%;\n   height: calc(100% - 20px);\n   overflow: auto;\n   background: transparent;\n}\n\n.loading {\n   width: 100%;\n   height: 100%;\n   display: flex;\n   justify-content: center;\n   align-items: center;\n}\n</style>","/*\n * Copyright 2018 SpinalCom - www.spinalcom.com\n *\n * This file is part of SpinalCore.\n *\n * Please read all of the following terms and conditions\n * of the Free Software license Agreement (\"Agreement\")\n * carefully.\n *\n * This Agreement is a legally binding contract between\n * the Licensee (as defined below) and SpinalCom that\n * sets forth the terms and conditions that govern your\n * use of the Program. By installing and/or using the\n * Program, you agree to abide by all the terms and\n * conditions stated or referenced herein.\n *\n * If you do not agree to abide by these terms and\n * conditions, do not demonstrate your acceptance and do\n * not install or use the Program.\n * You should have received a copy of the license along\n * with this file. If not, see\n * <http://resources.spinalcom.com/licenses.pdf>.\n */\n\nconst G_root = typeof window == \"undefined\" ? global : window;\nconst SpinalPanelManagerService = require(\"./SpinalPanelManagerService\");\nconst SpinalPanelApp = require(\"./SpinalPanelApp\");\n\nif (typeof G_root.spinal === \"undefined\") G_root.spinal = {};\nif (typeof G_root.spinal.spinalPanelManagerService === \"undefined\")\n  G_root.spinal.spinalPanelManagerService = new SpinalPanelManagerService();\nconst SpinalMountExtention = require(\"./SpinalMountExtention.js\")(\n  G_root.spinal.spinalPanelManagerService,\n  SpinalPanelApp\n);\n\nmodule.exports = {\n  spinalPanelManagerService: G_root.spinal.spinalPanelManagerService,\n  SpinalPanelApp,\n  SpinalMountExtention,\n  install(Vue) {\n    Vue.prototype.$spinalPanelManagerService =\n      G_root.spinal.spinalPanelManagerService;\n  }\n};\n","/*\n * Copyright 2018 SpinalCom - www.spinalcom.com\n *\n * This file is part of SpinalCore.\n *\n * Please read all of the following terms and conditions\n * of the Free Software license Agreement (\"Agreement\")\n * carefully.\n *\n * This Agreement is a legally binding contract between\n * the Licensee (as defined below) and SpinalCom that\n * sets forth the terms and conditions that govern your\n * use of the Program. By installing and/or using the\n * Program, you agree to abide by all the terms and\n * conditions stated or referenced herein.\n *\n * If you do not agree to abide by these terms and\n * conditions, do not demonstrate your acceptance and do\n * not install or use the Program.\n * You should have received a copy of the license along\n * with this file. If not, see\n * <http://resources.spinalcom.com/licenses.pdf>.\n */\n\n/**\n *  Containter like service to register and get applications relative to a hookname\n *\n * @property {object} panels key = panelName, value = an instance of SpinalPanelApp\n * @class SpinalPanelManagerService\n */\nclass SpinalPanelManagerService {\n  /**\n   *Creates an instance of SpinalPanelManagerService.\n   * @memberof SpinalPanelManagerService\n   */\n  constructor() {\n    this.panels = {};\n  }\n\n  /**\n   * method to register an Panel Application\n   *\n   * @param {string} panelName the name of the panel\n   * @param {SpinalPanelApp} spinalPanelApp the application\n   * @memberof SpinalPanelManagerService\n   */\n  registerPanel(panelName, spinalPanelApp) {\n    this.panels[panelName] = spinalPanelApp;\n  }\n\n  /**\n   *\n   *\n   * @param {*} panelName\n   * @param {*} option\n   * @returns {bool}\n   * @memberof SpinalPanelManagerService\n   */\n  openPanel(panelName, option) {\n    if (typeof this.panels[panelName] !== \"undefined\")\n      return this.panels[panelName].openPanel(option);\n    return false;\n  }\n  /**\n   *\n   *\n   * @param {*} panelName\n   * @param {*} option\n   * @returns {bool}\n   * @memberof SpinalPanelManagerService\n   */\n  closePanel(panelName, option) {\n    if (typeof this.panels[panelName] !== \"undefined\")\n      return this.panels[panelName].closePanel(option);\n    return false;\n  }\n  /**\n   *\n   *\n   * @param {*} panelName\n   * @param {*} option\n   * @returns {bool}\n   * @memberof SpinalPanelManagerService\n   */\n  tooglePanel(panelName, option) {\n    if (typeof this.panels[panelName] !== \"undefined\")\n      return this.panels[panelName].tooglePanel(option);\n    return false;\n  }\n}\n\nmodule.exports = SpinalPanelManagerService;\n","/*\n * Copyright 2018 SpinalCom - www.spinalcom.com\n *\n * This file is part of SpinalCore.\n *\n * Please read all of the following terms and conditions\n * of the Free Software license Agreement (\"Agreement\")\n * carefully.\n *\n * This Agreement is a legally binding contract between\n * the Licensee (as defined below) and SpinalCom that\n * sets forth the terms and conditions that govern your\n * use of the Program. By installing and/or using the\n * Program, you agree to abide by all the terms and\n * conditions stated or referenced herein.\n *\n * If you do not agree to abide by these terms and\n * conditions, do not demonstrate your acceptance and do\n * not install or use the Program.\n * You should have received a copy of the license along\n * with this file. If not, see\n * <http://resources.spinalcom.com/licenses.pdf>.\n */\n\n/**\n * Base interface like class of a panel\n *\n * @class SpinalPanelApp\n */\nclass SpinalPanelApp {\n  constructor() {}\n\n  openPanel(option) {}\n  closePanel(option) {}\n  tooglePanel(option) {}\n}\n\nmodule.exports = SpinalPanelApp;\n","/*\n * Copyright 2018 SpinalCom - www.spinalcom.com\n *\n * This file is part of SpinalCore.\n *\n * Please read all of the following terms and conditions\n * of the Free Software license Agreement (\"Agreement\")\n * carefully.\n *\n * This Agreement is a legally binding contract between\n * the Licensee (as defined below) and SpinalCom that\n * sets forth the terms and conditions that govern your\n * use of the Program. By installing and/or using the\n * Program, you agree to abide by all the terms and\n * conditions stated or referenced herein.\n *\n * If you do not agree to abide by these terms and\n * conditions, do not demonstrate your acceptance and do\n * not install or use the Program.\n * You should have received a copy of the license along\n * with this file. If not, see\n * <http://resources.spinalcom.com/licenses.pdf>.\n */\n\nfunction configInit(option) {\n  const cfg = {};\n  if (!option.vueMountComponent) {\n    throw new Error(\"mount : missing option vueMountComponent\");\n  }\n\n  cfg.name = option.name || \"SpinalMount\";\n  cfg.vueMountComponent = option.vueMountComponent;\n  cfg.parentContainer = option.parentContainer || document.body;\n  return cfg;\n}\n\nfunction getDialog() {\n  if (!this.dialog) {\n    this.dialog = document.createElement(\"div\");\n    const _compo = document.createElement(\"div\");\n    this.dialog.className = \"spinal-modal-container\";\n    this.cfg.parentContainer.appendChild(this.dialog);\n    this.dialog.appendChild(_compo);\n    this.compoment = new this.cfg.vueMountComponent({\n      propsData: {\n        onFinised: this.onFinised.bind(this)\n      }\n    }).$mount(_compo);\n  }\n  return this.dialog;\n}\n\n/**\n *\n * @param {*} spinalPanelManagerService\n * @param {*} SpinalPanelApp\n * @returns {object} { mount }\n */\nmodule.exports = function(spinalPanelManagerService, SpinalPanelApp) {\n  return {\n    /**\n```js\n{\n  name: \"myCustomDialogName\",\n  vueMountComponent: Vue.extend(aVueCompomentDialog),\n  parentContainer: document.body\n}```\n     *\n     * @param {*} option\n     */\n    mount(option) {\n      let cfg = configInit(option);\n      const SpinalMount = class extends SpinalPanelApp {\n        constructor() {\n          super();\n          this.cfg = cfg;\n          this.dialog = null;\n          this.compoment = null;\n        }\n\n        openPanel(opt) {\n          getDialog.call(this);\n          this.compoment.opened(opt);\n        }\n        closePanel(opt) {\n          if (this.dialog !== null) {\n            this.compoment.removed(opt);\n            this.dialog.remove();\n            this.dialog = null;\n            this.compoment = null;\n          }\n        }\n\n        tooglePanel(opt) {\n          if (this.dialog !== null) {\n            this.closePanel(opt);\n          } else {\n            this.openPanel(opt);\n          }\n        }\n\n        /**\n         * called when dialog closed by the dialog itself\n         */\n        onFinised(closeResult) {\n          this.closePanel(closeResult);\n        }\n      };\n      let SpinalMountInstance = new SpinalMount();\n      spinalPanelManagerService.registerPanel(cfg.name, SpinalMountInstance);\n    }\n  };\n};\n","<template>\n  <div v-if=\"types\"\n       class=\"_container\">\n    <div class=\"_containerItem\"\n         v-for=\"(type,index) in types\"\n         :key=\"index\"\n         @click=\"selectType(type)\">\n      <div class=\"text\">{{type}}</div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"typeLstComponent\",\n  props: {\n    types: {\n      required: true\n    }\n  },\n  data() {\n    return {};\n  },\n  methods: {\n    selectType(type) {\n      this.$emit(\"select\", type);\n    }\n  }\n};\n</script>\n\n<style scoped>\n._container {\n  width: calc(100% - 40px);\n  height: 100%;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  padding-left: 20px;\n  padding-right: 20px;\n}\n\n._containerItem {\n  width: 45%;\n  height: 150px;\n  border: 1px solid gray;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-top: 10px;\n}\n\n._container ._containerItem .text {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-left: 10px;\n  padding-right: 10px;\n}\n\n._containerItem:hover {\n  background-color: gray;\n  cursor: pointer;\n}\n</style>","<!--\nCopyright 2020 SpinalCom - www.spinalcom.com\n\nThis file is part of SpinalCore.\n\nPlease read all of the following terms and conditions\nof the Free Software license Agreement (\"Agreement\")\ncarefully.\n\nThis Agreement is a legally binding contract between\nthe Licensee (as defined below) and SpinalCom that\nsets forth the terms and conditions that govern your\nuse of the Program. By installing and/or using the\nProgram, you agree to abide by all the terms and\nconditions stated or referenced herein.\n\nIf you do not agree to abide by these terms and\nconditions, do not demonstrate your acceptance and do\nnot install or use the Program.\nYou should have received a copy of the license along\nwith this file. If not, see\n<http://resources.spinalcom.com/licenses.pdf>.\n-->\n\n<template>\n  <div class=\"tablePage\"\n       v-if=\"itemDisplayed\">\n    <div class=\"_mdContainer\"\n         v-if=\"appState === STATES.normal\">\n      <div class=\"header\">\n        <div class=\"backBtn\">\n          <md-button @click=\"back\">\n            <md-icon>arrow_back</md-icon>\n            &nbsp;\n            BACK\n          </md-button>\n        </div>\n        <div class=\"exportImport\">\n          <md-button class=\"md-primary attr_btn\"\n                     @click=\"importExcel\">\n            <md-icon>get_app</md-icon>\n            &nbsp;\n            Import\n          </md-button>\n          <md-button class=\"md-primary attr_btn\"\n                     @click=\"exportData\">\n            <md-icon>publish</md-icon>\n            &nbsp;\n            Export\n          </md-button>\n\n        </div>\n      </div>\n\n      <div class=\"tableContent\">\n        <table-component ref=\"tableContent\"\n                         :tableContent=\"tableContent\"\n                         :header=\"header\"\n                         :typeSelected=\"typeSelected\"\n                         @refresh=\"createAttribute\"></table-component>\n      </div>\n    </div>\n\n    <div class=\"loading\"\n         v-if=\"appState === STATES.loading\">\n      <md-progress-spinner md-mode=\"indeterminate\"></md-progress-spinner>\n\n    </div>\n  </div>\n\n</template>\n\n<script>\n// import lodash from \"lodash\";\n\n// import CreateAttributeTooltips from \"./tooltips/createAttribute.vue\";\n\nimport TableComponent from \"./table/index.vue\";\nimport spinalExcelManager from \"spinal-env-viewer-plugin-excel-manager-service\";\n\nimport { spinalPanelManagerService } from \"spinal-env-viewer-panel-manager-service\";\n\nimport FileSaver from \"file-saver\";\n\n// import utilities from \"../../../../js/utilities\";\n\nimport { spinalConfigurationService } from \"../../../../services\";\nimport { BIM_OBJECT_TYPE } from \"spinal-env-viewer-plugin-forge/dist/Constants\";\n\nexport default {\n  name: \"tablePage\",\n  components: {\n    // \"create-attribute\": CreateAttributeTooltips,\n    \"table-component\": TableComponent,\n  },\n  props: {\n    itemDisplayed: {\n      type: Array,\n    },\n    attributesDisplayed: {\n      type: Array,\n    },\n    typeSelected: {},\n  },\n  data() {\n    this.STATES = Object.freeze({\n      normal: 0,\n      loading: 1,\n      error: 2,\n    });\n\n    return {\n      // showAttrTooltip: false,\n      appState: this.STATES.normal,\n      tableContent: [],\n      header: [],\n    };\n  },\n  async mounted() {\n    this.tableContent = await this.getTableContent();\n    this.header = await this.getAttributes();\n  },\n  methods: {\n    back() {\n      this.$emit(\"back\");\n    },\n\n    // openCreateAttrTooltips() {\n    //   this.showAttrTooltip = !this.showAttrTooltip;\n    // },\n    createAttribute() {\n      this.$emit(\"refresh\");\n    },\n\n    async getTableContent() {\n      let content = [];\n      let attributes = await this.getAttributes();\n\n      if (this.itemDisplayed) {\n        content = this.itemDisplayed.map((item) => {\n          return {\n            id: item.id,\n            name: item.name,\n            type: item.type,\n            attributes: attributes.map((el) => {\n              return {\n                category: el.category,\n                label: el.label,\n                date: el.date,\n                value: this.getAttributeValue(item, el),\n              };\n            }),\n          };\n        });\n      }\n\n      // return { header: attributes, data: content };\n      return content;\n    },\n\n    getAttributes() {\n      // if (this.itemDisplayed) {\n      //   this.itemDisplayed.forEach(el => {\n      //     attrs.push(...el.attributes);\n      //   });\n      // }\n\n      // return attrs.filter((elem, index, self) => {\n      //   return (\n      //     self.findIndex(t => {\n      //       return t.category === elem.category && t.label === elem.label;\n      //     }) === index\n      //   );\n      // });\n\n      return spinalConfigurationService\n        .getCurrentConfiguration()\n        .then((conf) => {\n          let values = conf.categories;\n\n          // let values = res.get();\n          let attrs = [];\n\n          values.forEach((value) => {\n            let items = value.attributes\n              .map((attr) => {\n                if (attr.show) {\n                  return {\n                    category: value.name,\n                    label: attr.name,\n                  };\n                }\n                return;\n              })\n              .filter((el2) => typeof el2 !== \"undefined\");\n\n            attrs.push(...items);\n          });\n\n          return attrs;\n        });\n    },\n\n    getAttributeValue(item, attr) {\n      let found;\n      if (item && attr) {\n        found = item.attributes.find((el) => el.label === attr.label);\n      }\n\n      return typeof found !== \"undefined\" ? found.value : \"-\";\n    },\n\n    getExportHeadersData() {\n      let headers = [\n        {\n          key: \"id\",\n          header: \"SpinalGraph ID\",\n          width: 65,\n        },\n        {\n          key: \"revit_id\",\n          header: \"Revit ID\",\n          width: 15,\n        },\n        {\n          key: \"name\",\n          header: \"Name\",\n          width: 50,\n        },\n        // {\n        //   key: \"type\",\n        //   header: \"Type\",\n        //   width: 30\n        // }\n      ];\n\n      this.header.forEach((head) => {\n        headers.push({\n          key: `${head.category}_${head.label}`,\n          header: `${head.category} / ${head.label}`,\n          width: 15,\n        });\n      });\n\n      return headers;\n    },\n\n    getValue(item, attribute) {\n      let found = item.attributes.find((el) => {\n        return (\n          el.label === attribute.label && el.category === attribute.category\n        );\n      });\n\n      return typeof found !== \"undefined\" ? found.value : \"-\";\n    },\n\n    _sortByName(items) {\n      return items.sort((a, b) => {\n        const name1 = a.name.toUpperCase();\n        const name2 = b.name.toUpperCase();\n\n        let comparison = 0;\n        if (name1 > name2) {\n          comparison = 1;\n        } else if (name1 < name2) {\n          comparison = -1;\n        }\n        return comparison;\n      });\n    },\n\n    getExportRowsData() {\n      const tableReference = this.$refs[\"tableContent\"];\n\n      if (tableReference) {\n        const liste = tableReference.itemsSelected || [];\n        const tableSorted = this._sortByName(liste);\n        return tableSorted.map((content) => {\n          let info = {\n            id: content.id,\n            name: content.name,\n            revit_id:\n              content.type === BIM_OBJECT_TYPE\n                ? this._getRevitID(content.name)\n                : \"-\",\n          };\n          this.header.forEach((head) => {\n            let value = this.getValue(content, head);\n            info[`${head.category}_${head.label}`] = value;\n          });\n          return info;\n        });\n      }\n    },\n\n    formatExportData() {\n      return [\n        {\n          data: [\n            {\n              name: \"sheet 1\",\n              header: this.getExportHeadersData(),\n              rows: this.getExportRowsData(),\n            },\n          ],\n        },\n      ];\n    },\n\n    exportData() {\n      let result = this.formatExportData();\n\n      spinalExcelManager.export(result).then((buffer) => {\n        FileSaver.saveAs(new Blob(buffer), `spinalcom.xlsx`);\n      });\n    },\n\n    _getRevitID(name) {\n      let reg = /\\[(.*)\\]/gim;\n      let macthed = name.match(reg);\n      if (macthed && macthed.length > 0) {\n        let value = JSON.parse(JSON.stringify(macthed[macthed.length - 1]));\n        return value.replace(/\\[|\\]/g, (el) => \"\");\n      }\n\n      return \"-\";\n    },\n\n    importExcel() {\n      let input = document.createElement(\"input\");\n      input.type = \"file\";\n      input.accept =\n        \".xlsx, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel\";\n      input.click();\n\n      input.addEventListener(\n        \"change\",\n        async (event) => {\n          const file = event.target.files[0];\n\n          this.appState = this.STATES.loading;\n\n          const dataJson = await spinalExcelManager.convertExcelToJson(file);\n\n          this.$emit(\"openExportDialog\", {\n            data: dataJson,\n            table: this.tableContent,\n          });\n\n          this.$destroy();\n          // this.appState = this.STATES.normal;\n        },\n        false\n      );\n    },\n  },\n  watch: {\n    itemDisplayed: async function () {\n      this.tableContent = await this.getTableContent();\n      this.header = await this.getAttributes();\n    },\n    // attributesDisplayed: function() {\n\n    //   lodash.debounce(this.getTableContent, 500, { maxWait: 1000 });\n    // }\n  },\n  beforeDestroy() {\n    this.appState = this.STATES.normal;\n  },\n};\n</script>\n\n<style scoped>\n.tablePage {\n  width: calc(100% - 10px);\n  height: calc(100% - 10px);\n}\n\n.tablePage ._mdContainer {\n  width: 100%;\n  height: 100%;\n  padding: 5px;\n  overflow: hidden !important;\n}\n\n.tablePage ._mdContainer .header {\n  width: 100%;\n  height: 60px;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.tablePage ._mdContainer .tableContent {\n  width: 100%;\n  height: calc(100% - 60px);\n}\n\n.categoryInHead {\n  color: #448aff;\n}\n\n.tablePage .loading {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n</style>\n\n<style>\n.attr_btn {\n  border: 1px solid #448aff;\n  min-width: 100px;\n  max-width: 150px;\n  padding-right: 5px;\n}\n</style>","<!--\nCopyright 2020 SpinalCom - www.spinalcom.com\n\nThis file is part of SpinalCore.\n\nPlease read all of the following terms and conditions\nof the Free Software license Agreement (\"Agreement\")\ncarefully.\n\nThis Agreement is a legally binding contract between\nthe Licensee (as defined below) and SpinalCom that\nsets forth the terms and conditions that govern your\nuse of the Program. By installing and/or using the\nProgram, you agree to abide by all the terms and\nconditions stated or referenced herein.\n\nIf you do not agree to abide by these terms and\nconditions, do not demonstrate your acceptance and do\nnot install or use the Program.\nYou should have received a copy of the license along\nwith this file. If not, see\n<http://resources.spinalcom.com/licenses.pdf>.\n-->\n\n<template>\n  <div class=\"_tableContent\" data-app>\n    <div class=\"buttonFab\">\n      <fabs-component\n        :editMode=\"editMode\"\n        :itemsSelected=\"itemsSelected\"\n        :headerDisplayed=\"headerDisplayed\"\n        @configure=\"OpenParamsDialog\"\n        @link=\"LinkItem\"\n        @edit=\"ActiveEditMode\"\n        @valid=\"validateOrCancel\"\n        @setToColumn=\"setValueToColumn\"\n        @generateGroup=\"generateGroup\"\n      ></fabs-component>\n    </div>\n\n    <div class=\"mdToolbar\" md-elevation=\"0\">\n      <div class=\"toolbar-start\">\n        <standard-buttons\n          :itemsSelected=\"itemsSelected\"\n          @refresh=\"refresh\"\n        ></standard-buttons>\n      </div>\n\n      <div class=\"toolbar-end\">\n        <div class=\"searchDiv\">\n          <!-- <md-radio v-model=\"searchBy\"\n                    class=\"md-primary\"\n                    :value=\"0\">Search by name</md-radio>\n\n          <md-radio v-model=\"searchBy\"\n                    class=\"md-primary\"\n                    :value=\"1\">Search by value</md-radio> -->\n\n          <md-field>\n            <!-- <label for=\"searchBy\">Search By</label> -->\n            <md-select v-model=\"searchBy\" name=\"searchBy\" id=\"searchBy\">\n              <md-option :value=\"0\">Search by name</md-option>\n              <md-option :value=\"1\">Search by value</md-option>\n            </md-select>\n          </md-field>\n        </div>\n\n        <md-field>\n          <input\n            class=\"md-input\"\n            placeholder=\"Search...\"\n            v-model=\"searchValue\"\n          />\n          <md-icon>search</md-icon>\n        </md-field>\n      </div>\n    </div>\n    <!-- End First Toolbar -->\n\n    <!-- :value=\"itemsSelected\"\n            :v-model=\"itemsSelected\"  :custom-sort=\"sortByName\"-->\n    <div class=\"_tableContainer\">\n      <v-data-table\n        :headers=\"headerDisplayed\"\n        :items=\"searched\"\n        :rows-per-page-items=\"rowsPerPageText\"\n        :pagination.sync=\"pagination\"\n        dark\n        class=\"elevation-1\"\n      >\n        <template v-slot:headers=\"props\">\n          <tr>\n            <th style=\"text-align: left\">\n              <md-menu class=\"selectionMenu\" md-size=\"small\">\n                <md-button md-menu-trigger>\n                  <md-icon>menu</md-icon>\n                  &nbsp; Select\n                </md-button>\n\n                <md-menu-content>\n                  <md-menu-item\n                    v-for=\"(m, index) in checkboxSelects\"\n                    :key=\"index\"\n                    @click=\"m.action\"\n                  >\n                    <!-- <md-icon>{{\n                      m.value ? 'check_box' : 'check_box_outline_blank'\n                    }}</md-icon> -->\n                    {{ m.text }}\n                  </md-menu-item>\n                </md-menu-content>\n              </md-menu>\n            </th>\n\n            <th\n              style=\"text-align: left\"\n              v-for=\"(head, index) in props.headers\"\n              :key=\"index\"\n            >\n              {{ head.text }}\n            </th>\n            <th></th>\n          </tr>\n        </template>\n\n        <template v-slot:items=\"props\">\n          <td>\n            <v-checkbox\n              v-model=\"props.item.selected\"\n              @change=\"checkItem(props.item)\"\n              primary\n              hide-details\n            ></v-checkbox>\n          </td>\n          <td class=\"nameCell\" @click=\"selectItemInViewer(props.item)\">\n            <md-tooltip md-direction=\"top\">{{ props.item.name }}</md-tooltip>\n            {{ props.item.name }}\n          </td>\n          <td>{{ props.item.type }}</td>\n          <td\n            class=\"text-xs-center\"\n            v-for=\"(attribute, index) in header\"\n            :key=\"index\"\n          >\n            <table-content-component\n              :editable=\"editMode\"\n              :item=\"props.item\"\n              :attribute=\"attribute\"\n              :itemsMap=\"itemsMap\"\n              @setValue=\"refresh\"\n              @findValueInMaquette=\"findValueInMaquette\"\n              ref=\"editableComponent\"\n            >\n            </table-content-component>\n          </td>\n          <td>\n            <md-button\n              class=\"md-icon-button\"\n              @click=\"openAttributesPanel(props.item)\"\n            >\n              <md-tooltip>Open Properties Panel</md-tooltip>\n              <md-icon>tune</md-icon>\n            </md-button>\n          </td>\n        </template>\n      </v-data-table>\n\n      <!-- <div class=\"text-xs-center pt-2\"> -->\n      <!-- <div class=\"paginationDiv\">\n        <v-pagination v-model=\"pagination.page\"\n                      :length=\"pages\"\n                      :total-visible=\"5\"\n                      color=\"blue\"></v-pagination>\n\n        <div class=\"detail\">\n          Total items : {{searched.length}}\n        </div>\n\n      </div> -->\n    </div>\n\n    <!-- <div class=\"pageNumber\"></div> -->\n    <!-- </md-table> -->\n  </div>\n</template>\n\n<script>\nimport TableContentComponent from './tableContent.vue';\nimport CreateAttributeTooltips from '../tooltips/createAttribute.vue';\n// import ChangeColValue from \"../tooltips/changeCol.vue\";\nimport attributeService from '../../../../../services';\n\nimport StandardButtons from './standard-buttons.vue';\nimport FabsComponent from './fabs.vue';\n\nimport EventBus from '../../../../../js/events/events';\n// import tableContentVue from \"./tableContent.vue\";\nimport { SpinalGraphService } from 'spinal-env-viewer-graph-service';\n\nconst {\n  spinalPanelManagerService,\n} = require('spinal-env-viewer-panel-manager-service');\n\nconst debounce = require('lodash.debounce');\n\nimport $ from 'jquery';\n\nexport default {\n  name: 'TableComponent',\n  props: {\n    tableContent: {},\n    header: {},\n    typeSelected: {},\n  },\n  components: {\n    'fabs-component': FabsComponent,\n    'table-content-component': TableContentComponent,\n    'create-attribute': CreateAttributeTooltips,\n    'standard-buttons': StandardButtons,\n  },\n  data() {\n    this.checkboxSelects = [\n      { text: 'select All', value: true, action: this.selectAll },\n      {\n        text: 'select only the current page',\n        value: true,\n        action: this.selectOnLyTheCurrentPage,\n      },\n    ];\n\n    return {\n      showAttrTooltip: false,\n      editMode: false,\n      searched: [],\n      searchValue: '',\n      searchBy: 0,\n\n      itemsSelected: [],\n      headerDisplayed: [],\n      pagination: {\n        page: 1,\n        rowsPerPage: 20,\n        totalItems: 0,\n      },\n      rowsPerPageText: [20, 30, 40],\n\n      itemsMap: new Map(),\n    };\n  },\n\n  created() {\n    this.searchAndFilterTable = debounce(this.searchOnTable, 500);\n  },\n\n  mounted() {\n    this.searched = this.sortByName(\n      this.tableContent.map((el) => {\n        el.selected = false;\n        return el;\n      })\n    );\n    setTimeout(() => {\n      this._addPageNumber();\n    }, 200);\n  },\n\n  methods: {\n    async validateOrCancel(valid) {\n      if (valid) {\n        await this._changeValue();\n      }\n      this.refresh();\n      this.editMode = false;\n    },\n\n    ActiveEditMode() {\n      this.editMode = true;\n    },\n\n    createAttribute() {\n      this.$emit('refresh');\n    },\n\n    filterByName(liste, name) {\n      if (name.trim().length > 0) {\n        return liste\n          .filter((item) => {\n            return item.name.toLowerCase().includes(name.trim().toLowerCase());\n          })\n          .map((el) => {\n            el.selected = false;\n            return el;\n          });\n      }\n\n      return liste.map((el) => {\n        el.selected = false;\n        return el;\n      });\n    },\n\n    filterByValue(liste, value) {\n      if (value.trim().length > 0) {\n        return liste\n          .filter((el) => {\n            let found = el.attributes.find((attr) => {\n              return attr.value\n                .toString()\n                .toLowerCase()\n                .includes(value.trim().toLowerCase());\n            });\n\n            return found ? true : false;\n          })\n          .map((el) => {\n            el.selected = false;\n            return el;\n          });\n      }\n\n      return liste.map((el) => {\n        el.selected = false;\n        return el;\n      });\n    },\n\n    searchOnTable() {\n      switch (this.searchBy) {\n        case 0:\n          this.searched = this.sortByName(\n            this.filterByName(this.tableContent, this.searchValue)\n          );\n          break;\n\n        case 1:\n          this.searched = this.sortByName(\n            this.filterByValue(this.tableContent, this.searchValue)\n          );\n\n          break;\n      }\n    },\n\n    selectAll(value) {\n      this.searched = this.searched.map((el) => {\n        el.selected = true;\n        return el;\n      });\n    },\n\n    unSelectAll() {\n      this.searched = this.searched.map((el) => {\n        el.selected = false;\n        return el;\n      });\n    },\n\n    selectOnLyTheCurrentPage() {\n      this.unSelectAll();\n      this.selectCurrentPage();\n    },\n\n    selectCurrentPage() {\n      const pageNumber = this.pagination.page;\n      const itemByPage = this.pagination.rowsPerPage;\n\n      const begin = (pageNumber - 1) * itemByPage;\n      const end = begin + itemByPage;\n\n      this.searched = this.searched.map((el, index) => {\n        if (index >= begin && index < end) {\n          el.selected = true;\n        }\n        return el;\n      });\n    },\n\n    unSelectCurrentPage() {\n      const pageNumber = this.pagination.page;\n      const itemByPage = this.pagination.rowsPerPage;\n\n      const begin = (pageNumber - 1) * itemByPage;\n      const end = begin + itemByPage;\n\n      this.searched = this.searched.map((el, index) => {\n        if (index >= begin && index < end) {\n          el.selected = false;\n        }\n        return el;\n      });\n    },\n\n    refresh() {\n      this.$emit('refresh');\n    },\n\n    setValueToColumn(res) {\n      let value = res.value;\n      let category = res.column.split('/')[0];\n      let label = res.column.split('/')[1];\n\n      if (res.pageOnly) {\n        let references = this.$refs['editableComponent'];\n\n        references.forEach((el) => {\n          if (res.useMaquetteValue) {\n            this.findValueInMaquette(\n              {\n                id: el.item.id,\n                category: category,\n                attribute: label,\n              },\n              false\n            );\n          } else {\n            el.setValueToColumn(category, label, value);\n          }\n        });\n      } else {\n        for (const id of this.itemsMap.keys()) {\n          if (res.useMaquetteValue) {\n            this.findValueInMaquette(\n              {\n                id: id,\n                category: category,\n                attribute: label,\n              },\n              false\n            );\n          } else {\n            this.setValue(id, category, label, value);\n          }\n        }\n      }\n    },\n\n    LinkItem() {\n      // console.log(this.itemsSelected, this.searched);\n      if (this.itemsSelected.length === 0)\n        return alert('you must select at less one item');\n      spinalPanelManagerService.openPanel('linkToGroupDialog', {\n        type: this.typeSelected,\n        itemSelected: this.itemsSelected,\n      });\n    },\n\n    generateGroup() {\n      // console.log(this.itemsSelected, this.searched);\n\n      //  const itemsFiltered = this._filterElementSelected(this.searched);\n      if (this.itemsSelected.length === 0) {\n        window.alert('select at less one item');\n        return;\n      }\n      //  if (itemsFiltered.length === 0) {\n      //     window.alert(\"select at less one item\");\n      //     return;\n      //  }\n      spinalPanelManagerService.openPanel('generateGroupPanel', {\n        type: this.typeSelected,\n        // items: itemsFiltered,\n        items: this.itemsSelected,\n      });\n    },\n\n    OpenParamsDialog() {\n      // spinalPanelManagerService.openPanel(\"paramDialogComponent\", {\n      //   tableContent: this.tableContent,\n      //   header: this.header,\n      //   typeSelected: this.typeSelected,\n      //   callback: () => {\n      //     this.$emit(\"refresh\");\n      //   }\n      // });\n\n      spinalPanelManagerService.openPanel('configurationPanel', {\n        callback: () => {\n          this.$emit('refresh');\n        },\n      });\n    },\n\n    sortByName(items) {\n      return items.sort((a, b) => {\n        const name1 = a.name.toUpperCase();\n        const name2 = b.name.toUpperCase();\n\n        let comparison = 0;\n        if (name1 > name2) {\n          comparison = 1;\n        } else if (name1 < name2) {\n          comparison = -1;\n        }\n        return comparison;\n      });\n    },\n\n    selectItemInViewer(item) {\n      EventBus.$emit('selectElement', item);\n    },\n\n    constructMap() {\n      for (const content of this.tableContent) {\n        const element = {};\n        for (const attr of content.attributes) {\n          element[`${attr.category}_${attr.label}`] = {\n            value: attr.value,\n            displayValue: attr.value,\n          };\n        }\n        this.itemsMap.set(content.id, element);\n      }\n    },\n\n    async findValueInMaquette(res, alert = true) {\n      const node = SpinalGraphService.getInfo(res.id);\n\n      const value = await attributeService.getBimObjectAttribute(\n        node.get(),\n        res.attribute\n      );\n\n      if (value === '-') {\n        if (alert) window.alert('no value found !');\n        return;\n      } else {\n        this.setValue(res.id, res.category, res.attribute, value);\n      }\n    },\n\n    openAttributesPanel(item) {\n      let info = SpinalGraphService.getInfo(item.id);\n\n      const viewer = window.spinal.ForgeViewer.viewer;\n      let propertyPanel = viewer.getPropertyPanel();\n\n      if (typeof propertyPanel === 'undefined') {\n        propertyPanel =\n          new Autodesk.Viewing.Extensions.ViewerPropertyPanel.prototype.constructor(\n            viewer\n          );\n        viewer.setPropertyPanel(propertyPanel);\n      }\n\n      const model = window.spinal.BimObjectService.getModelByBimfile(\n        info.bimFileId.get()\n      );\n\n      propertyPanel.currentModel = model;\n\n      propertyPanel.setVisible(true);\n      propertyPanel.setNodeProperties(info.dbid.get());\n    },\n\n    openCreateAttrTooltips() {\n      this.showAttrTooltip = !this.showAttrTooltip;\n    },\n\n    setValue(id, category, attribute, value = '-') {\n      const obj = this.itemsMap.get(id);\n      obj[`${category}_${attribute}`]['displayValue'] = value;\n    },\n\n    async _changeValue() {\n      const promises = [];\n\n      for (const nodeId of this.itemsMap.keys()) {\n        const found = this.tableContent.find((el) => el.id === nodeId);\n\n        if (found && found.attributes) {\n          for (const attr of found.attributes) {\n            let value =\n              this.itemsMap.get(nodeId)[`${attr.category}_${attr.label}`][\n                'value'\n              ];\n            let displayValue =\n              this.itemsMap.get(nodeId)[`${attr.category}_${attr.label}`][\n                'displayValue'\n              ];\n\n            if (value !== displayValue) {\n              promises.push(\n                attributeService.updateAttributeValue(\n                  nodeId,\n                  attr.category,\n                  attr.label,\n                  displayValue\n                )\n              );\n            }\n          }\n        }\n      }\n\n      return Promise.all(promises);\n    },\n\n    async _cancelValue() {\n      for (const nodeId of this.itemsMap.keys()) {\n        const found = this.tableContent.find((el) => el.id === nodeId);\n\n        if (found && found.attributes) {\n          for (const attr of found.attributes) {\n            this.itemsMap.get(nodeId)[`${attr.category}_${attr.label}`][\n              'displayValue'\n            ] =\n              this.itemsMap.get(nodeId)[`${attr.category}_${attr.label}`][\n                'value'\n              ];\n          }\n        }\n      }\n\n      return;\n    },\n\n    _addPageNumber() {\n      const actionDiv = $(\n        '._tableContent .theme--dark.v-datatable .v-datatable__actions .v-datatable__actions__range-controls'\n      )[0];\n\n      const div = $(\n        `<div class=\"v-datatable__actions__page-number\">Page : ${this.pagination.page} / ${this.pages}</div>`\n      );\n\n      actionDiv.before(div[0]);\n    },\n\n    _filterElementSelected(liste) {\n      if (this.searchValue.trim().length > 0) {\n        return liste.filter((item) => {\n          const found = this.itemsSelected.find((el) => el.id === item.id);\n          return found;\n        });\n      }\n      return liste;\n    },\n\n    checkItem(item) {\n      this.itemsSelected = this.searched.filter((el) => el.selected);\n    },\n  },\n  computed: {\n    pages() {\n      return Math.ceil(this.searched.length / this.pagination.rowsPerPage);\n    },\n\n    searchDataBind() {\n      return `${this.searchValue}|${this.searchBy}`;\n    },\n  },\n  watch: {\n    searched() {\n      this.itemsSelected = this.searched.filter((el) => el.selected);\n    },\n    async tableContent() {\n      this.constructMap();\n      this.searched = this.sortByName(\n        this.filterByName(this.tableContent, this.searchValue)\n      );\n      this.pagination.totalItems = this.searched.length;\n    },\n\n    header() {\n      let formated = this.header.map((el) => {\n        let val = Object.assign({}, el);\n\n        val['text'] = `${el.category} / ${el.label}`;\n        val['value'] = `${el.category}_${el.label}`;\n\n        return val;\n      });\n\n      this.headerDisplayed = [\n        {\n          text: 'Name',\n          value: 'name',\n        },\n        {\n          text: 'Type',\n          value: 'type',\n        },\n        ...formated,\n      ];\n    },\n\n    pagination() {\n      const div = $('.v-datatable__actions__page-number')[0];\n      if (div) div.innerHTML = `Page : ${this.pagination.page} / ${this.pages}`;\n    },\n\n    searchDataBind() {\n      this.searchAndFilterTable();\n    },\n  },\n};\n</script>\n\n<style scoped>\n._tableContent {\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n}\n\n._tableContent .mdToolbar {\n  width: 100%;\n  height: 100px;\n  padding: 0px;\n  margin-bottom: 10px;\n  background-color: transparent;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n}\n\n._tableContent .mdToolbar .toolbar-start {\n  width: 40%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n._tableContent .mdToolbar .toolbar-end {\n  width: 50%;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n}\n\n._tableContent .mdToolbar .toolbar-end .searchDiv {\n  display: flex;\n}\n\n._tableContent .md-content.md-theme-default {\n  background: transparent !important;\n}\n\n._tableContent ._tableContainer {\n  width: 100%;\n  height: calc(100% - 118px);\n}\n\n._tableContent ._tableContainer .nameCell {\n  padding: 0px;\n  white-space: nowrap;\n  overflow: hidden;\n  max-width: 200px;\n  text-overflow: ellipsis;\n}\n\n._tableContent ._tableContainer .paginationDiv {\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n._tableContent ._tableContainer .paginationDiv .detail {\n  display: flex;\n  align-items: center;\n  font-size: 15px;\n}\n\n.buttonFab {\n  position: absolute;\n  bottom: 20px;\n  right: 20px;\n}\n</style>\n\n<style>\n._tableContent ._tableContainer .elevation-1 {\n  width: 100%;\n  height: 100%;\n}\n\n._tableContent ._tableContainer .elevation-1 .v-table__overflow {\n  height: calc(100% - 63px);\n  overflow-y: auto;\n}\n\n._tableContent\n  ._tableContainer\n  .elevation-1\n  .v-table__overflow\n  .theme--dark.v-table {\n  background-color: transparent;\n}\n\n.selectionMenu .md-button .md-ripple,\n._tableContent .mdToolbar .md-ripple,\n._tableContent ._tableContainer .md-ripple {\n  padding: 0px;\n}\n\n._tableContent\n  ._tableContainer\n  .elevation-1\n  .v-table__overflow::-webkit-scrollbar {\n  background-color: #fff;\n  width: 10px;\n}\n\n/* background of the scrollbar except button or resizer */\n._tableContent\n  ._tableContainer\n  .elevation-1\n  .v-table__overflow::-webkit-scrollbar-track {\n  /* background-color: #fff; */\n  background-color: #424242;\n}\n\n/* scrollbar itself */\n._tableContent\n  ._tableContainer\n  .elevation-1\n  .v-table__overflow::-webkit-scrollbar-thumb {\n  background-color: #babac0;\n  border-radius: 16px;\n  /* border: 5px solid #fff; */\n}\n\n/* set button(top and bottom of the scrollbar) */\n._tableContent\n  ._tableContainer\n  .elevation-1\n  .v-table__overflow::-webkit-scrollbar-button {\n  display: none;\n}\n\n.mdSpeedDialBtn .md-button .md-ripple {\n  width: 170px;\n  display: flex;\n  background-color: transparent;\n  justify-content: center;\n  align-items: center;\n  /* color: #448aff; */\n}\n\n._tableContent .mdToolbar .toolbar-end .md-field {\n  min-height: unset;\n  padding: 0px;\n  margin: 0px;\n}\n\n._tableContent .mdToolbar .toolbar-end .searchDiv .md-radio:not(.md-disabled),\n.md-radio:not(.md-disabled) .md-radio-label {\n  white-space: nowrap;\n}\n\n._tableContent .theme--dark.v-table,\n._tableContent .theme--dark.v-datatable .v-datatable__actions {\n  background-color: transparent;\n}\n\n._tableContent .theme--dark.v-datatable .v-datatable__actions {\n  width: 90%;\n  justify-content: space-between;\n  /* background-color: crimson; */\n}\n\n._tableContent\n  .theme--dark.v-datatable\n  .v-datatable__actions\n  .v-datatable__actions__select {\n  width: 30%;\n  justify-content: center;\n}\n\n._tableContent\n  .theme--dark.v-datatable\n  .v-datatable__actions\n  .v-datatable__actions__page-number {\n  /* width: 40px;\n  height: 100%;\n  text-align: center;\n  background-color: #448aff;\n  font-size: 1.5em;\n  font-weight: bold; */\n\n  width: 100px;\n  height: 50px;\n  /* font-size: 1.5em; */\n  /* font-weight: bold; */\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  /* border: 1px solid;\n  border-radius: 50%; */\n}\n\n._tableContent\n  .v-menu__content.theme--dark.v-menu__content--auto.menuable__content__active {\n  position: fixed;\n}\n\n._tableContent ._tableContainer .selectionMenu .md-list-item-content {\n  justify-content: unset;\n}\n</style>\n","<!--\nCopyright 2020 SpinalCom - www.spinalcom.com\n\nThis file is part of SpinalCore.\n\nPlease read all of the following terms and conditions\nof the Free Software license Agreement (\"Agreement\")\ncarefully.\n\nThis Agreement is a legally binding contract between\nthe Licensee (as defined below) and SpinalCom that\nsets forth the terms and conditions that govern your\nuse of the Program. By installing and/or using the\nProgram, you agree to abide by all the terms and\nconditions stated or referenced herein.\n\nIf you do not agree to abide by these terms and\nconditions, do not demonstrate your acceptance and do\nnot install or use the Program.\nYou should have received a copy of the license along\nwith this file. If not, see\n<http://resources.spinalcom.com/licenses.pdf>.\n-->\n\n<template>\n  <div class=\"content\"\n       v-if=\"data\"\n       @mouseover=\"mouseIsOver\"\n       @mouseleave=\"mouseOutOver\">\n\n    <div class=\"valueDiv\"\n         :class=\"{'contentEditable' : editable}\"\n         :contenteditable=\"editable\"\n         ref=\"display\"\n         @input=\"changeValue\">\n      {{data.displayValue}}\n    </div>\n\n    <md-button class=\"contentIcon md-icon-button md-dense\"\n               v-if=\"displayBtn()\"\n               @click=\"findValueInMaquette\">\n      <md-tooltip>find value in maquette</md-tooltip>\n      <md-icon>my_location</md-icon>\n    </md-button>\n\n    <!-- <md-icon class=\"contentIcon\"\n             v-if=\"displayBtn()\"\n             @click=\"findValueInMaquette\">my_location</md-icon> -->\n\n  </div>\n</template>\n\n<script>\nimport attributeService from \"../../../../../services\";\nimport { SpinalGraphService } from \"spinal-env-viewer-graph-service\";\nconst lodash = require(\"lodash\");\n\nexport default {\n  name: \"tableContentComponent\",\n  props: [\"editable\", \"item\", \"attribute\", \"itemsMap\"],\n  data() {\n    return {\n      // value: \"\",\n      // displayValue: \"\"\n      data: undefined,\n      mouseOver: false,\n    };\n  },\n  mounted() {\n    // this.value = this.getValue();\n    // this.displayValue = this.value;\n\n    this.data = this.getValue();\n  },\n  methods: {\n    getValue() {\n      let value = this.itemsMap.get(this.item.id);\n      return value[`${this.attribute.category}_${this.attribute.label}`];\n      // let found;\n      // if (this.item && this.attribute) {\n      //   found = this.item.attributes.find(el => {\n      //     return (\n      //       el.label === this.attribute.label &&\n      //       el.category === this.attribute.category\n      //     );\n      //   });\n      // }\n      // if (found) {\n      //   found[\"displayValue\"] = found.value;\n      //   return found;\n      // }\n      // return {\n      //   value: \"-\",\n      //   displayValue: \"-\"\n      // };\n    },\n\n    setValue() {\n      this.$emit(\"setValue\", {\n        item: this.item,\n        attribute: this.attribute,\n        value: this.data.displayValue,\n      });\n    },\n\n    cancelValue() {\n      this.data.displayValue = this.data.value;\n      this.$refs.display.innerText = this.data.displayValue;\n      this.itemsMap.get(this.item.id)[\n        `${this.attribute.category}_${this.attribute.label}`\n      ][\"displayValue\"] = this.itemsMap.get(this.item.id)[\n        `${this.attribute.category}_${this.attribute.label}`\n      ][\"value\"];\n    },\n\n    changeValue(event) {\n      const el = event.target;\n\n      this.itemsMap.get(this.item.id)[\n        `${this.attribute.category}_${this.attribute.label}`\n      ][\"displayValue\"] = this.$refs.display.innerText;\n      this.displayValue = el.innerText;\n\n      this.setCursorAtEnd(el);\n    },\n\n    setValueToColumn(category, label, value) {\n      if (\n        value.length > 0 &&\n        this.attribute.category === category &&\n        this.attribute.label === label\n      ) {\n        this.data.displayValue = value;\n        this.$refs.display.innerText = value;\n      }\n    },\n\n    validateValue() {\n      this.data.displayValue = this.$refs.display.innerText;\n\n      if (this.data.displayValue !== this.data.value) {\n        attributeService\n          .updateAttributeValue(\n            this.item.id,\n            this.attribute.category,\n            this.attribute.label,\n            this.data.displayValue\n          )\n          .then(() => {\n            this.data.value = this.data.displayValue;\n            this.setValue();\n          });\n      }\n    },\n\n    mouseIsOver() {\n      this.mouseOver = true;\n    },\n\n    displayBtn() {\n      let nodeInfo = SpinalGraphService.getInfo(this.item.id);\n\n      // const isBimObject = nodeInfo && nodeInfo.type.get() === \"BIMObject\";\n      const is3DItem = nodeInfo && (nodeInfo.dbId || nodeInfo.externalId);\n\n      return this.editable && this.mouseOver && is3DItem;\n    },\n\n    mouseOutOver() {\n      this.mouseOver = false;\n    },\n\n    findValueInMaquette() {\n      this.$emit(\"findValueInMaquette\", {\n        id: this.item.id,\n        category: this.attribute.category,\n        attribute: this.attribute.label,\n      });\n    },\n\n    setCursorAtEnd(el) {\n      el.focus();\n      if (\n        typeof window.getSelection != \"undefined\" &&\n        typeof document.createRange != \"undefined\"\n      ) {\n        var range = document.createRange();\n        range.selectNodeContents(el);\n        range.collapse(false);\n        var sel = window.getSelection();\n        sel.removeAllRanges();\n        sel.addRange(range);\n      } else if (typeof document.body.createTextRange != \"undefined\") {\n        var textRange = document.body.createTextRange();\n        textRange.moveToElementText(el);\n        textRange.collapse(false);\n        textRange.select();\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.content {\n  width: 100%;\n  word-break: break-word;\n  display: flex;\n}\n\n.content .valueDiv {\n  width: 80%;\n}\n\n.content .contentEditable {\n  /* width: 80%; */\n  padding-bottom: 6px;\n  border-bottom: 1px solid gray;\n}\n\n.content .contentIcon {\n  /* width: 20%;\n  min-width: 10px;\n  width: 10px;\n  height: 10px; */\n  /* z-index: 999999; */\n\n  width: 24px;\n  min-width: 24px;\n  padding: 0px;\n  margin: 0px;\n  height: 24px;\n}\n\n.content .contentIcon:hover {\n  cursor: pointer;\n  color: #448aff;\n}\n</style>\n\n<style>\n.content .contentIcon .md-ripple {\n  padding: 0px;\n}\n</style>","import SpinalAttributeService from './classes/spinalAttributeService';\nimport SpinalConfigurationService from './classes/spinalConfigurationService';\n\nconst spinalAttributeService = new SpinalAttributeService();\nconst spinalConfigurationService = new SpinalConfigurationService()\n\nexport default spinalAttributeService;\n\nexport {\n  spinalAttributeService,\n  spinalConfigurationService\n}","/*\n * Copyright 2023 SpinalCom - www.spinalcom.com\n *\n * This file is part of SpinalCore.\n *\n * Please read all of the following terms and conditions\n * of the Free Software license Agreement (\"Agreement\")\n * carefully.\n *\n * This Agreement is a legally binding contract between\n * the Licensee (as defined below) and SpinalCom that\n * sets forth the terms and conditions that govern your\n * use of the Program. By installing and/or using the\n * Program, you agree to abide by all the terms and\n * conditions stated or referenced herein.\n *\n * If you do not agree to abide by these terms and\n * conditions, do not demonstrate your acceptance and do\n * not install or use the Program.\n * You should have received a copy of the license along\n * with this file. If not, see\n * <http://resources.spinalcom.com/licenses.pdf>.\n */\n\nimport {SpinalGraphService} from 'spinal-env-viewer-graph-service';\n\nimport {serviceDocumentation} from 'spinal-env-viewer-plugin-documentation-service';\n\nimport {BIM_OBJECT_TYPE} from 'spinal-env-viewer-plugin-forge/dist/Constants';\n\nimport {bimObjectManagerService} from 'spinal-env-viewer-bim-manager-service';\n\nimport {groupManagerService} from 'spinal-env-viewer-plugin-group-manager-service';\n\n// import {\n//   groupService\n// } from \"spinal-env-viewer-room-manager/services/service.js\";\n\nexport default class SpinalAttributeService {\n  constructor() {}\n\n  getAllAttributes(nodeId, liste) {\n    let realNode = SpinalGraphService.getRealNode(nodeId);\n\n    if (realNode) {\n      // return serviceDocumentation.getAllAttributes(realNode).then(\n      //   argAttributes => {\n      //     return argAttributes.map(el => {\n      //       let info = el.get();\n      //       if (liste && liste.indexOf(info.label) === -1) liste.push(info\n      //         .label);\n      //       return info;\n      //     })\n      //   });\n\n      return serviceDocumentation.getCategory(realNode).then((res) => {\n        return res\n          .map((el) => {\n            let attrs = el.element.get();\n            return attrs.map((attr) => {\n              if (liste && liste.indexOf(attr.label) === -1)\n                liste.push(attr.label);\n              attr['category'] = el.nameCat;\n              return attr;\n            });\n          })\n          .flat();\n      });\n    } else {\n      return Promise.resolve([]);\n    }\n  }\n\n  async getAllData(contextId, nodeId) {\n    let context = SpinalGraphService.getRealNode(contextId);\n    let realNode = SpinalGraphService.getRealNode(nodeId);\n    let res = {\n      types: [],\n      attributes: [],\n      data: {},\n    };\n\n    if (context && realNode) {\n      await realNode.findInContext(context, async (node) => {\n        SpinalGraphService._addNode(node);\n        let type = node.getType().get();\n        let info = node.info.get();\n\n        if (res.types.indexOf(type) === -1) {\n          res.types.push(type);\n        }\n\n        if (typeof res.data[type] === 'undefined') res.data[type] = [];\n\n        info['attributes'] = await this.getAllAttributes(\n          info.id,\n          res.attributes\n        );\n\n        res.data[type].push(info);\n      });\n    }\n\n    return res;\n  }\n\n  getBimObjectAttribute(bimObjectInfo, attributeName) {\n    let value = attributeName.toLowerCase();\n\n    let model =\n      window.spinal.BimObjectService.getModelByBimfile(\n        bimObjectInfo.bimFileId\n      ) || window.NOP_VIEWER.model;\n\n    const dbId = bimObjectInfo.dbid || bimObjectInfo.dbId;\n\n    if (model) {\n      return bimObjectManagerService\n        .getBimObjectProperties({\n          model: model,\n          selection: [dbId],\n        })\n        .then((res) => {\n          let properties = res[0].properties[0].properties;\n\n          let found = properties.find((el) => {\n            let attrName = el.attributeName.toLowerCase();\n            let displayName = el.displayName.toLowerCase();\n\n            return attrName === value || displayName === value;\n          });\n\n          if (found) {\n            return found.displayValue;\n          } else {\n            return '-';\n          }\n        })\n        .catch((err) => {\n          console.error(err);\n        });\n    } else {\n      return '-';\n    }\n  }\n\n  async createAttribute(nodeId, categoryName, attributeName) {\n    let realNode = SpinalGraphService.getRealNode(nodeId);\n\n    let category;\n\n    category = await serviceDocumentation.getCategoryByName(\n      realNode,\n      categoryName\n    );\n\n    if (typeof category === 'undefined') {\n      category = await serviceDocumentation.addCategoryAttribute(\n        realNode,\n        categoryName\n      );\n    }\n\n    let attr = {\n      label: attributeName,\n      value: '-',\n    };\n    if (realNode.getType().get() === BIM_OBJECT_TYPE) {\n      attr.value = await this.getBimObjectAttribute(\n        realNode.info.get(),\n        attributeName\n      );\n    }\n\n    await serviceDocumentation.addAttributeByCategory(\n      realNode,\n      category,\n      attr.label,\n      attr.value\n    );\n  }\n\n  async updateAttributeValue(\n    nodeId,\n    categoryName,\n    attributeName,\n    attributeValue\n  ) {\n    let attr = await this.getOrCreateAttribute(\n      nodeId,\n      categoryName,\n      attributeName\n    );\n\n    if (attr && attr.value) {\n      attr.value.set(attributeValue);\n    }\n  }\n\n  getBimObjects(nodeId) {\n    // console.log(SpinalGraphService.getInfo(nodeId));\n    // return SpinalGraphService.findNodes(nodeId,)\n  }\n\n  async getOrCreateAttribute(nodeId, categoryName, attributeName) {\n    let realNode = SpinalGraphService.getRealNode(nodeId);\n    if (realNode) {\n      let category = await serviceDocumentation.getCategoryByName(\n        realNode,\n        categoryName\n      );\n\n      if (typeof category === 'undefined') {\n        category = await serviceDocumentation.addCategoryAttribute(\n          realNode,\n          categoryName\n        );\n      }\n\n      let attributes = await serviceDocumentation.getAttributesByCategory(\n        realNode,\n        categoryName\n      );\n\n      let attr = attributes.find((el) => {\n        return el.label.get() === attributeName;\n      });\n\n      if (attr) return attr;\n\n      await serviceDocumentation.addAttributeByCategory(\n        realNode,\n        category,\n        attributeName,\n        '-'\n      );\n\n      attributes = await serviceDocumentation.getAttributesByCategory(\n        realNode,\n        categoryName\n      );\n\n      return attributes.find((el) => {\n        return el.label.get() === attributeName;\n      });\n    }\n  }\n\n  getAllGroupContext(type) {\n    // return Promise.all([SpinalGraphService.getContextWithType(\n    //     groupService.constants.ROOMS_GROUP_CONTEXT),\n    //   SpinalGraphService.getContextWithType(\n    //     groupService.constants.EQUIPMENTS_GROUP_CONTEXT),\n    //   SpinalGraphService.getContextWithType(\n    //     groupService.constants.ENDPOINTS_GROUP_CONTEXT)\n    // ]).then(values => {\n    //   let contexts = values.flat();\n\n    //   let promises = contexts.map(async context => {\n    //     let res = context.info.get();\n    //     res[\"category\"] = await this.getCategory(res.id, res\n    //       .type);\n    //     return res;\n    //   })\n\n    //   return Promise.all(promises);\n\n    // })\n\n    // console.log(\"service type\", type);\n\n    return groupManagerService.getGroupContexts(type).then((contexts) => {\n      const promises = contexts.map(async (context) => {\n        context['category'] = await this.getCategory(context.id);\n        return context;\n      });\n\n      return Promise.all(promises);\n    });\n  }\n\n  async getCategory(contextId) {\n    // let relationName = groupService.constants\n    //   .CONTEXT_TO_CATEGORY_RELATION;\n\n    // return SpinalGraphService.getChildren(contextId, [relationName]).then(\n    //   children => {\n    //     let promises = children.map(async child => {\n    //       let info = child.get();\n    //       info[\"groups\"] = await this.getGroup(child.id, child\n    //         .type);\n    //       return info;\n    //     })\n\n    //     return Promise.all(promises);\n\n    //   })\n\n    const categories = await groupManagerService.getCategories(contextId);\n\n    const promises = categories.map(async (category) => {\n      let info = category.get();\n      info['groups'] = await this.getGroup(category.id);\n      return info;\n    });\n\n    return Promise.all(promises);\n  }\n\n  async getGroup(categoryId) {\n    // let relationName = groupService.constants.CATEGORY_TO_GROUP_RELATION;\n\n    // return SpinalGraphService.getChildren(categoryId, [relationName])\n    //   .then(\n    //     children => {\n    //       return children.map(el => el.get());\n    //     })\n\n    const groups = await groupManagerService.getGroups(categoryId);\n\n    return groups.map((el) => el.get());\n  }\n\n  linkItem(contextId, parentId, itemId) {\n    // groupService.linkElementToGroup(parentId, itemId, contextId)\n    return groupManagerService.linkElementToGroup(contextId, parentId, itemId);\n  }\n}\n","\"use strict\";\n/*\n * Copyright 2020 SpinalCom - www.spinalcom.com\n *\n * This file is part of SpinalCore.\n *\n * Please read all of the following terms and conditions\n * of the Free Software license Agreement (\"Agreement\")\n * carefully.\n *\n * This Agreement is a legally binding contract between\n * the Licensee (as defined below) and SpinalCom that\n * sets forth the terms and conditions that govern your\n * use of the Program. By installing and/or using the\n * Program, you agree to abide by all the terms and\n * conditions stated or referenced herein.\n *\n * If you do not agree to abide by these terms and\n * conditions, do not demonstrate your acceptance and do\n * not install or use the Program.\n * You should have received a copy of the license along\n * with this file. If not, see\n * <http://resources.spinalcom.com/licenses.pdf>.\n */\nexports.__esModule = true;\nexports.REFERENCE_OBJECT_RELATION_TYPE = exports.BIM_OBJECT_RELATION_TYPE = exports.BIM_NODE_RELATION_TYPE = exports.BIM_OBJECT_VERSION_RELATION_TYPE = exports.REFERENCE_OBJECT_RELATION_NAME = exports.BIM_OBJECT_VERSION_RELATION_NAME = exports.BIM_OBJECT_RELATION_NAME = exports.BIM_NODE_RELATION_NAME = exports.BIM_CONTEXT_RELATION_TYPE = exports.BIM_CONTEXT_RELATION_NAME = exports.BIM_OBJECT_TYPE = exports.PART_RELATION_TYPE = exports.SCENE_RELATION_TYPE = exports.PART_RELATION_NAME = exports.SCENE_TYPE = exports.SCENE_RELATION_NAME = void 0;\nvar spinal_env_viewer_graph_service_1 = require(\"spinal-env-viewer-graph-service\");\nvar constants_js_1 = require(\"spinal-env-viewer-context-geographic-service/build/constants.js\");\nexports.SCENE_RELATION_NAME = 'hasScene';\nexports.SCENE_TYPE = \"scene\";\nexports.PART_RELATION_NAME = 'hasParts';\nexports.SCENE_RELATION_TYPE = spinal_env_viewer_graph_service_1.SPINAL_RELATION_PTR_LST_TYPE;\nexports.PART_RELATION_TYPE = spinal_env_viewer_graph_service_1.SPINAL_RELATION_PTR_LST_TYPE;\nexports.BIM_OBJECT_TYPE = constants_js_1.EQUIPMENT_TYPE;\nexports.BIM_CONTEXT_RELATION_NAME = \"hasBimContext\";\nexports.BIM_CONTEXT_RELATION_TYPE = spinal_env_viewer_graph_service_1.SPINAL_RELATION_PTR_LST_TYPE;\nexports.BIM_NODE_RELATION_NAME = \"hasBimNode\";\nexports.BIM_OBJECT_RELATION_NAME = constants_js_1.EQUIPMENT_RELATION;\nexports.BIM_OBJECT_VERSION_RELATION_NAME = \"hasBimVersion\";\nexports.REFERENCE_OBJECT_RELATION_NAME = constants_js_1.REFERENCE_RELATION;\nexports.BIM_OBJECT_VERSION_RELATION_TYPE = spinal_env_viewer_graph_service_1.SPINAL_RELATION_PTR_LST_TYPE;\nexports.BIM_NODE_RELATION_TYPE = spinal_env_viewer_graph_service_1.SPINAL_RELATION_PTR_LST_TYPE;\nexports.BIM_OBJECT_RELATION_TYPE = spinal_env_viewer_graph_service_1.SPINAL_RELATION_PTR_LST_TYPE;\nexports.REFERENCE_OBJECT_RELATION_TYPE = spinal_env_viewer_graph_service_1.SPINAL_RELATION_PTR_LST_TYPE;\n","\"use strict\";\n/*\n * Copyright 2023 SpinalCom - www.spinalcom.com\n *\n * This file is part of SpinalCore.\n *\n * Please read all of the following terms and conditions\n * of the Free Software license Agreement (\"Agreement\")\n * carefully.\n *\n * This Agreement is a legally binding contract between\n * the Licensee (as defined below) and SpinalCom that\n * sets forth the terms and conditions that govern your\n * use of the Program. By installing and/or using the\n * Program, you agree to abide by all the terms and\n * conditions stated or referenced herein.\n *\n * If you do not agree to abide by these terms and\n * conditions, do not demonstrate your acceptance and do\n * not install or use the Program.\n * You should have received a copy of the license along\n * with this file. If not, see\n * <http://resources.spinalcom.com/licenses.pdf>.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.REFERENCE_ROOM_RELATION = exports.ROOM_REFERENCE_CONTEXT = exports.ZONE_REFERENCE_CONTEXT = exports.FLOOR_REFERENCE_CONTEXT = exports.BUILDING_REFERENCE_CONTEXT = exports.SITE_REFERENCE_CONTEXT = exports.REFERENCE_RELATION = exports.REFERENCE_TYPE = exports.MAP_RELATION_TYPE = exports.MAP_TYPE_RELATION = exports.GEOGRAPHIC_RELATIONS_ORDER = exports.EQUIPMENT_RELATION = exports.GEOGRAPHIC_RELATIONS = exports.ROOM_RELATION = exports.ZONE_RELATION = exports.FLOOR_RELATION = exports.BUILDING_RELATION = exports.SITE_RELATION = exports.GEOGRAPHIC_TYPES_ORDER = exports.EQUIPMENT_TYPE = exports.GEOGRAPHIC_TYPES = exports.ROOM_TYPE = exports.ZONE_TYPE = exports.FLOOR_TYPE = exports.BUILDING_TYPE = exports.SITE_TYPE = exports.CONTEXT_TYPE = void 0;\nconst CONTEXT_TYPE = 'geographicContext';\nexports.CONTEXT_TYPE = CONTEXT_TYPE;\nconst SITE_TYPE = 'geographicSite';\nexports.SITE_TYPE = SITE_TYPE;\nconst BUILDING_TYPE = 'geographicBuilding';\nexports.BUILDING_TYPE = BUILDING_TYPE;\nconst FLOOR_TYPE = 'geographicFloor';\nexports.FLOOR_TYPE = FLOOR_TYPE;\nconst ZONE_TYPE = 'geographicZone';\nexports.ZONE_TYPE = ZONE_TYPE;\nconst ROOM_TYPE = 'geographicRoom';\nexports.ROOM_TYPE = ROOM_TYPE;\nconst EQUIPMENT_TYPE = 'BIMObject';\nexports.EQUIPMENT_TYPE = EQUIPMENT_TYPE;\nconst REFERENCE_TYPE = 'geographicReference';\nexports.REFERENCE_TYPE = REFERENCE_TYPE;\nconst SITE_RELATION = 'hasGeographicSite';\nexports.SITE_RELATION = SITE_RELATION;\nconst BUILDING_RELATION = 'hasGeographicBuilding';\nexports.BUILDING_RELATION = BUILDING_RELATION;\nconst FLOOR_RELATION = 'hasGeographicFloor';\nexports.FLOOR_RELATION = FLOOR_RELATION;\nconst ZONE_RELATION = 'hasGeographicZone';\nexports.ZONE_RELATION = ZONE_RELATION;\nconst ROOM_RELATION = 'hasGeographicRoom';\nexports.ROOM_RELATION = ROOM_RELATION;\nconst EQUIPMENT_RELATION = 'hasBimObject';\nexports.EQUIPMENT_RELATION = EQUIPMENT_RELATION;\nconst REFERENCE_RELATION = 'hasReferenceObject';\nexports.REFERENCE_RELATION = REFERENCE_RELATION;\nconst REFERENCE_ROOM_RELATION = 'hasReferenceObject.ROOM';\nexports.REFERENCE_ROOM_RELATION = REFERENCE_ROOM_RELATION;\nconst SITE_REFERENCE_CONTEXT = '.SiteContext';\nexports.SITE_REFERENCE_CONTEXT = SITE_REFERENCE_CONTEXT;\nconst BUILDING_REFERENCE_CONTEXT = '.BuildingContext';\nexports.BUILDING_REFERENCE_CONTEXT = BUILDING_REFERENCE_CONTEXT;\nconst FLOOR_REFERENCE_CONTEXT = '.FloorContext';\nexports.FLOOR_REFERENCE_CONTEXT = FLOOR_REFERENCE_CONTEXT;\nconst ZONE_REFERENCE_CONTEXT = '.ZoneContext';\nexports.ZONE_REFERENCE_CONTEXT = ZONE_REFERENCE_CONTEXT;\nconst ROOM_REFERENCE_CONTEXT = '.RoomContext';\nexports.ROOM_REFERENCE_CONTEXT = ROOM_REFERENCE_CONTEXT;\nconst GEOGRAPHIC_TYPES = Object.freeze([\n    SITE_TYPE,\n    BUILDING_TYPE,\n    FLOOR_TYPE,\n    ZONE_TYPE,\n    ROOM_TYPE,\n]);\nexports.GEOGRAPHIC_TYPES = GEOGRAPHIC_TYPES;\nconst GEOGRAPHIC_TYPES_ORDER = Object.freeze([\n    CONTEXT_TYPE,\n    SITE_TYPE,\n    BUILDING_TYPE,\n    FLOOR_TYPE,\n    ZONE_TYPE,\n    ROOM_TYPE,\n    EQUIPMENT_TYPE,\n]);\nexports.GEOGRAPHIC_TYPES_ORDER = GEOGRAPHIC_TYPES_ORDER;\nconst GEOGRAPHIC_RELATIONS = Object.freeze([\n    SITE_RELATION,\n    BUILDING_RELATION,\n    FLOOR_RELATION,\n    ZONE_RELATION,\n    ROOM_RELATION,\n    EQUIPMENT_RELATION,\n]);\nexports.GEOGRAPHIC_RELATIONS = GEOGRAPHIC_RELATIONS;\nconst GEOGRAPHIC_RELATIONS_ORDER = Object.freeze([\n    SITE_RELATION,\n    BUILDING_RELATION,\n    FLOOR_RELATION,\n    ZONE_RELATION,\n    ROOM_RELATION,\n    EQUIPMENT_RELATION,\n]);\nexports.GEOGRAPHIC_RELATIONS_ORDER = GEOGRAPHIC_RELATIONS_ORDER;\nconst MAP_TYPE_RELATION = Object.freeze(new Map([\n    [SITE_TYPE, SITE_RELATION],\n    [BUILDING_TYPE, BUILDING_RELATION],\n    [FLOOR_TYPE, FLOOR_RELATION],\n    [ZONE_TYPE, ZONE_RELATION],\n    [ROOM_TYPE, ROOM_RELATION],\n    [EQUIPMENT_TYPE, EQUIPMENT_RELATION],\n]));\nexports.MAP_TYPE_RELATION = MAP_TYPE_RELATION;\nconst MAP_RELATION_TYPE = Object.freeze(new Map([\n    [SITE_RELATION, SITE_TYPE],\n    [BUILDING_RELATION, BUILDING_TYPE],\n    [FLOOR_RELATION, FLOOR_TYPE],\n    [ZONE_RELATION, ZONE_TYPE],\n    [ROOM_RELATION, ROOM_TYPE],\n    [EQUIPMENT_RELATION, EQUIPMENT_TYPE],\n]));\nexports.MAP_RELATION_TYPE = MAP_RELATION_TYPE;\n//# sourceMappingURL=constants.js.map","/*\n * Copyright 2023 SpinalCom - www.spinalcom.com\n *\n * This file is part of SpinalCore.\n *\n * Please read all of the following terms and conditions\n * of the Free Software license Agreement (\"Agreement\")\n * carefully.\n *\n * This Agreement is a legally binding contract between\n * the Licensee (as defined below) and SpinalCom that\n * sets forth the terms and conditions that govern your\n * use of the Program. By installing and/or using the\n * Program, you agree to abide by all the terms and\n * conditions stated or referenced herein.\n *\n * If you do not agree to abide by these terms and\n * conditions, do not demonstrate your acceptance and do\n * not install or use the Program.\n * You should have received a copy of the license along\n * with this file. If not, see\n * <http://resources.spinalcom.com/licenses.pdf>.\n */\n\nconst CONTEXT_TYPE = 'geographicContext';\nconst SITE_TYPE = 'geographicSite';\nconst BUILDING_TYPE = 'geographicBuilding';\nconst FLOOR_TYPE = 'geographicFloor';\nconst ZONE_TYPE = 'geographicZone';\nconst ROOM_TYPE = 'geographicRoom';\nconst EQUIPMENT_TYPE = 'BIMObject';\nconst REFERENCE_TYPE = 'geographicReference';\n\nconst SITE_RELATION = 'hasGeographicSite';\nconst BUILDING_RELATION = 'hasGeographicBuilding';\nconst FLOOR_RELATION = 'hasGeographicFloor';\nconst ZONE_RELATION = 'hasGeographicZone';\nconst ROOM_RELATION = 'hasGeographicRoom';\nconst EQUIPMENT_RELATION = 'hasBimObject';\nconst REFERENCE_RELATION = 'hasReferenceObject';\nconst REFERENCE_ROOM_RELATION = 'hasReferenceObject.ROOM';\n\nconst SITE_REFERENCE_CONTEXT = '.SiteContext';\nconst BUILDING_REFERENCE_CONTEXT = '.BuildingContext';\nconst FLOOR_REFERENCE_CONTEXT = '.FloorContext';\nconst ZONE_REFERENCE_CONTEXT = '.ZoneContext';\nconst ROOM_REFERENCE_CONTEXT = '.RoomContext';\n\nconst GEOGRAPHIC_TYPES = Object.freeze([\n  SITE_TYPE,\n  BUILDING_TYPE,\n  FLOOR_TYPE,\n  ZONE_TYPE,\n  ROOM_TYPE,\n]) as string[];\n\nconst GEOGRAPHIC_TYPES_ORDER = Object.freeze([\n  CONTEXT_TYPE,\n  SITE_TYPE,\n  BUILDING_TYPE,\n  FLOOR_TYPE,\n  ZONE_TYPE,\n  ROOM_TYPE,\n  EQUIPMENT_TYPE,\n]) as string[];\n\nconst GEOGRAPHIC_RELATIONS = Object.freeze([\n  SITE_RELATION,\n  BUILDING_RELATION,\n  FLOOR_RELATION,\n  ZONE_RELATION,\n  ROOM_RELATION,\n  EQUIPMENT_RELATION,\n]) as string[];\n\nconst GEOGRAPHIC_RELATIONS_ORDER = Object.freeze([\n  SITE_RELATION,\n  BUILDING_RELATION,\n  FLOOR_RELATION,\n  ZONE_RELATION,\n  ROOM_RELATION,\n  EQUIPMENT_RELATION,\n]) as string[];\n\nconst MAP_TYPE_RELATION = Object.freeze(\n  new Map([\n    [SITE_TYPE, SITE_RELATION],\n    [BUILDING_TYPE, BUILDING_RELATION],\n    [FLOOR_TYPE, FLOOR_RELATION],\n    [ZONE_TYPE, ZONE_RELATION],\n    [ROOM_TYPE, ROOM_RELATION],\n    [EQUIPMENT_TYPE, EQUIPMENT_RELATION],\n  ])\n) as Map<string, string>;\n\nconst MAP_RELATION_TYPE = Object.freeze(\n  new Map([\n    [SITE_RELATION, SITE_TYPE],\n    [BUILDING_RELATION, BUILDING_TYPE],\n    [FLOOR_RELATION, FLOOR_TYPE],\n    [ZONE_RELATION, ZONE_TYPE],\n    [ROOM_RELATION, ROOM_TYPE],\n    [EQUIPMENT_RELATION, EQUIPMENT_TYPE],\n  ])\n) as Map<string, string>;\n\nexport {\n  CONTEXT_TYPE,\n  SITE_TYPE,\n  BUILDING_TYPE,\n  FLOOR_TYPE,\n  ZONE_TYPE,\n  ROOM_TYPE,\n  GEOGRAPHIC_TYPES,\n  EQUIPMENT_TYPE,\n  GEOGRAPHIC_TYPES_ORDER,\n  SITE_RELATION,\n  BUILDING_RELATION,\n  FLOOR_RELATION,\n  ZONE_RELATION,\n  ROOM_RELATION,\n  GEOGRAPHIC_RELATIONS,\n  EQUIPMENT_RELATION,\n  GEOGRAPHIC_RELATIONS_ORDER,\n  MAP_TYPE_RELATION,\n  MAP_RELATION_TYPE,\n  REFERENCE_TYPE,\n  REFERENCE_RELATION,\n  SITE_REFERENCE_CONTEXT,\n  BUILDING_REFERENCE_CONTEXT,\n  FLOOR_REFERENCE_CONTEXT,\n  ZONE_REFERENCE_CONTEXT,\n  ROOM_REFERENCE_CONTEXT,\n  REFERENCE_ROOM_RELATION\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst bimService_1 = require(\"./bimObjects/bimService\");\nexports.bimObjectManagerService = bimService_1.default;\n//# sourceMappingURL=index.js.map",null,"\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass BimObjectManagerService {\n    constructor() { }\n    getAllBimObjectsProperties(model) {\n        return this.getBimObjectProperties([\n            {\n                model: model,\n                selection: this.getLeafDbIds(model).selection\n            }\n        ]);\n    }\n    getBimObjectProperties(argBimObjects) {\n        // let properties = [];\n        let bimOjects = Array.isArray(argBimObjects)\n            ? argBimObjects\n            : [argBimObjects];\n        let promises = bimOjects.map(el => {\n            return this._getProperties(el.model, el.selection);\n        });\n        return Promise.all(promises).then(res => {\n            return res;\n        });\n    }\n    getLeafDbIds(model, rootId) {\n        const tree = model.getInstanceTree();\n        const dbIds = [];\n        if (typeof rootId === \"undefined\") {\n            rootId = [tree.nodeAccess.rootId];\n        }\n        else {\n            rootId = Array.isArray(rootId) ? rootId : [rootId];\n        }\n        rootId.forEach(el => {\n            const queue = [el];\n            let hasChildren;\n            while (queue.length) {\n                let id = queue.pop();\n                hasChildren = false;\n                tree.enumNodeChildren(id, childId => {\n                    hasChildren = true;\n                    queue.push(childId);\n                });\n                if (!hasChildren) {\n                    dbIds.push(id);\n                }\n            }\n        });\n        return { model: model, selection: dbIds };\n    }\n    getBimObjectsByPropertiesName(model, properties) {\n        return this.getAllBimObjectsProperties(model).then(res => {\n            let result = [];\n            for (let i = 0; i < res.length; i++) {\n                const element = res[i];\n                for (let j = 0; j < element.properties.length; j++) {\n                    const property = element.properties[j];\n                    if (typeof this._getLabel(property, properties) !== \"undefined\") {\n                        result.push(property);\n                    }\n                    // }\n                }\n                return result;\n            }\n        });\n    }\n    getBimObjectsValidated(referential, regEx) {\n        return this.getBimObjectProperties(referential).then(res => {\n            return res.map(element => {\n                return {\n                    model: element.model,\n                    properties: element.properties.filter(el => {\n                        return this._isValid(el, regEx);\n                    })\n                };\n            });\n        });\n    }\n    getBimObjectsByName(model, bimObjectName, labelName) {\n        return new Promise(resolve => {\n            model.search(bimObjectName.trim(), (res) => __awaiter(this, void 0, void 0, function* () {\n                let properties = yield this.getBimObjectProperties([\n                    { model: model, selection: res }\n                ]);\n                resolve(properties);\n            }), () => {\n                resolve([]);\n            }, labelName);\n        });\n    }\n    ////////////////////////////////////////////////////////////////////////\n    //                             PRIVATES                               //\n    ////////////////////////////////////////////////////////////////////////\n    _getProperties(model, selection) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let properties = selection.map(el => {\n                return new Promise(resolve => {\n                    model.getProperties(el, res => {\n                        // properties.push(res);\n                        resolve(res);\n                    }, err => {\n                        resolve(undefined);\n                    });\n                });\n            });\n            return {\n                model: model,\n                properties: yield Promise.all(properties)\n            };\n        });\n    }\n    _getAllDbIds(model) {\n        var instanceTree = model.getData().instanceTree;\n        var allDbIdsStr = Object.keys(instanceTree.nodeAccess.dbIdToIndex);\n        return allDbIdsStr.map(function (id) {\n            return parseInt(id);\n        });\n    }\n    _getLabel(bim, properties) {\n        for (let i = 0; i < properties.length; i++) {\n            const propertieValue = properties[i].value;\n            const propertyName = properties[i].name;\n            const found = bim.properties.find(el => {\n                return typeof propertieValue === \"undefined\" ||\n                    propertieValue.length === 0\n                    ? el.displayName.toLowerCase() ===\n                        propertyName.trim().toLocaleLowerCase()\n                    : el.displayName.toLowerCase() ===\n                        propertyName.trim().toLocaleLowerCase() &&\n                        propertieValue == el.displayValue;\n            });\n            if (typeof found === \"undefined\") {\n                return undefined;\n            }\n        }\n        return true;\n    }\n    _isValid(el, regEx) {\n        for (let i = 0; i < regEx.length; i++) {\n            let nameRegex = regEx[i].nameRegex;\n            let valueRegex = regEx[i].valueRegex;\n            let found = el.properties.find(res => {\n                if (typeof valueRegex === \"undefined\") {\n                    return nameRegex.test(res.displayName);\n                }\n                return (nameRegex.test(res.displayName) && valueRegex.test(res.displayValue));\n            });\n            if (typeof found === \"undefined\") {\n                return false;\n            }\n        }\n        return true;\n    }\n}\nexports.default = new BimObjectManagerService();\n//# sourceMappingURL=bimService.js.map",null,"import {\n  groupManagerService\n} from \"spinal-env-viewer-plugin-group-manager-service\";\n\n\nimport {\n  SpinalGraphService\n} from \"spinal-env-viewer-graph-service\";\n\nexport default class SpinalConfigurationService {\n  constructor() {\n    this.CONTEXT_NAME = \"NomenclatureConfiguration\";\n    this.CONFIGURATION_PROFIL_TYPE = \"AttributeConfiguration\";\n    this.ATTRIBUTE_TYPE = \"configurationAttribute\";\n  }\n\n  async createOrGetContext() {\n    const context = await groupManagerService.createGroupContext(\n      this.CONTEXT_NAME,\n      this.CONFIGURATION_PROFIL_TYPE\n    );\n\n    return context;\n  }\n\n  async createCategory(categoryName, iconName) {\n    const context = await this.createOrGetContext();\n    const contextId = context ? context.info.id.get() : undefined;\n\n    return groupManagerService.addCategory(contextId, categoryName, iconName);\n  }\n\n  async createGroup(categoryId, groupName, groupColor) {\n    const context = await this.createOrGetContext();\n    const contextId = context ? context.info.id.get() : undefined;\n\n    return groupManagerService.addGroup(\n      contextId,\n      categoryId,\n      groupName,\n      groupColor\n    );\n  }\n\n  async createConfiguration(\n    groupId,\n    configurationName,\n    configurationCategories = []\n  ) {\n    const context = await this.createOrGetContext();\n    const contextId = context ? context.info.id.get() : undefined;\n\n    const configurationNodeId = SpinalGraphService.createNode({\n        name: configurationName,\n        type: this.CONFIGURATION_PROFIL_TYPE,\n      },\n      new Model({\n        name: configurationName,\n        categories: configurationCategories,\n      })\n    );\n\n    await groupManagerService.linkElementToGroup(\n      contextId,\n      groupId,\n      configurationNodeId\n    );\n\n    return SpinalGraphService.getRealNode(configurationNodeId);\n  }\n\n  setAsCurrentConfiguration(nodeId) {\n    this.createOrGetContext().then((context) => {\n      let realNode = SpinalGraphService.getRealNode(nodeId);\n\n      if (realNode) {\n        if (context.info.currentConfiguration) {\n          context.info.rem_attr(\"currentConfiguration\");\n        }\n\n        context.info.add_attr({\n          currentConfiguration: new Ptr(realNode),\n        });\n      }\n    });\n  }\n\n  async deleteCurrentConf() {\n    const context = await this.createOrGetContext();\n    if (context && context.info.currentConfiguration)\n      context.info.rem_attr(\"currentConfiguration\");\n  }\n\n  getCurrentConfiguration() {\n    return this.createOrGetContext().then((context) => {\n      let confPtr = context.info.currentConfiguration;\n\n      if (typeof confPtr !== \"undefined\") {\n        return new Promise((resolve) => {\n          confPtr.load((realNode) => {\n            SpinalGraphService._addNode(realNode);\n            return realNode.getElement().then((el) => {\n              let element = el.get();\n              element[\"id\"] = realNode.info.id.get();\n              resolve(element);\n            });\n          });\n        });\n      }\n\n      return {\n        name: \"\",\n        categories: [],\n      };\n    });\n  }\n\n  editConfiguration(configurationId, configurationElement) {\n    let realNode = SpinalGraphService.getRealNode(configurationId);\n\n    if (realNode) {\n      realNode.getElement().then((element) => {\n        element.set(configurationElement);\n      });\n    }\n  }\n\n  async getConfigurationById(configId) {\n    const realNode = SpinalGraphService.getRealNode(configId);\n\n    if (realNode) {\n      const elementModel = await realNode.getElement();\n\n      if (elementModel) {\n        let element = elementModel.get();\n        element[\"id\"] = configId;\n        return element;\n      }\n    }\n\n  }\n\n  async getCategories() {\n    const context = await this.createOrGetContext();\n    return groupManagerService.getCategories(context.info.id.get());\n  }\n\n  getGroups(nodeId) {\n    // const context = await this.createOrGetContext();\n    return groupManagerService.getGroups(nodeId);\n  }\n\n  getConfigurations(groupId) {\n    return groupManagerService.getElementsLinkedToGroup(groupId);\n  }\n\n\n  isGroup(type) {\n    return groupManagerService.isGroup(type);\n  }\n\n  isCategory(type) {\n    return groupManagerService.isCategory(type);\n  }\n\n  async getElementGroup(id) {\n    const parents = await SpinalGraphService.getParents(id, []);\n\n    return parents[0];\n  }\n\n  async getTree(info) {\n    const obj = {\n      categoryId: undefined,\n      groupId: undefined,\n      configId: undefined\n    }\n\n    if (this.isCategory(info.type)) {\n\n      obj.categoryId = info.id;\n\n    } else if (this.isGroup(info.type)) {\n\n      const category = await groupManagerService.getGroupCategory(info.id);\n      if (category) obj.categoryId = category.id.get();\n\n      obj.groupId = info.id;\n\n    } else if (info.type === this.CONFIGURATION_PROFIL_TYPE) {\n\n      obj.configId = info.id;\n      const group = await this.getElementGroup(info.id);\n\n      if (group) {\n        obj.groupId = group.id.get();\n        const category = await groupManagerService.getGroupCategory(group.id\n          .get());\n\n        if (category) obj.categoryId = category.id.get();\n\n      }\n\n    }\n\n    return obj;\n\n  }\n\n}","<!--\nCopyright 2020 SpinalCom - www.spinalcom.com\n\nThis file is part of SpinalCore.\n\nPlease read all of the following terms and conditions\nof the Free Software license Agreement (\"Agreement\")\ncarefully.\n\nThis Agreement is a legally binding contract between\nthe Licensee (as defined below) and SpinalCom that\nsets forth the terms and conditions that govern your\nuse of the Program. By installing and/or using the\nProgram, you agree to abide by all the terms and\nconditions stated or referenced herein.\n\nIf you do not agree to abide by these terms and\nconditions, do not demonstrate your acceptance and do\nnot install or use the Program.\nYou should have received a copy of the license along\nwith this file. If not, see\n<http://resources.spinalcom.com/licenses.pdf>.\n-->\n\n<template>\n  <v-popover trigger=\"manual\"\n             :open=\"show\"\n             :auto-hide=\"false\"\n             offset=\"16\">\n    <!-- <md-button class=\"md-primary attr_btn\"\n               title=\"add attribute\"\n               @click=\"open\">\n      <md-icon>add</md-icon>\n      ADD ATTRIBUTE\n    </md-button> -->\n\n    <md-button @click=\"open\"\n               class=\"md-elevation-4 md-dense\"\n               style=\"background-color : #448aff\">\n      <md-icon>add</md-icon>\n      &nbsp;\n      Add attribute\n    </md-button>\n\n    <template slot=\"popover\">\n      <div class=\"popoverContainer\">\n        <div class=\"_popoverContent\">\n\n          <md-field class=\"tooltip-content\">\n            <label>Category name</label>\n            <md-input v-model=\"categoryName\"></md-input>\n          </md-field>\n\n          <md-field class=\"tooltip-content\">\n            <label>Label Name</label>\n            <md-input v-model=\"attributeName\"></md-input>\n          </md-field>\n\n        </div>\n\n        <div class=\"_popoverBtn\">\n          <a class=\"btn\"\n             @click=\"open\">Close</a>\n\n          <a class=\"btn\"\n             @click=\"Validate\">OK</a>\n        </div>\n      </div>\n\n    </template>\n\n  </v-popover>\n\n</template>\n\n<script>\nimport attributeService from \"../../../../../services\";\nexport default {\n  name: \"createAttributeTooltip\",\n  props: {\n    show: {\n      default: false\n    },\n    itemFiltered: {\n      required: true\n    }\n  },\n  data() {\n    return {\n      categoryName: \"\",\n      attributeName: \"\"\n    };\n  },\n  methods: {\n    open() {\n      this.$emit(\"open\");\n    },\n    Validate() {\n      if (this.itemFiltered.length > 0) {\n        let promises = this.itemFiltered.map(el => {\n          return attributeService.createAttribute(\n            el.id,\n            this.categoryName,\n            this.attributeName\n          );\n        });\n\n        return Promise.all(promises).then(() => {\n          this.$emit(\"validate\");\n        });\n      } else {\n        alert(\"select at least one item !\");\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n.popoverContainer {\n  width: 200px;\n  height: 200px;\n  color: black;\n}\n\n.popoverContainer ._popoverContent {\n  width: 100%;\n  height: calc(100% - 40px);\n}\n\n.popoverContainer ._popoverBtn {\n  width: 100%;\n  height: 40px;\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n}\n\n.popoverContainer ._popoverBtn .btn {\n  font-size: 15px;\n  margin-right: 10px;\n  cursor: pointer;\n}\n</style>\n\n<style lang=\"scss\">\n.tooltip {\n  // ...\n\n  &.popover {\n    // $color: #f9f9f9;\n    $color: rgb(44, 43, 43);\n\n    .popoverContainer {\n      pointer-events: auto;\n    }\n\n    .popover-inner {\n      background: $color;\n      color: black;\n      padding: 10px;\n      border-radius: 5px;\n      box-shadow: 0 5px 30px rgba(black, 0.1);\n    }\n\n    .popover-arrow {\n      border-color: $color;\n    }\n  }\n}\n</style>","<!--\nCopyright 2020 SpinalCom - www.spinalcom.com\n\nThis file is part of SpinalCore.\n\nPlease read all of the following terms and conditions\nof the Free Software license Agreement (\"Agreement\")\ncarefully.\n\nThis Agreement is a legally binding contract between\nthe Licensee (as defined below) and SpinalCom that\nsets forth the terms and conditions that govern your\nuse of the Program. By installing and/or using the\nProgram, you agree to abide by all the terms and\nconditions stated or referenced herein.\n\nIf you do not agree to abide by these terms and\nconditions, do not demonstrate your acceptance and do\nnot install or use the Program.\nYou should have received a copy of the license along\nwith this file. If not, see\n<http://resources.spinalcom.com/licenses.pdf>.\n-->\n\n<template>\n  <div>\n    <md-button v-for=\"(btn,index) in buttons\"\n               :key=\"index\"\n               @click=\"btn.action\"\n               class=\"md-icon-button md-primary\">\n\n      <md-tooltip>{{btn.name}}</md-tooltip>\n      <md-icon>{{btn.icon}}</md-icon>\n\n    </md-button>\n  </div>\n</template>\n\n<script>\nimport EventBus from \"../../../../../js/events/events.js\";\n\nexport default {\n  name: \"standardButton\",\n  props: { itemsSelected: {} },\n  data() {\n    this.buttons = [\n      { name: \"isolate\", icon: \"settings_overscan\", action: this.isolate },\n      { name: \"select BIM Objects\", icon: \"devices\", action: this.select },\n      { name: \"zoom\", icon: \"zoom_in\", action: this.zoom },\n      { name: \"refresh\", icon: \"refresh\", action: this.refresh }\n    ];\n    return {};\n  },\n  methods: {\n    select() {\n      const ids = this.itemsSelected.map(el => el.id);\n      if (ids.length > 0) {\n        EventBus.$emit(\"select\", ids);\n      } else {\n        alert(\"no item selected\");\n      }\n    },\n    isolate() {\n      const ids = this.itemsSelected.map(el => el.id);\n\n      if (ids.length > 0) {\n        EventBus.$emit(\"isolate\", ids);\n      } else {\n        alert(\"no item selected\");\n      }\n    },\n    zoom() {\n      const ids = this.itemsSelected.map(el => el.id);\n\n      if (ids.length > 0) {\n        EventBus.$emit(\"fitToView\", ids);\n      } else {\n        alert(\"no item selected\");\n      }\n    },\n    refresh() {\n      this.$emit(\"refresh\");\n    }\n  }\n};\n</script>","<!--\nCopyright 2020 SpinalCom - www.spinalcom.com\n\nThis file is part of SpinalCore.\n\nPlease read all of the following terms and conditions\nof the Free Software license Agreement (\"Agreement\")\ncarefully.\n\nThis Agreement is a legally binding contract between\nthe Licensee (as defined below) and SpinalCom that\nsets forth the terms and conditions that govern your\nuse of the Program. By installing and/or using the\nProgram, you agree to abide by all the terms and\nconditions stated or referenced herein.\n\nIf you do not agree to abide by these terms and\nconditions, do not demonstrate your acceptance and do\nnot install or use the Program.\nYou should have received a copy of the license along\nwith this file. If not, see\n<http://resources.spinalcom.com/licenses.pdf>.\n-->\n\n\n<template>\n  <div class=\"fabs\">\n    <md-speed-dial v-if=\"!editMode\"\n                   md-direction=\"top\"\n                   md-event=\"click\">\n      <md-speed-dial-target class=\"md-fab md-mini md-primary\">\n        <md-icon class=\"md-morph-initial\">menu</md-icon>\n        <md-icon class=\"md-morph-final\">menu_open</md-icon>\n      </md-speed-dial-target>\n\n      <md-speed-dial-content class=\"mdSpeedDialBtn\">\n        <md-button v-for=\"(btn, index) in buttons\"\n                   :key=\"index\"\n                   class=\"md-primary md-dense\"\n                   @click=\"sendEvent(btn.event)\">\n          <md-icon>{{ btn.icon }}</md-icon>\n          &nbsp;\n          {{ btn.text }}\n        </md-button>\n      </md-speed-dial-content>\n    </md-speed-dial>\n\n    <!-- IF EDIT MODE -->\n    <div v-if=\"editMode\"\n         class=\"editModeBtn\">\n      <md-button title=\"Cancel modification\"\n                 @click=\"validateOrCancel(false)\"\n                 class=\"md-fab md-mini md-plain\">\n        <md-icon>clear</md-icon>\n      </md-button>\n\n      <change-col-value :columns=\"headerDisplayed\"\n                        :itemsSelected=\"itemsSelected\"\n                        @setValueToColumn=\"setValueToColumn\">\n      </change-col-value>\n\n      <md-button title=\"Validate modification\"\n                 @click=\"validateOrCancel(true)\"\n                 class=\"md-fab md-mini md-primary\">\n        <md-icon>done</md-icon>\n      </md-button>\n    </div>\n\n  </div>\n</template>\n\n<script>\nimport ChangeColValue from \"../tooltips/changeCol.vue\";\n\nexport default {\n  name: \"fabComponent\",\n  components: {\n    \"change-col-value\": ChangeColValue\n  },\n  props: { editMode: {}, itemsSelected: {}, headerDisplayed: {} },\n  data() {\n    this.buttons = [\n      {\n        icon: \"build\",\n        text: \"Classify in group\",\n        event: \"generateGroup\"\n      },\n      {\n        icon: \"settings_applications\",\n        text: \"Configuration\",\n        event: \"configure\",\n        action: this.OpenParamsDialog\n      },\n      {\n        icon: \"link\",\n        text: \"Link to group\",\n        event: \"link\",\n        action: this.LinkItem\n      },\n      {\n        icon: \"edit\",\n        text: \"Active edit mode\",\n        event: \"edit\",\n        action: this.ActiveEditMode\n      }\n    ];\n\n    return {};\n  },\n  methods: {\n    sendEvent(name) {\n      this.$emit(name);\n    },\n    setValueToColumn(res) {\n      this.$emit(\"setToColumn\", res);\n    },\n    validateOrCancel(res) {\n      this.$emit(\"valid\", res);\n    }\n  }\n};\n</script>\n\n<style scoped>\n.fabs {\n  width: 100%;\n  height: 100%;\n}\n\n.fabs .mdSpeedDialBtn {\n  z-index: 999;\n}\n\n.fabs > * {\n  justify-content: center;\n  align-items: flex-end;\n}\n\n.fabs .editModeBtn {\n  display: flex;\n  flex-direction: row;\n}\n</style>","<!--\nCopyright 2020 SpinalCom - www.spinalcom.com\n\nThis file is part of SpinalCore.\n\nPlease read all of the following terms and conditions\nof the Free Software license Agreement (\"Agreement\")\ncarefully.\n\nThis Agreement is a legally binding contract between\nthe Licensee (as defined below) and SpinalCom that\nsets forth the terms and conditions that govern your\nuse of the Program. By installing and/or using the\nProgram, you agree to abide by all the terms and\nconditions stated or referenced herein.\n\nIf you do not agree to abide by these terms and\nconditions, do not demonstrate your acceptance and do\nnot install or use the Program.\nYou should have received a copy of the license along\nwith this file. If not, see\n<http://resources.spinalcom.com/licenses.pdf>.\n-->\n\n<template>\n  <v-popover :auto-hide=\"false\"\n             offset=\"16\">\n    <!-- <md-button class=\"md-primary attr_btn\"\n               title=\"add attribute\">\n      <md-icon>view_column</md-icon>\n      EDIT COLUMN\n    </md-button> -->\n\n    <md-button title=\"edit column value\"\n               class=\"md-fab md-mini md-plain\"\n               style=\"background-color : #f39508\">\n      <md-icon>view_column</md-icon>\n    </md-button>\n\n    <template slot=\"popover\">\n      <div class=\"popoverContainer\">\n        <div class=\"_popoverContent\">\n\n          <md-field class=\"tooltip-content\">\n            <md-select v-model=\"columnSelected\"\n                       placeholder=\"Select Column\"\n                       name=\"columns\"\n                       id=\"columns\">\n\n              <md-option v-if=\"!columnsFiltered || columnsFiltered.length === 0\"\n                         disabled>No column</md-option>\n\n              <md-option v-for=\"(head,index) in columnsFiltered\"\n                         :key=\"index\"\n                         :value=\"`${head.category}/${head.label}`\">\n                {{`${head.category} / ${head.label}`}}\n              </md-option>\n            </md-select>\n          </md-field>\n\n          <!-- <div class=\"tooltip-content\">\n            <md-checkbox v-model=\"getValueOnBIM\"\n                         class=\"md-primary\">get BIM Value</md-checkbox>\n          </div> -->\n\n          <md-checkbox v-model=\"useMaquetteValue\"\n                       class=\"md-primary\">Import from BIM value</md-checkbox>\n\n          <md-field class=\"tooltip-content\">\n            <label>Value</label>\n            <md-input v-model=\"value\"\n                      :disabled=\"useMaquetteValue || (!columnSelected || columnSelected.trim().length === 0)\">\n            </md-input>\n          </md-field>\n\n          <div class=\"tooltip-content pageSelect\">\n\n            <md-radio v-model=\"pageOnly\"\n                      class=\"md-primary\"\n                      :value=\"true\">This page only</md-radio>\n\n            <md-radio v-model=\"pageOnly\"\n                      class=\"md-primary\"\n                      :value=\"false\">All page</md-radio>\n\n          </div>\n\n        </div>\n\n        <div class=\"_popoverBtn\">\n          <a class=\"btn\"\n             v-close-popover>Close</a>\n\n          <a class=\"btn\"\n             v-close-popover\n             @click=\"Validate\">OK</a>\n        </div>\n      </div>\n\n    </template>\n\n  </v-popover>\n\n</template>\n\n<script>\n// import attributeService from \"../../../../services\";\n\nexport default {\n  name: \"createAttributeTooltip\",\n  props: {\n    columns: {},\n    itemsSelected: {}\n  },\n  data() {\n    return {\n      columnSelected: \"\",\n      columnsFiltered: [],\n      useMaquetteValue: false,\n      pageOnly: true,\n      value: \"\"\n    };\n  },\n  mounted() {\n    this.columnsFiltered = this.columns.filter(el => {\n      const hasNoCategory = typeof el.category !== \"undefined\";\n      const hasNoLabel = typeof el.label !== \"undefined\";\n\n      return hasNoCategory && hasNoLabel;\n    });\n  },\n  methods: {\n    Validate() {\n      if (\n        this.itemsSelected &&\n        (this.value.trim().length > 0 || this.useMaquetteValue)\n      ) {\n        const value = this.$emit(\"setValueToColumn\", {\n          value: this.value.trim(),\n          column: this.columnSelected,\n          pageOnly: this.pageOnly,\n          useMaquetteValue: this.useMaquetteValue\n        });\n      } else {\n        alert(\"select at least one item, select value !\");\n      }\n    }\n  },\n  watch: {\n    useMaquetteValue() {\n      if (this.useMaquetteValue) this.value = \"\";\n    }\n  }\n};\n</script>\n\n<style scoped>\n.popoverContainer {\n  width: 250px;\n  height: 350px;\n  color: white;\n}\n\n.popoverContainer ._popoverContent {\n  width: 100%;\n  height: calc(100% - 40px);\n}\n\n.popoverContainer ._popoverBtn {\n  width: 100%;\n  height: 40px;\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n}\n\n.popoverContainer ._popoverBtn .btn {\n  font-size: 15px;\n  margin-right: 10px;\n  cursor: pointer;\n}\n</style>\n\n<style lang=\"scss\">\n.tooltip {\n  // ...\n\n  &.popover {\n    // $color: #f9f9f9;\n    $color: rgb(44, 43, 43);\n\n    .popoverContainer {\n      pointer-events: auto;\n    }\n\n    .popover-inner {\n      background: $color;\n      color: black;\n      padding: 10px;\n      border-radius: 5px;\n      box-shadow: 0 5px 30px rgba(black, 0.1);\n    }\n\n    .popover-arrow {\n      border-color: $color;\n    }\n  }\n}\n</style>\n\n<style>\n.md-select-menu.md-menu-content-bottom-start.md-menu-content-small.md-menu-content.md-theme-default {\n  z-index: 99999 !important;\n}\n</style>","(function(a,b){if(\"function\"==typeof define&&define.amd)define([],b);else if(\"undefined\"!=typeof exports)b();else{b(),a.FileSaver={exports:{}}.exports}})(this,function(){\"use strict\";function b(a,b){return\"undefined\"==typeof b?b={autoBom:!1}:\"object\"!=typeof b&&(console.warn(\"Deprecated: Expected third argument to be a object\"),b={autoBom:!b}),b.autoBom&&/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(a.type)?new Blob([\"\\uFEFF\",a],{type:a.type}):a}function c(a,b,c){var d=new XMLHttpRequest;d.open(\"GET\",a),d.responseType=\"blob\",d.onload=function(){g(d.response,b,c)},d.onerror=function(){console.error(\"could not download file\")},d.send()}function d(a){var b=new XMLHttpRequest;b.open(\"HEAD\",a,!1);try{b.send()}catch(a){}return 200<=b.status&&299>=b.status}function e(a){try{a.dispatchEvent(new MouseEvent(\"click\"))}catch(c){var b=document.createEvent(\"MouseEvents\");b.initMouseEvent(\"click\",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(b)}}var f=\"object\"==typeof window&&window.window===window?window:\"object\"==typeof self&&self.self===self?self:\"object\"==typeof global&&global.global===global?global:void 0,a=f.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),g=f.saveAs||(\"object\"!=typeof window||window!==f?function(){}:\"download\"in HTMLAnchorElement.prototype&&!a?function(b,g,h){var i=f.URL||f.webkitURL,j=document.createElement(\"a\");g=g||b.name||\"download\",j.download=g,j.rel=\"noopener\",\"string\"==typeof b?(j.href=b,j.origin===location.origin?e(j):d(j.href)?c(b,g,h):e(j,j.target=\"_blank\")):(j.href=i.createObjectURL(b),setTimeout(function(){i.revokeObjectURL(j.href)},4E4),setTimeout(function(){e(j)},0))}:\"msSaveOrOpenBlob\"in navigator?function(f,g,h){if(g=g||f.name||\"download\",\"string\"!=typeof f)navigator.msSaveOrOpenBlob(b(f,h),g);else if(d(f))c(f,g,h);else{var i=document.createElement(\"a\");i.href=f,i.target=\"_blank\",setTimeout(function(){e(i)})}}:function(b,d,e,g){if(g=g||open(\"\",\"_blank\"),g&&(g.document.title=g.document.body.innerText=\"downloading...\"),\"string\"==typeof b)return c(b,d,e);var h=\"application/octet-stream\"===b.type,i=/constructor/i.test(f.HTMLElement)||f.safari,j=/CriOS\\/[\\d]+/.test(navigator.userAgent);if((j||h&&i||a)&&\"undefined\"!=typeof FileReader){var k=new FileReader;k.onloadend=function(){var a=k.result;a=j?a:a.replace(/^data:[^;]*;/,\"data:attachment/file;\"),g?g.location.href=a:location=a,g=null},k.readAsDataURL(b)}else{var l=f.URL||f.webkitURL,m=l.createObjectURL(b);g?g.location=m:location.href=m,g=null,setTimeout(function(){l.revokeObjectURL(m)},4E4)}});f.saveAs=g.saveAs=g,\"undefined\"!=typeof module&&(module.exports=g)});\n\n//# sourceMappingURL=FileSaver.min.js.map","/*\n* FileSaver.js\n* A saveAs() FileSaver implementation.\n*\n* By Eli Grey, http://eligrey.com\n*\n* License : https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md (MIT)\n* source  : http://purl.eligrey.com/github/FileSaver.js\n*/\n\n// The one and only way of getting global scope in all environments\n// https://stackoverflow.com/q/3277182/1008999\nvar _global = typeof window === 'object' && window.window === window\n  ? window : typeof self === 'object' && self.self === self\n  ? self : typeof global === 'object' && global.global === global\n  ? global\n  : this\n\nfunction bom (blob, opts) {\n  if (typeof opts === 'undefined') opts = { autoBom: false }\n  else if (typeof opts !== 'object') {\n    console.warn('Deprecated: Expected third argument to be a object')\n    opts = { autoBom: !opts }\n  }\n\n  // prepend BOM for UTF-8 XML and text/* types (including HTML)\n  // note: your browser will automatically convert UTF-16 U+FEFF to EF BB BF\n  if (opts.autoBom && /^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(blob.type)) {\n    return new Blob([String.fromCharCode(0xFEFF), blob], { type: blob.type })\n  }\n  return blob\n}\n\nfunction download (url, name, opts) {\n  var xhr = new XMLHttpRequest()\n  xhr.open('GET', url)\n  xhr.responseType = 'blob'\n  xhr.onload = function () {\n    saveAs(xhr.response, name, opts)\n  }\n  xhr.onerror = function () {\n    console.error('could not download file')\n  }\n  xhr.send()\n}\n\nfunction corsEnabled (url) {\n  var xhr = new XMLHttpRequest()\n  // use sync to avoid popup blocker\n  xhr.open('HEAD', url, false)\n  try {\n    xhr.send()\n  } catch (e) {}\n  return xhr.status >= 200 && xhr.status <= 299\n}\n\n// `a.click()` doesn't work for all browsers (#465)\nfunction click (node) {\n  try {\n    node.dispatchEvent(new MouseEvent('click'))\n  } catch (e) {\n    var evt = document.createEvent('MouseEvents')\n    evt.initMouseEvent('click', true, true, window, 0, 0, 0, 80,\n                          20, false, false, false, false, 0, null)\n    node.dispatchEvent(evt)\n  }\n}\n\n// Detect WebView inside a native macOS app by ruling out all browsers\n// We just need to check for 'Safari' because all other browsers (besides Firefox) include that too\n// https://www.whatismybrowser.com/guides/the-latest-user-agent/macos\nvar isMacOSWebView = _global.navigator && /Macintosh/.test(navigator.userAgent) && /AppleWebKit/.test(navigator.userAgent) && !/Safari/.test(navigator.userAgent)\n\nvar saveAs = _global.saveAs || (\n  // probably in some web worker\n  (typeof window !== 'object' || window !== _global)\n    ? function saveAs () { /* noop */ }\n\n  // Use download attribute first if possible (#193 Lumia mobile) unless this is a macOS WebView\n  : ('download' in HTMLAnchorElement.prototype && !isMacOSWebView)\n  ? function saveAs (blob, name, opts) {\n    var URL = _global.URL || _global.webkitURL\n    var a = document.createElement('a')\n    name = name || blob.name || 'download'\n\n    a.download = name\n    a.rel = 'noopener' // tabnabbing\n\n    // TODO: detect chrome extensions & packaged apps\n    // a.target = '_blank'\n\n    if (typeof blob === 'string') {\n      // Support regular links\n      a.href = blob\n      if (a.origin !== location.origin) {\n        corsEnabled(a.href)\n          ? download(blob, name, opts)\n          : click(a, a.target = '_blank')\n      } else {\n        click(a)\n      }\n    } else {\n      // Support blobs\n      a.href = URL.createObjectURL(blob)\n      setTimeout(function () { URL.revokeObjectURL(a.href) }, 4E4) // 40s\n      setTimeout(function () { click(a) }, 0)\n    }\n  }\n\n  // Use msSaveOrOpenBlob as a second approach\n  : 'msSaveOrOpenBlob' in navigator\n  ? function saveAs (blob, name, opts) {\n    name = name || blob.name || 'download'\n\n    if (typeof blob === 'string') {\n      if (corsEnabled(blob)) {\n        download(blob, name, opts)\n      } else {\n        var a = document.createElement('a')\n        a.href = blob\n        a.target = '_blank'\n        setTimeout(function () { click(a) })\n      }\n    } else {\n      navigator.msSaveOrOpenBlob(bom(blob, opts), name)\n    }\n  }\n\n  // Fallback to using FileReader and a popup\n  : function saveAs (blob, name, opts, popup) {\n    // Open a popup immediately do go around popup blocker\n    // Mostly only available on user interaction and the fileReader is async so...\n    popup = popup || open('', '_blank')\n    if (popup) {\n      popup.document.title =\n      popup.document.body.innerText = 'downloading...'\n    }\n\n    if (typeof blob === 'string') return download(blob, name, opts)\n\n    var force = blob.type === 'application/octet-stream'\n    var isSafari = /constructor/i.test(_global.HTMLElement) || _global.safari\n    var isChromeIOS = /CriOS\\/[\\d]+/.test(navigator.userAgent)\n\n    if ((isChromeIOS || (force && isSafari) || isMacOSWebView) && typeof FileReader !== 'undefined') {\n      // Safari doesn't allow downloading of blob URLs\n      var reader = new FileReader()\n      reader.onloadend = function () {\n        var url = reader.result\n        url = isChromeIOS ? url : url.replace(/^data:[^;]*;/, 'data:attachment/file;')\n        if (popup) popup.location.href = url\n        else location = url\n        popup = null // reverse-tabnabbing #460\n      }\n      reader.readAsDataURL(blob)\n    } else {\n      var URL = _global.URL || _global.webkitURL\n      var url = URL.createObjectURL(blob)\n      if (popup) popup.location = url\n      else location.href = url\n      popup = null // reverse-tabnabbing #460\n      setTimeout(function () { URL.revokeObjectURL(url) }, 4E4) // 40s\n    }\n  }\n)\n\n_global.saveAs = saveAs.saveAs = saveAs\n\nif (typeof module !== 'undefined') {\n  module.exports = saveAs;\n}\n","<!--\nCopyright 2020 SpinalCom - www.spinalcom.com\n\nThis file is part of SpinalCore.\n\nPlease read all of the following terms and conditions\nof the Free Software license Agreement (\"Agreement\")\ncarefully.\n\nThis Agreement is a legally binding contract between\nthe Licensee (as defined below) and SpinalCom that\nsets forth the terms and conditions that govern your\nuse of the Program. By installing and/or using the\nProgram, you agree to abide by all the terms and\nconditions stated or referenced herein.\n\nIf you do not agree to abide by these terms and\nconditions, do not demonstrate your acceptance and do\nnot install or use the Program.\nYou should have received a copy of the license along\nwith this file. If not, see\n<http://resources.spinalcom.com/licenses.pdf>.\n-->\n\n<template>\n   <md-content\n      class=\"paramsContainer\"\n      style=\"overflow : hidden\"\n   >\n      <md-tabs\n         class=\"myTabs\"\n         md-alignment=\"centered\"\n         @md-changed=\"changeTab\"\n         :md-active-tab=\"tabDisplayed ? 'all-params-tab' : 'current-param-tab'\"\n      >\n\n         <md-tab\n            id=\"current-param-tab\"\n            md-label=\"Current configuration\"\n            md-icon=\"offline_pin\"\n         ></md-tab>\n\n         <md-tab\n            id=\"all-params-tab\"\n            md-label=\"Configurations\"\n            md-icon=\"settings_applications\"\n         ></md-tab>\n\n         <!-- <md-tab id=\"all-params-tab\"\n                md-label=\"All configuration\"\n                md-icon=\"settings_applications\"></md-tab> -->\n\n      </md-tabs>\n\n      <md-content class=\"tabsContent\">\n\n         <configuration-template\n            class=\"content\"\n            v-if=\"tabDisplayed === 1\"\n            :tempData=\"tempData\"\n            :item=\"item\"\n            :currentConfiguration=\"currentConfiguration\"\n            @currentConf=\"getCurrentConfiguration\"\n         >\n         </configuration-template>\n\n         <current-configuration-template\n            class=\"content\"\n            v-if=\"tabDisplayed === 0\"\n            :currentConfiguration=\"currentConfiguration\"\n         >\n         </current-configuration-template>\n\n         <!-- <current-param v-if=\"tabDisplayed === 0\"\n                       :currentConfiguration=\"currentConf\"\n                       @refresh=\"RefreshData\">\n        </current-param>\n\n        <edit-param v-if=\"tabDisplayed === 1\"\n                    :data=\"allConfigurations\"\n                    :currentConfiguration=\"currentConf\"\n                    @change=\"changeCurrentConf\"\n                    @refresh=\"RefreshData\"></edit-param>\n\n        <create-param v-if=\"tabDisplayed === 2\"\n                      @refresh=\"RefreshData\"></create-param> -->\n\n      </md-content>\n\n   </md-content>\n</template>\n\n<script>\nimport ConfigurationCrud from \"./components/configuration-crud.vue\";\n\nimport CurrentConfigurationComponent from \"./components/currentConfiguration.vue\";\n\nimport { spinalConfigurationService } from \"../../../services\";\n\nexport default {\n   name: \"configurationPanel\",\n   components: {\n      \"configuration-template\": ConfigurationCrud,\n      \"current-configuration-template\": CurrentConfigurationComponent,\n   },\n   data() {\n      return {\n         tabDisplayed: 1,\n         currentConfiguration: undefined,\n         item: {\n            categorySelected: \"\",\n            categories: [],\n            groupSelected: \"\",\n            groups: [],\n            configurationSelected: \"\",\n            configurations: [],\n         },\n         tempData: {},\n      };\n   },\n   mounted() {},\n   methods: {\n      opened(params) {\n         this.getCurrentConfiguration();\n\n         if (params && Object.keys(params).length > 0) {\n            this.tempData = params;\n            this.tabDisplayed = 1;\n         }\n\n         // if (params.hasOwnProperty(\"categoryId\")) {\n         //   this.item.categorySelected = params.categoryId;\n         //   this.tabDisplayed = 1;\n         // }\n\n         // if (params.hasOwnProperty(\"groupId\")) {\n         //   this.item.groupSelected = params.groupId;\n         //   this.tabDisplayed = 1;\n         // }\n\n         // if (params.hasOwnProperty(\"configId\")) {\n         //   this.item.configurationSelected = params.configId;\n         //   this.tabDisplayed = 1;\n         // }\n      },\n\n      closed() {},\n\n      changeTab(activeTab) {\n         switch (activeTab) {\n            case \"current-param-tab\":\n               this.tabDisplayed = 0;\n               break;\n\n            case \"all-params-tab\":\n               this.tabDisplayed = 1;\n               break;\n\n            // case \"create-param-tab\":\n            //   this.tabDisplayed = 2;\n            //   break;\n         }\n      },\n\n      async getCurrentConfiguration() {\n         const currentConf = await spinalConfigurationService.getCurrentConfiguration();\n         // console.log(\"currentConf\", currentConf);\n         this.currentConfiguration = currentConf.id;\n      },\n   },\n};\n</script>\n\n<style scoped>\n.paramsContainer {\n   width: 100%;\n   height: calc(100% - 15px);\n   overflow: hidden;\n}\n\n.paramsContainer .myTabs {\n   width: 100%;\n   height: 70px;\n}\n\n.paramsContainer .tabsContent {\n   width: calc(100% - 20px);\n   height: calc(100% - 90px);\n   margin: auto;\n   margin-top: 10px;\n   overflow: hidden;\n}\n</style>\n\n<style>\n.paramsContainer .myTabs .md-tabs-navigation .md-button {\n   margin: 0;\n   cursor: pointer;\n   border-radius: 0;\n   font-size: 13px;\n   flex: 1 0 50%;\n}\n</style>","<!--\nCopyright 2020 SpinalCom - www.spinalcom.com\n\nThis file is part of SpinalCore.\n\nPlease read all of the following terms and conditions\nof the Free Software license Agreement (\"Agreement\")\ncarefully.\n\nThis Agreement is a legally binding contract between\nthe Licensee (as defined below) and SpinalCom that\nsets forth the terms and conditions that govern your\nuse of the Program. By installing and/or using the\nProgram, you agree to abide by all the terms and\nconditions stated or referenced herein.\n\nIf you do not agree to abide by these terms and\nconditions, do not demonstrate your acceptance and do\nnot install or use the Program.\nYou should have received a copy of the license along\nwith this file. If not, see\n<http://resources.spinalcom.com/licenses.pdf>.\n-->\n\n<template>\n   <md-content class=\"_container md-scrollbar\">\n\n      <div class=\"fabs\">\n         <md-speed-dial\n            md-direction=\"top\"\n            md-event=\"click\"\n            md-effect=\"scale\"\n         >\n            <md-speed-dial-target class=\"md-fab md-bottom-right md-mini md-primary\">\n               <md-icon class=\"md-morph-initial\">menu</md-icon>\n               <md-icon class=\"md-morph-final\">menu_open</md-icon>\n            </md-speed-dial-target>\n\n            <md-speed-dial-content class=\"configMdSpeedDialBtn\">\n\n               <create-item\n                  :title=\"'Create Configuration Profil'\"\n                  :fieldText=\"'Configuration Profil Name'\"\n                  @create=\"createConfiguration\"\n                  :disabled=\"!item.groupSelected\"\n                  v-if=\"item.groupSelected\"\n                  :icon=\"'add'\"\n               ></create-item>\n\n               <create-item\n                  :title=\"'Create Group'\"\n                  :fieldText=\"'Group Name'\"\n                  @create=\"createGroup\"\n                  :disabled=\"!item.categorySelected\"\n                  v-if=\"item.categorySelected\"\n                  :icon=\"'add'\"\n               ></create-item>\n\n               <create-item\n                  :title=\"'Create Category'\"\n                  :fieldText=\"'Category Name'\"\n                  @create=\"createCategory\"\n                  :icon=\"'add'\"\n               ></create-item>\n\n               <!-- <md-button class=\"md-primary md-dense\"\n                     @click.stop=\"importFile\">\n            <md-tooltip>Import</md-tooltip>\n            Import\n          </md-button>\n\n          <md-button class=\"md-primary md-dense\"\n                     @click.stop=\"exportFile\">\n            <md-tooltip>Export</md-tooltip>\n            Export\n          </md-button> -->\n\n            </md-speed-dial-content>\n         </md-speed-dial>\n      </div>\n\n      <div class=\"exportHead\">\n\n         <v-btn\n            outline\n            color=\"#448aff\"\n            @click.stop=\"importFile\"\n         >Import</v-btn>\n\n         <v-btn\n            outline\n            color=\"#448aff\"\n            @click.stop=\"exportFile\"\n         >Export</v-btn>\n\n      </div>\n\n      <div class=\"header\">\n\n         <div class=\"select select-categories\">\n            <select-item\n               :placeholder=\"'Select category'\"\n               :data=\"item.categories\"\n               @select=\"selectCategory\"\n               :value=\"item.categorySelected\"\n            ></select-item>\n         </div>\n\n         <div class=\"select select-groups\">\n            <select-item\n               :placeholder=\"'Select group'\"\n               :data=\"item.groups\"\n               @select=\"selectGroup\"\n               :value=\"item.groupSelected\"\n            ></select-item>\n         </div>\n\n         <div class=\"select select-configurations\">\n            <select-item\n               :placeholder=\"'select configuration'\"\n               :data=\"item.configurations\"\n               @select=\"selectConfiguration\"\n               :value=\"item.configurationSelected\"\n            ></select-item>\n         </div>\n\n      </div>\n\n      <div class=\"body\">\n\n         <div\n            class=\"no-conf\"\n            v-if=\"!item.configurationSelected\"\n         >\n            Select a configuration\n         </div>\n\n         <configuration-component\n            v-else\n            :configurationSelected=\"item.configurationSelected\"\n            :currentConfiguration=\"currentConfiguration\"\n            @getCurrentConf=\"currentConf\"\n         >\n         </configuration-component>\n\n      </div>\n   </md-content>\n</template>\n\n\n<script>\nimport { spinalPanelManagerService } from \"spinal-env-viewer-panel-manager-service\";\n\nimport { spinalConfigurationService } from \"../../../../services\";\n\nimport spinalExcelManager from \"spinal-env-viewer-plugin-excel-manager-service\";\n\nimport FileSaver from \"file-saver\";\n\nimport SelectItem from \"./mdSelect.vue\";\nimport CreateItem from \"./createItem.vue\";\nimport ConfigurationsComponent from \"./configurations.vue\";\n\nexport default {\n   name: \"configuration-template\",\n   props: {\n      currentConfiguration: {},\n      item: {},\n      tempData: {},\n   },\n   components: {\n      \"create-item\": CreateItem,\n      \"select-item\": SelectItem,\n      \"configuration-component\": ConfigurationsComponent,\n   },\n   data() {\n      return {};\n   },\n   async mounted() {\n      const categories = await spinalConfigurationService.getCategories();\n      this.item.categories = categories.map((el) => el.get());\n   },\n\n   methods: {\n      async createCategory(name) {\n         const category = await spinalConfigurationService.createCategory(\n            name,\n            \"add\"\n         );\n\n         if (category && category.info) {\n            this.item.categories.push(category.info.get());\n            this.selectCategory(category.getId().get());\n         }\n      },\n\n      async createGroup(name) {\n         const group = await spinalConfigurationService.createGroup(\n            this.item.categorySelected,\n            name,\n            \"#000000\"\n         );\n\n         if (group && group.info) {\n            this.item.groups.push(group.info.get());\n            this.selectGroup(group.getId().get());\n         }\n      },\n\n      async createConfiguration(name) {\n         const configuration = await spinalConfigurationService.createConfiguration(\n            this.item.groupSelected,\n            name\n         );\n\n         if (configuration && configuration.info) {\n            this.item.configurations.push(configuration.info.get());\n            this.selectConfiguration(configuration.getId().get());\n         }\n      },\n\n      async selectCategory(id) {\n         if (typeof id !== \"undefined\") {\n            this.item.categorySelected = id;\n            const groups = await spinalConfigurationService.getGroups(id);\n            this.item.groups = groups.map((el) => el.get());\n\n            // init group && configuration\n            this.item.groupSelected = undefined;\n            this.item.configurationSelected = undefined;\n            // end\n         }\n      },\n\n      async selectGroup(id) {\n         if (typeof id !== \"undefined\") {\n            this.item.groupSelected = id;\n            const configurations = await spinalConfigurationService.getConfigurations(\n               id\n            );\n            this.item.configurations = configurations.map((el) => el.get());\n\n            // init configuration\n            this.item.configurationSelected = undefined;\n            //end\n         }\n      },\n\n      async selectConfiguration(id) {\n         this.item.configurationSelected = id;\n      },\n\n      currentConf() {\n         this.$emit(\"currentConf\");\n      },\n\n      async exportFile() {\n         //\n         // spinalPanelManagerService.openPanel(\"exportConfigurationDialog\", {});\n\n         const result = {\n            data: [],\n         };\n\n         if (this.item.configurationSelected) {\n            const item = await this._formatConfiguration(\n               this.item.configurationSelected,\n               this.item.groupSelected,\n               this.item.categorySelected\n            );\n\n            result.data.push(item);\n         } else if (this.item.groupSelected) {\n            const items = await this._getGroupsItems(this.item.groupSelected);\n            result.data.push(...items);\n         } else if (this.item.categorySelected) {\n            let groupsItems = this.item.groups.map((group) => {\n               return this._getGroupsItems(group.id);\n            });\n\n            let items = await Promise.all(groupsItems);\n\n            items.forEach((el) => {\n               result.data.push(...el);\n            });\n         }\n\n         spinalExcelManager.export(result).then((buffer) => {\n            FileSaver.saveAs(new Blob(buffer), `configurations_spinalcom.xlsx`);\n         });\n      },\n\n      importFile() {\n         let input = document.createElement(\"input\");\n         input.type = \"file\";\n         input.accept =\n            \".xlsx, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel\";\n         input.click();\n\n         input.addEventListener(\n            \"change\",\n            async (event) => {\n               const file = event.target.files[0];\n               const dataJson = await spinalExcelManager.convertConfigurationFile(\n                  file\n               );\n\n               spinalPanelManagerService.openPanel(\n                  \"importConfigurationDialog\",\n                  dataJson\n               );\n            },\n            false\n         );\n      },\n\n      async _formatConfiguration(configurationId, groupId, categoryId) {\n         const data = {\n            name: \"\",\n            header: this._getExcelHeaders(),\n            rows: [],\n         };\n\n         const categoryFound = this.item.categories.find(\n            (el) => el.id === categoryId\n         );\n\n         const groupFound = this.item.groups.find((el) => el.id === groupId);\n\n         const configFound = this.item.configurations.find(\n            (el) => el.id === configurationId\n         );\n\n         const config = await spinalConfigurationService.getConfigurationById(\n            configurationId\n         );\n\n         if (categoryFound && groupFound && configFound && config) {\n            // data.name = `${categoryFound.name}|${groupFound.name}|${config.name}`;\n\n            data.name = configFound.name;\n\n            data.rows.push([\"Category : \", categoryFound.name]);\n            data.rows.push([\"Group : \", groupFound.name]);\n            data.rows.push([\"Configuration Profil : \", configFound.name]);\n\n            data.rows.push([, ,]);\n            data.rows.push([, ,]);\n            data.rows.push([\"Attribute Category\", \"Attribute Name\"]);\n\n            config.categories.forEach((category) => {\n               const res = category.attributes.map((attribute) => {\n                  // return {\n                  //   name: attribute.name,\n                  //   attrCategory: category.name,\n                  //   ConfigProfil: configFound.name,\n                  //   spinalCategory: categoryFound.name,\n                  //   spinalGroup: groupFound.name\n                  // };\n\n                  return [category.name, attribute.name];\n               });\n\n               data.rows.push(...res);\n            });\n            return data;\n         }\n      },\n\n      _getExcelHeaders(attributes) {\n         const header = [\n            // {\n            //   key: \"attrCategory\",\n            //   header: \"Attribute Category\",\n            //   width: 30\n            // },\n            // {\n            //   key: \"name\",\n            //   header: \"Attribute Name\",\n            //   width: 30\n            // }\n            // // {\n            // //   key: \"ConfigProfil\",\n            // //   header: \"Configuration Profil\",\n            // //   width: 30\n            // // },\n            // // {\n            // //   key: \"spinalCategory\",\n            // //   header: \"Category\",\n            // //   width: 30\n            // // },\n            // // {\n            // //   key: \"spinalGroup\",\n            // //   header: \"Group\",\n            // //   width: 30\n            // // }\n         ];\n\n         return header;\n      },\n\n      async _getGroupsItems(groupId) {\n         let configurations = [];\n\n         if (this.item.groupSelected === groupId) {\n            configurations = this.item.configurations;\n         } else {\n            configurations = await spinalConfigurationService.getConfigurations(\n               groupId\n            );\n         }\n\n         const promises = configurations.map((configuration) => {\n            return this._formatConfiguration(\n               configuration.id,\n               groupId,\n               this.item.categorySelected\n            );\n         });\n\n         return Promise.all(promises);\n      },\n\n      Open(...res) {\n         // console.log(\"res\", res);\n      },\n   },\n   watch: {\n      async tempData() {\n         if (this.tempData.hasOwnProperty(\"categoryId\")) {\n            await this.selectCategory(this.tempData.categoryId);\n         }\n\n         if (this.tempData.hasOwnProperty(\"groupId\")) {\n            await this.selectGroup(this.tempData.groupId);\n         }\n\n         if (this.tempData.hasOwnProperty(\"configId\")) {\n            await this.selectConfiguration(this.tempData.configId);\n         }\n      },\n   },\n};\n</script>\n\n<style scoped>\n._container {\n   width: 100%;\n   height: 100%;\n   background-color: transparent;\n   overflow: hidden;\n   overflow-x: auto;\n}\n\n._container .header {\n   width: 100%;\n   height: 40px;\n   display: flex;\n   justify-content: space-between;\n   align-items: center;\n   margin-bottom: 10px;\n}\n\n._container .header .select {\n   width: 25%;\n}\n\n._container .exportHead {\n   height: 40px;\n   display: flex;\n   justify-content: flex-end;\n   margin-bottom: 10px;\n}\n\n._container .body {\n   width: 100%;\n   height: calc(100% - 100px);\n}\n\n._container .body .no-conf {\n   width: 100%;\n   height: 100%;\n   display: flex;\n   justify-content: center;\n   align-items: center;\n   font-size: 1.6em;\n}\n\n._container .fabs {\n   position: absolute;\n   bottom: 24px;\n   right: 20px;\n   display: flex;\n   justify-content: flex-end;\n   align-items: flex-end;\n   /* width: 300px;\n  height: 300px; */\n}\n\n._container .fabs > * {\n   display: flex;\n   justify-content: center;\n   align-items: flex-end;\n}\n\n/* ._container .fabs > * {\n  justify-content: center;\n  align-items: flex-end;\n} */\n\n/* ._container .fabs .configMdSpeedDialBtn {\n  z-index: 999;\n} */\n</style>\n\n\n<style>\n._container .fabs .configMdSpeedDialBtn .md-button .md-ripple {\n   width: 250px;\n}\n\n._container .fabs .md-speed-dial-content {\n   z-index: unset !important;\n}\n\n/* \nwhen fabs not active \n*/\n._container\n   .fabs\n   .md-speed-dial.md-theme-default.md-direction-top.md-effect-scale\n   .md-speed-dial-content.configMdSpeedDialBtn {\n   display: none;\n}\n\n/* \nwhen fabs active \n*/\n._container\n   .fabs\n   .md-speed-dial.md-theme-default.md-active.md-direction-top.md-effect-scale\n   .md-speed-dial-content.configMdSpeedDialBtn {\n   display: flex;\n}\n\n/* ._container\n  .fabs\n  .md-speed-dial.md-direction-top.md-effect-fling\n  .md-speed-dial-content\n  .md-button {\n  background-color: #448aff;\n  color: white;\n} */\n</style>\n","<!--\nCopyright 2020 SpinalCom - www.spinalcom.com\n\nThis file is part of SpinalCore.\n\nPlease read all of the following terms and conditions\nof the Free Software license Agreement (\"Agreement\")\ncarefully.\n\nThis Agreement is a legally binding contract between\nthe Licensee (as defined below) and SpinalCom that\nsets forth the terms and conditions that govern your\nuse of the Program. By installing and/or using the\nProgram, you agree to abide by all the terms and\nconditions stated or referenced herein.\n\nIf you do not agree to abide by these terms and\nconditions, do not demonstrate your acceptance and do\nnot install or use the Program.\nYou should have received a copy of the license along\nwith this file. If not, see\n<http://resources.spinalcom.com/licenses.pdf>.\n-->\n\n<template>\n  <div class=\"select-content\">\n\n    <md-field class=\"select-field\">\n      <md-select v-model=\"itemSelected\"\n                 name=\"select-item\"\n                 id=\"select-item\"\n                 :placeholder=\"placeholder\"\n                 @md-selected=\"selectItem\">\n        <md-option v-if=\"!data || data.length === 0\"\n                   disabled>No Item found</md-option>\n\n        <md-option v-for=\"(item,index) in data\"\n                   :key=\"index\"\n                   :value=\"item.id\">\n          {{item.name}}\n        </md-option>\n\n      </md-select>\n    </md-field>\n\n    <!-- <md-button class=\"create-button md-icon-button md-primary\">\n      <md-icon>add</md-icon>\n    </md-button> -->\n\n  </div>\n\n</template>\n\n<script>\nexport default {\n  name: \"select-template\",\n  props: {\n    placeholder: {\n      type: String\n    },\n    data: {},\n    value: {}\n  },\n  data() {\n    return {\n      itemSelected: undefined\n    };\n  },\n  methods: {\n    selectItem(id) {\n      if (id) this.$emit(\"select\", id);\n    }\n  },\n  watch: {\n    value() {\n      this.itemSelected = this.value;\n    }\n  }\n};\n</script>\n\n<style scoped>\n.select-content {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n}\n\n.select-content .select-field {\n  min-height: 0px;\n}\n</style>\n\n<style>\n.select-content .create-button .md-ripple {\n  padding: 0px;\n}\n</style>","<!--\nCopyright 2020 SpinalCom - www.spinalcom.com\n\nThis file is part of SpinalCore.\n\nPlease read all of the following terms and conditions\nof the Free Software license Agreement (\"Agreement\")\ncarefully.\n\nThis Agreement is a legally binding contract between\nthe Licensee (as defined below) and SpinalCom that\nsets forth the terms and conditions that govern your\nuse of the Program. By installing and/or using the\nProgram, you agree to abide by all the terms and\nconditions stated or referenced herein.\n\nIf you do not agree to abide by these terms and\nconditions, do not demonstrate your acceptance and do\nnot install or use the Program.\nYou should have received a copy of the license along\nwith this file. If not, see\n<http://resources.spinalcom.com/licenses.pdf>.\n-->\n\n<template>\n  <v-popover :auto-hide=\"false\"\n             offset=\"16\"\n             :open=\"show && !disabled\">\n\n    <md-button class=\"md-dense md-raised md-primary\"\n               :disabled=\"disabled\"\n               @click.stop=\"OpenAttribute\">\n      <md-tooltip>{{title}}</md-tooltip>\n      <md-icon>{{icon}}</md-icon>\n      {{title}}\n    </md-button>\n\n    <template slot=\"popover\">\n      <div class=\"popoverContainer\">\n        <div class=\"_popoverContent\">\n\n          <md-field class=\"tooltip-content\">\n            <label>{{fieldText}}</label>\n            <md-input v-model=\"name\"></md-input>\n          </md-field>\n\n        </div>\n\n        <div class=\"_popoverBtn\">\n          <a class=\"btn\"\n             @click=\"Validate(false)\">Close</a>\n\n          <a class=\"btn\"\n             @click=\"Validate(true)\">OK</a>\n        </div>\n      </div>\n\n    </template>\n\n  </v-popover>\n</template>\n\n<script>\nexport default {\n  name: \"createItem\",\n  props: {\n    title: {\n      type: String\n    },\n    fieldText: {\n      type: String\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    return {\n      name: \"\",\n      show: false\n    };\n  },\n  methods: {\n    Validate(isValid) {\n      this.show = false;\n      if (isValid && this.name.trim().length > 0) {\n        // if (this.category) {\n        //   // let varCategory = serviceDocumentation.\n\n        //   this.$emit(\"add\", { category: this.category, label: this.name });\n        // } else {\n        //   this.$emit(\"add\", { category: this.name });\n        // }\n        this.$emit(\"create\", this.name.trim());\n      }\n\n      this.name = \"\";\n    },\n\n    OpenAttribute() {\n      this.show = !this.show;\n    }\n  }\n};\n</script>\n\n<style scoped>\n.popoverContainer ._popoverBtn {\n  width: 100%;\n  height: 40px;\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n}\n\n.popoverContainer ._popoverBtn .btn {\n  font-size: 15px;\n  margin-right: 10px;\n  cursor: pointer;\n}\n</style>","<!--\nCopyright 2020 SpinalCom - www.spinalcom.com\n\nThis file is part of SpinalCore.\n\nPlease read all of the following terms and conditions\nof the Free Software license Agreement (\"Agreement\")\ncarefully.\n\nThis Agreement is a legally binding contract between\nthe Licensee (as defined below) and SpinalCom that\nsets forth the terms and conditions that govern your\nuse of the Program. By installing and/or using the\nProgram, you agree to abide by all the terms and\nconditions stated or referenced herein.\n\nIf you do not agree to abide by these terms and\nconditions, do not demonstrate your acceptance and do\nnot install or use the Program.\nYou should have received a copy of the license along\nwith this file. If not, see\n<http://resources.spinalcom.com/licenses.pdf>.\n-->\n\n<template>\n   <div\n      class=\"container\"\n      v-if=\"configurationData\"\n   >\n      <div class=\"header\">\n\n         <div class=\"name\">\n            <md-tooltip>{{configurationData.name}}</md-tooltip>\n            <span>{{configurationData.name}}</span>\n         </div>\n\n         <div class=\"actions\">\n            <div\n               class=\"editMode\"\n               v-if=\"editMode\"\n            >\n               <!-- <v-btn outline\n                 color=\"#448aff\">Add Category</v-btn> -->\n\n               <!-- color=\"#448aff\" -->\n\n               <v-btn\n                  outline\n                  color=\"teal\"\n                  @click=\"save\"\n               >Save</v-btn>\n\n               <v-btn\n                  outline\n                  color=\"#ff5252\"\n                  @click=\"cancel\"\n               >Cancel</v-btn>\n\n               <menu-component @add=\"addAttributeCategory\"></menu-component>\n            </div>\n\n            <div\n               class=\"normalMode\"\n               v-else\n            >\n               <!-- #448aff -->\n               <v-btn\n                  outline\n                  color=\"orange\"\n                  @click=\"activeEditMode\"\n               >Active edit Mode</v-btn>\n\n               <v-btn\n                  outline\n                  color=\"#448aff\"\n                  v-if=\"configurationSelected !== currentConfiguration\"\n                  @click=\"setAsCurrentConf\"\n               >Set as Current Configuration</v-btn>\n\n               <v-btn\n                  outline\n                  v-if=\"configurationSelected === currentConfiguration\"\n                  color=\"teal\"\n                  @click=\"deleteAsCurrentConf\"\n               >\n                  <v-icon>check</v-icon>\n                  Current Configuration\n               </v-btn>\n\n            </div>\n         </div>\n      </div>\n\n      <div class=\"content\">\n         <display-list\n            class=\"displayList md-scrollbar\"\n            :categories=\"configurationData.categories\"\n            :editMode=\"editMode\"\n            :message=\"'No Attribute category found !'\"\n            @add=\"addSubItem\"\n            @remove=\"removeItem\"\n         >\n         </display-list>\n      </div>\n\n   </div>\n</template>\n\n<script>\nimport DisplayList from \"./displayList.vue\";\nimport MenuComponent from \"../../attributePanel/components/tooltips/addItem.vue\";\n\nimport { spinalConfigurationService } from \"../../../../services\";\nimport EventBus from \"../../../../js/events/events\";\n\nexport default {\n   name: \"editConfiguration\",\n   components: {\n      \"display-list\": DisplayList,\n      \"menu-component\": MenuComponent,\n   },\n   props: {\n      configurationSelected: {\n         type: String,\n         default: \"\",\n      },\n      currentConfiguration: {},\n   },\n   data() {\n      return {\n         configurationData: {\n            name: \"\",\n            categories: [],\n         },\n         editMode: false,\n      };\n   },\n   mounted() {\n      this.getConfiguration();\n   },\n   methods: {\n      async getConfiguration() {\n         if (this.configurationSelected) {\n            this.configurationData = await spinalConfigurationService.getConfigurationById(\n               this.configurationSelected\n            );\n         } else {\n            this.configurationData = {\n               name: \"\",\n               categories: [],\n            };\n         }\n      },\n\n      activeEditMode() {\n         this.editMode = true;\n      },\n\n      async setAsCurrentConf() {\n         await spinalConfigurationService.setAsCurrentConfiguration(\n            this.configurationSelected\n         );\n         this.$emit(\"getCurrentConf\");\n         this.refreshPanel();\n      },\n\n      async deleteAsCurrentConf() {\n         await spinalConfigurationService.deleteCurrentConf();\n\n         this.$emit(\"getCurrentConf\");\n         this.refreshPanel();\n      },\n\n      addAttributeCategory(res) {\n         let found = this.configurationData.categories.find(\n            (el) => el.name === res.category\n         );\n\n         if (!found) {\n            this.configurationData.categories.push({\n               id: Date.now(),\n               name: res.category,\n               attributes: [],\n            });\n         }\n      },\n\n      addSubItem(res) {\n         if (res.category && res.label) {\n            let found = this.configurationData.categories.find((el) => {\n               return el.name === res.category;\n            });\n\n            if (found) {\n               let attrFound = found.attributes.find(\n                  (el) => el.name === res.label\n               );\n               if (typeof attrFound === \"undefined\") {\n                  found.attributes.push({\n                     show: true,\n                     name: res.label,\n                     id: Date.now(),\n                  });\n               }\n            }\n         }\n      },\n\n      removeItem(res) {\n         if (typeof res.attr === \"undefined\") {\n            this.configurationData.categories = this.configurationData.categories.filter(\n               (el) => {\n                  return el.id !== res.category.id;\n               }\n            );\n         } else {\n            let found = this.configurationData.categories.find((el) => {\n               return el.id === res.category.id;\n            });\n\n            if (found) {\n               found.attributes = found.attributes.filter(\n                  (el) => el.id !== res.attr.id\n               );\n            }\n         }\n      },\n\n      cancel() {\n         this.editMode = false;\n         this.getConfiguration();\n      },\n\n      async save() {\n         this.editMode = false;\n         await spinalConfigurationService.editConfiguration(\n            this.configurationSelected,\n            this.configurationData\n         );\n\n         this.refreshPanel();\n      },\n\n      refreshPanel() {\n         EventBus.$emit(\"refreshTable\");\n      },\n   },\n   watch: {\n      configurationSelected: function () {\n         this.getConfiguration();\n      },\n   },\n};\n</script>\n\n<style scoped>\n.container {\n   width: 100%;\n   height: 100%;\n   padding: 0;\n   overflow: hidden;\n}\n\n.container .header {\n   width: 100%;\n   height: 50px;\n   display: flex;\n   justify-content: space-between;\n}\n\n.container .header .name {\n   width: 30%;\n   height: 100%;\n   display: flex;\n   justify-content: center;\n   align-items: center;\n   padding: 0 5px 0 5px;\n   font-size: 1.5em;\n}\n\n.container .header .name span {\n   white-space: nowrap;\n   overflow: hidden;\n   text-overflow: ellipsis;\n}\n\n.container .header .actions {\n   /* width: 60%; */\n   height: 100%;\n   flex: 1 0 60%;\n   display: flex;\n   justify-content: flex-end;\n   flex-wrap: nowrap;\n}\n\n.container .header .actions .editMode,\n.container .header .actions .normalMode {\n   display: flex;\n   flex-wrap: nowrap;\n}\n\n.container .content {\n   width: 100%;\n   height: calc(100% - 50px);\n   overflow: hidden;\n}\n\n.container .content .displayList {\n   width: 100%;\n   height: 100%;\n   overflow: hidden;\n   overflow-y: auto;\n}\n</style>\n\n","<!--\nCopyright 2020 SpinalCom - www.spinalcom.com\n\nThis file is part of SpinalCore.\n\nPlease read all of the following terms and conditions\nof the Free Software license Agreement (\"Agreement\")\ncarefully.\n\nThis Agreement is a legally binding contract between\nthe Licensee (as defined below) and SpinalCom that\nsets forth the terms and conditions that govern your\nuse of the Program. By installing and/or using the\nProgram, you agree to abide by all the terms and\nconditions stated or referenced herein.\n\nIf you do not agree to abide by these terms and\nconditions, do not demonstrate your acceptance and do\nnot install or use the Program.\nYou should have received a copy of the license along\nwith this file. If not, see\n<http://resources.spinalcom.com/licenses.pdf>.\n-->\n\n<template>\n  <md-content class=\"myListContainer  md-scrollbar\">\n    <v-list v-if=\"categories && categories.length > 0\"\n            class=\"listContainer\"\n            expand\n            dark\n            flat>\n      <v-list-group v-for=\"(item,index) in categories\"\n                    :key=\"index\"\n                    prepend-icon=\"keyboard_arrow_down\"\n                    append-icon=\"\"\n                    :one-line=\"false\"\n                    no-action>\n        <v-list-tile slot=\"activator\">\n\n          <v-list-tile-content>\n            <v-list-tile-title>{{item.name}}</v-list-tile-title>\n          </v-list-tile-content>\n\n          <v-list-tile-action v-if=\"editMode\">\n\n            <menu-component :category=\"item.name\"\n                            @add=\"addAttributes\"></menu-component>\n\n          </v-list-tile-action>\n\n          <v-list-tile-action v-if=\"editMode\">\n            <v-btn flat\n                   icon\n                   small\n                   color=\"red\"\n                   title=\"remove\"\n                   @click.stop=\"remove(item,true)\">\n              <v-icon>remove_circle_outline</v-icon>\n            </v-btn>\n          </v-list-tile-action>\n\n        </v-list-tile>\n\n        <!--\n        ---------------------------------------------------------\n        |                       SubHeaders                      |\n        ---------------------------------------------------------\n     -->\n        <v-list-tile v-for=\"(subItem,subIndex) in item.attributes\"\n                     :key=\"subIndex\">\n\n          <v-list-tile-action>\n            <v-checkbox :disabled=\"!editMode\"\n                        color=\"blue\"\n                        v-model=\"subItem.show\"></v-checkbox>\n          </v-list-tile-action>\n\n          <v-list-tile-content>\n            <v-list-tile-title>{{subItem.name}}</v-list-tile-title>\n          </v-list-tile-content>\n\n          <v-list-tile-action v-if=\"editMode\">\n            <v-btn icon\n                   flat\n                   small\n                   color=\"red\"\n                   title=\"remove\"\n                   @click=\"remove(item,false,subItem)\">\n              <v-icon>remove_circle_outline</v-icon>\n            </v-btn>\n          </v-list-tile-action>\n\n        </v-list-tile>\n\n        <!--\n        ---------------------------------------------------------\n        |                       End SubHeaders                  |\n        ---------------------------------------------------------\n     -->\n\n      </v-list-group>\n    </v-list>\n\n    <div class=\"emptyList\"\n         v-if=\"categories && categories.length === 0\">\n      {{message}}\n    </div>\n\n  </md-content>\n\n</template>\n\n<script>\nimport menuComponent from \"../../attributePanel/components/tooltips/addItem.vue\";\n\nexport default {\n  name: \"displayListComponent\",\n  components: {\n    \"menu-component\": menuComponent\n  },\n  props: {\n    categories: {},\n    message: {\n      type: String,\n      default: \"No data found\"\n    },\n    editMode: {\n      type: Boolean,\n      default: true\n    }\n  },\n\n  methods: {\n    addAttributes(res) {\n      this.$emit(\"add\", res);\n    },\n\n    remove(category, isCategory, attribute) {\n      let item = {\n        category: category,\n        attr: attribute\n      };\n\n      this.$emit(\"remove\", item);\n    }\n  }\n};\n</script>\n\n<style scoped>\n.myListContainer {\n  width: 100%;\n  height: calc(100% - 50px);\n  /* overflow: auto; */\n}\n\n.myListContainer .listContainer {\n  width: 100%;\n  height: 100%;\n  /* overflow: auto; */\n}\n\n.myListContainer .emptyList {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 20px;\n}\n</style>","<!--\nCopyright 2020 SpinalCom - www.spinalcom.com\n\nThis file is part of SpinalCore.\n\nPlease read all of the following terms and conditions\nof the Free Software license Agreement (\"Agreement\")\ncarefully.\n\nThis Agreement is a legally binding contract between\nthe Licensee (as defined below) and SpinalCom that\nsets forth the terms and conditions that govern your\nuse of the Program. By installing and/or using the\nProgram, you agree to abide by all the terms and\nconditions stated or referenced herein.\n\nIf you do not agree to abide by these terms and\nconditions, do not demonstrate your acceptance and do\nnot install or use the Program.\nYou should have received a copy of the license along\nwith this file. If not, see\n<http://resources.spinalcom.com/licenses.pdf>.\n-->\n\n<template>\n  <v-popover :auto-hide=\"false\"\n             offset=\"16\"\n             :open=\"show\">\n\n    <!-- <md-button v-if=\"category\"\n               class=\"md-icon-button\"\n               title=\"add label\"\n               @click.stop=\"OpenAttribute\">\n      <md-icon>add_circle_outline</md-icon>\n    </md-button> -->\n\n    <!-- <md-button v-if=\"!category\"\n               class=\"md-icon-button md-raised md-primary\"\n               title=\"add category\"\n               @click.stop=\"OpenAttribute\">\n      <md-icon>add</md-icon>\n    </md-button> -->\n\n    <!-- <md-button v-if=\"!category\"\n               title=\"add category\"\n               @click.stop=\"OpenAttribute\"\n               class=\"md-dense md-primary\">\n      <md-icon>add</md-icon>\n      &nbsp;\n      Add category\n    </md-button> -->\n\n    <v-btn outline\n           color=\"#448aff\"\n           v-if=\"!category\"\n           title=\"add category\"\n           @click.stop=\"OpenAttribute\">Add category</v-btn>\n\n    <v-btn v-if=\"category\"\n           title=\"add label\"\n           @click.stop=\"OpenAttribute\"\n           flat\n           icon\n           small\n           color=\"blue\">\n      <v-icon>add</v-icon>\n    </v-btn>\n\n    <template slot=\"popover\">\n      <div class=\"popoverContainer\">\n        <div class=\"_popoverContent\">\n\n          <md-field class=\"tooltip-content\">\n            <label>{{category ? \"Add attribute\" : \"Add category\"}}</label>\n            <md-input v-model=\"name\"></md-input>\n          </md-field>\n\n        </div>\n\n        <div class=\"_popoverBtn\">\n          <a class=\"btn\"\n             @click=\"Validate(false)\">Close</a>\n\n          <a class=\"btn\"\n             @click=\"Validate(true)\">OK</a>\n        </div>\n      </div>\n\n    </template>\n\n  </v-popover>\n</template>\n\n<script>\nimport { serviceDocumentation } from \"spinal-env-viewer-plugin-documentation-service\";\n\nexport default {\n  name: \"CreateLabel\",\n  props: [\"category\"],\n  data() {\n    return {\n      name: \"\",\n      show: false\n    };\n  },\n  methods: {\n    Validate(isValid) {\n      this.show = false;\n      if (isValid && this.name.trim().length > 0) {\n        if (this.category) {\n          // let varCategory = serviceDocumentation.\n\n          this.$emit(\"add\", { category: this.category, label: this.name });\n        } else {\n          this.$emit(\"add\", { category: this.name });\n        }\n      }\n\n      this.name = \"\";\n    },\n    OpenAttribute() {\n      this.show = !this.show;\n    }\n  }\n};\n</script>\n\n<style scoped>\n.popoverContainer ._popoverBtn {\n  width: 100%;\n  height: 40px;\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n}\n\n.popoverContainer ._popoverBtn .btn {\n  font-size: 15px;\n  margin-right: 10px;\n  cursor: pointer;\n}\n</style>","<!--\nCopyright 2020 SpinalCom - www.spinalcom.com\n\nThis file is part of SpinalCore.\n\nPlease read all of the following terms and conditions\nof the Free Software license Agreement (\"Agreement\")\ncarefully.\n\nThis Agreement is a legally binding contract between\nthe Licensee (as defined below) and SpinalCom that\nsets forth the terms and conditions that govern your\nuse of the Program. By installing and/or using the\nProgram, you agree to abide by all the terms and\nconditions stated or referenced herein.\n\nIf you do not agree to abide by these terms and\nconditions, do not demonstrate your acceptance and do\nnot install or use the Program.\nYou should have received a copy of the license along\nwith this file. If not, see\n<http://resources.spinalcom.com/licenses.pdf>.\n-->\n\n<template>\n  <md-content class=\"container md-scrollbar\">\n\n    <!-- <div class=\"header\">\n      <v-btn outline\n             color=\"#448aff\">Import</v-btn>\n\n      <v-btn outline\n             color=\"#448aff\">Export</v-btn>\n    </div> -->\n\n    <configuration-component class=\"configuration\"\n                             v-if=\"currentConfiguration\"\n                             :configurationSelected=\"currentConfiguration\"\n                             :currentConfiguration=\"currentConfiguration\">\n    </configuration-component>\n\n    <div class=\"empty\"\n         v-else>\n      No configuration Set\n    </div>\n\n  </md-content>\n</template>\n\n<script>\nimport ConfigurationsComponent from \"./configurations.vue\";\n\nexport default {\n  name: \"current-configuration-template\",\n  components: {\n    \"configuration-component\": ConfigurationsComponent\n  },\n  props: {\n    currentConfiguration: {}\n  },\n  data() {\n    return {};\n  },\n  methods: {}\n};\n</script>\n\n<style scoped>\n.container {\n  width: 100%;\n  height: 100%;\n  padding: 0;\n  overflow: hidden;\n  overflow-x: auto;\n}\n\n.container .header {\n  width: 100%;\n  height: 50px;\n  margin-bottom: 10px;\n  display: flex;\n  justify-content: flex-end;\n}\n\n.container .configuration {\n  width: 100%;\n  height: 100%;\n  /* height: calc(100% - 60px); */\n}\n\n.container .empty {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 1.5em;\n}\n</style>","<!--\nCopyright 2020 SpinalCom - www.spinalcom.com\n\nThis file is part of SpinalCore.\n\nPlease read all of the following terms and conditions\nof the Free Software license Agreement (\"Agreement\")\ncarefully.\n\nThis Agreement is a legally binding contract between\nthe Licensee (as defined below) and SpinalCom that\nsets forth the terms and conditions that govern your\nuse of the Program. By installing and/or using the\nProgram, you agree to abide by all the terms and\nconditions stated or referenced herein.\n\nIf you do not agree to abide by these terms and\nconditions, do not demonstrate your acceptance and do\nnot install or use the Program.\nYou should have received a copy of the license along\nwith this file. If not, see\n<http://resources.spinalcom.com/licenses.pdf>.\n-->\n\n<template>\n   <div class=\"_container\">\n\n      <md-steppers\n         md-vertical\n         class=\"steppers\"\n         :md-dynamic-height=\"true\"\n         @md-changed=\"changeStep\"\n      >\n\n         <md-step\n            id=\"first\"\n            md-label=\"Selection Step\"\n            md-description=\"select\"\n         >\n            <md-content class=\"step-container md-scrollbar\">\n               <selection-step\n                  :data=\"data\"\n                  :type=\"type\"\n                  @changeType=\"changeType\"\n               ></selection-step>\n            </md-content>\n\n         </md-step>\n\n         <md-step\n            id=\"second\"\n            md-label=\"Configuration Step\"\n            md-description=\"configure\"\n            :md-error=\"errorInConfig\"\n         >\n            <md-content class=\"step-container md-scrollbar\">\n               <configuration-step\n                  :data=\"data\"\n                  :type=\"type\"\n               ></configuration-step>\n            </md-content>\n\n         </md-step>\n\n         <md-step\n            id=\"third\"\n            md-label=\"Creation Step\"\n            md-description=\"create\"\n         >\n\n            <md-content class=\"step-container md-scrollbar\">\n               <launch-generation-step\n                  :data=\"data\"\n                  :type=\"type\"\n                  :error=\"firstStepError\"\n               >\n               </launch-generation-step>\n            </md-content>\n\n         </md-step>\n\n      </md-steppers>\n   </div>\n</template>\n\n\n<script>\nimport ConfigurationStep from \"./components/configurationStep.vue\";\nimport launchGenerationStep from \"./components/launchGenerationStep.vue\";\nimport selectionStep from \"./components/selectionStep.vue\";\n\nimport create_data from \"./js/data.js\";\nimport data_json from \"./js/data.config\";\n\nexport default {\n   name: \"generateGroupPanel\",\n   components: {\n      \"configuration-step\": ConfigurationStep,\n      \"launch-generation-step\": launchGenerationStep,\n      \"selection-step\": selectionStep,\n   },\n   data() {\n      this.CREATE_DATA = create_data;\n\n      return {\n         active: \"first\",\n         errorInConfig: null,\n         first: false,\n         second: false,\n         third: false,\n         type: undefined,\n         firstStepError: false,\n         data: Object.assign({}, data_json),\n         verification: {\n            context: {\n               isVerified: false,\n               message: \"\",\n            },\n            category: {\n               isVerified: false,\n               message: \"\",\n            },\n            group: {\n               isVerified: false,\n               message: \"\",\n            },\n         },\n      };\n   },\n   methods: {\n      opened(params) {\n         this.type = params.type;\n         this.data.items = params.items;\n      },\n\n      closed() {},\n\n      errorInFirstStep() {\n         this.errorInConfig = \"This is an error!\";\n      },\n\n      changeStep(step) {\n         if (step === \"second\") {\n            this.errorInConfig = null;\n         } else if (step === \"third\") {\n            const contextIsOk = this.contextIsVerified();\n            const categoryisOk = this.categoryOrGroupIsVerified(\n               this.data.category\n            );\n            const groupIsOk = this.categoryOrGroupIsVerified(this.data.group);\n\n            if (!contextIsOk || !categoryisOk || !groupIsOk) {\n               this.firstStepError = true;\n               this.errorInConfig = \"This is an error!\";\n            } else {\n               this.firstStepError = false;\n            }\n         }\n      },\n\n      changeType(type) {\n         this.type = type;\n         // if (this.data.context.create) {\n         //   this.data.context.id = \"\";\n         //   this.data.context.name = \"\";\n         // }\n      },\n\n      contextIsVerified() {\n         if (this.data.context.create) {\n            return this.data.context.name.trim().length > 0;\n         } else {\n            return (\n               this.data.context.name.trim().length > 0 &&\n               this.data.context.id.trim().length > 0\n            );\n         }\n      },\n\n      categoryOrGroupIsVerified(info) {\n         // createBy: this.CREATE_DATA.attribute,\n         //     contains: false,\n         //     name: \"\",\n         //     regex: \"\",\n         //     separator: \"\",\n         //     index: -1\n\n         if (info.createBy === this.CREATE_DATA.attribute) {\n            return info.regex.toString().trim().length > 0;\n         } else if (info.createBy === this.CREATE_DATA.name) {\n            return parseInt(info.index) >= 1;\n            // return info.separator.length > 0 && parseInt(info.index) >= 1;\n         } else if (info.createBy === this.CREATE_DATA.fixed) {\n            return info.fixedValue.trim().length > 0;\n         }\n      },\n\n      // setDone(res) {\n      //   this[res.id] = true;\n\n      //   if (res.index) {\n      //     this.active = res.index;\n      //   }\n      // }\n   },\n};\n</script>\n\n<style scoped>\n._container {\n   width: 100%;\n   height: calc(100% - 15px);\n}\n\n._container .steppers {\n   width: 100%;\n   height: 100%;\n   background-color: transparent;\n}\n\n._container .steppers .step-container {\n   height: 100%;\n   max-height: 450px;\n   padding: 16px;\n   overflow: hidden;\n   overflow-y: auto;\n   background-color: transparent;\n}\n</style>\n\n<style>\n._container .md-steppers.md-vertical .md-stepper-content {\n   padding: 0 0 0 35px;\n}\n\n/* ._container .md-steppers.md-steppers.md-vertical .md-stepper-content.md-active {\n  max-height: calc(100% - 180px);\n} */\n</style>","<!--\nCopyright 2020 SpinalCom - www.spinalcom.com\n\nThis file is part of SpinalCore.\n\nPlease read all of the following terms and conditions\nof the Free Software license Agreement (\"Agreement\")\ncarefully.\n\nThis Agreement is a legally binding contract between\nthe Licensee (as defined below) and SpinalCom that\nsets forth the terms and conditions that govern your\nuse of the Program. By installing and/or using the\nProgram, you agree to abide by all the terms and\nconditions stated or referenced herein.\n\nIf you do not agree to abide by these terms and\nconditions, do not demonstrate your acceptance and do\nnot install or use the Program.\nYou should have received a copy of the license along\nwith this file. If not, see\n<http://resources.spinalcom.com/licenses.pdf>.\n-->\n\n<template>\n  <div class=\"_container\">\n    <div class=\"content\"\n         v-if=\"isLoaded\">\n\n      <context-vue :data=\"data\"\n                   :type=\"type\"\n                   @load=\"refresh\"></context-vue>\n\n      <!-- <md-divider></md-divider> -->\n\n      <category-vue :data=\"data\"></category-vue>\n\n      <!-- <md-divider></md-divider> -->\n\n      <group-vue :data=\"data\"></group-vue>\n\n    </div>\n    <div class=\"loading\"\n         v-else>\n\n    </div>\n  </div>\n</template>\n\n<script>\nimport contextVue from \"./context.vue\";\nimport categoryVue from \"./category.vue\";\nimport groupVue from \"./group.vue\";\n\nexport default {\n  name: \"configuration\",\n  props: {\n    data: {},\n    type: {}\n  },\n  components: {\n    \"context-vue\": contextVue,\n    \"category-vue\": categoryVue,\n    \"group-vue\": groupVue\n  },\n  data() {\n    return {\n      isLoaded: true\n    };\n  },\n  methods: {\n    refresh() {\n      this.isLoaded = false;\n      setTimeout(() => {\n        this.isLoaded = true;\n      }, 300);\n    }\n\n    // goToNext() {\n    //   this.$emit(\"next\", { id: \"first\", index: \"second\" });\n    // }\n  }\n};\n</script>\n\n<style scoped>\n._container {\n  width: 100%;\n  height: 100%;\n  padding: 0 0 0 0;\n}\n\n._container .content {\n  width: 100%;\n  height: 100%;\n}\n\n/* .container .buttons {\n  width: 100%;\n  height: 10%;\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n} */\n</style>","<!--\nCopyright 2020 SpinalCom - www.spinalcom.com\n\nThis file is part of SpinalCore.\n\nPlease read all of the following terms and conditions\nof the Free Software license Agreement (\"Agreement\")\ncarefully.\n\nThis Agreement is a legally binding contract between\nthe Licensee (as defined below) and SpinalCom that\nsets forth the terms and conditions that govern your\nuse of the Program. By installing and/or using the\nProgram, you agree to abide by all the terms and\nconditions stated or referenced herein.\n\nIf you do not agree to abide by these terms and\nconditions, do not demonstrate your acceptance and do\nnot install or use the Program.\nYou should have received a copy of the license along\nwith this file. If not, see\n<http://resources.spinalcom.com/licenses.pdf>.\n-->\n\n<template>\n  <div class=\"sub-content\">\n    <md-subheader>Context</md-subheader>\n    <div class=\"contentDiv\">\n      <div class=\"radios\">\n        <md-radio v-model=\"data.context.create\"\n                  :value=\"false\"\n                  @change=\"changeRadio\"\n                  class=\"md-primary\">Select Context</md-radio>\n\n        <md-radio v-model=\"data.context.create\"\n                  :value=\"true\"\n                  @change=\"changeRadio\"\n                  class=\"md-primary\">Create Context</md-radio>\n      </div>\n\n      <div class=\"inputDiv\"\n           v-if=\"data.context.create\">\n        <md-field>\n          <label>Context Name</label>\n          <md-input v-model=\"data.context.name\"></md-input>\n        </md-field>\n      </div>\n\n      <div class=\"inputDiv\"\n           v-else>\n        <md-field>\n          <label for=\"context\">Select context</label>\n          <md-select v-model=\"data.context.id\"\n                     name=\"context\"\n                     id=\"context\"\n                     @md-selected=\"selectItem\">\n            <md-option v-if=\"contexts.length === 0\"\n                       disabled>No Item</md-option>\n\n            <md-option v-for=\"(item,index) in contexts\"\n                       :value=\"item.id\"\n                       :key=\"index\">{{item.name}}</md-option>\n\n          </md-select>\n        </md-field>\n      </div>\n\n    </div>\n  </div>\n</template>\n\n<script>\nimport { groupManagerService } from \"spinal-env-viewer-plugin-group-manager-service\";\nimport { SpinalGraphService } from \"spinal-env-viewer-graph-service\";\n\nimport PanelVue from \"../panel.vue\";\n\nexport default {\n  name: \"contextTemplate\",\n  props: [\"data\", \"type\"],\n  data() {\n    return {\n      contexts: []\n    };\n  },\n  mounted() {\n    this.getContexts();\n  },\n  methods: {\n    async getContexts() {\n      this.contexts = await groupManagerService.getGroupContexts(this.type);\n    },\n\n    async selectItem(id) {\n      const config = await this.getConfiguration(id);\n\n      if (config && config.context) {\n        this._setValue(\"context\", config.context.get());\n      }\n      if (config && config.category) {\n        this._setValue(\"category\", config.category.get());\n      }\n      if (config && config.group) {\n        this._setValue(\"group\", config.group.get());\n      }\n    },\n\n    changeRadio() {\n      this.data.context.name = \"\";\n      this.data.context.id = \"\";\n    },\n\n    async getConfiguration(id) {\n      const context = SpinalGraphService.getRealNode(id);\n      if (context) {\n        let _ptr = context.info.generate_group_config;\n\n        if (typeof _ptr !== \"undefined\") {\n          return new Promise(resolve => {\n            _ptr.load(info => {\n              resolve(info);\n            });\n          });\n        }\n      }\n\n      return;\n    },\n\n    _setValue(objectProperty, liste) {\n      for (const key of Object.keys(liste)) {\n        if (this.data[objectProperty].hasOwnProperty(key)) {\n          if (key === \"regex\") {\n            this.data[objectProperty][key] = this._getRegex(liste[key]);\n          } else {\n            this.data[objectProperty][key] = liste[key];\n          }\n        }\n      }\n    },\n\n    _getRegex(inputstring) {\n      var match = inputstring.match(new RegExp(\"^/(.*?)/([gimyu]*)$\"));\n      if (match) return new RegExp(match[1], match[2]);\n\n      return \"\";\n    }\n  },\n  watch: {\n    type() {\n      this.getContexts();\n      this.data.context.id = \"\";\n      this.data.context.name = \"\";\n    }\n  }\n};\n</script>\n\n<style scoped>\n.sub-content {\n  padding: 16px;\n  border: 1px solid gray;\n  margin-bottom: 10px;\n}\n\n.sub-content .contentDiv {\n  display: flex;\n  flex-direction: column;\n  /* justify-content: space-between; */\n}\n\n.sub-content .contentDiv .inputDiv {\n  width: 100%;\n  display: flex;\n  align-items: center;\n}\n\n.sub-content .contentDiv .radios {\n  width: 100%;\n  display: flex;\n  align-items: center;\n  /* padding-top: 16px; */\n}\n</style>\n\n<style>\n.inputDiv .md-field {\n  min-height: unset;\n  margin: 0px;\n}\n</style>","<!--\nCopyright 2020 SpinalCom - www.spinalcom.com\n\nThis file is part of SpinalCore.\n\nPlease read all of the following terms and conditions\nof the Free Software license Agreement (\"Agreement\")\ncarefully.\n\nThis Agreement is a legally binding contract between\nthe Licensee (as defined below) and SpinalCom that\nsets forth the terms and conditions that govern your\nuse of the Program. By installing and/or using the\nProgram, you agree to abide by all the terms and\nconditions stated or referenced herein.\n\nIf you do not agree to abide by these terms and\nconditions, do not demonstrate your acceptance and do\nnot install or use the Program.\nYou should have received a copy of the license along\nwith this file. If not, see\n<http://resources.spinalcom.com/licenses.pdf>.\n-->\n\n<template>\n  <div class=\"sub-content\">\n    <md-subheader>Category</md-subheader>\n\n    <div class=\"contentDiv\">\n\n      <div class=\"radiosDiv\">\n\n        <md-subheader>Create By using : </md-subheader>\n\n        <md-radio v-model=\"data.category.createBy\"\n                  :value=\"CREATE_DATA.attribute\"\n                  class=\"md-primary\">Attribute</md-radio>\n\n        <md-radio v-model=\"data.category.createBy\"\n                  :value=\"CREATE_DATA.name\"\n                  class=\"md-primary\">Name</md-radio>\n\n        <md-radio v-model=\"data.category.createBy\"\n                  :value=\"CREATE_DATA.fixed\"\n                  class=\"md-primary\">Fixed value</md-radio>\n\n      </div>\n\n      <div class=\"content\">\n\n        <create-by-attribute v-if=\"data.category.createBy === CREATE_DATA.attribute\"\n                             :propsName=\"data.category.name\"\n                             :propsContains=\"data.category.contains\"\n                             :propsRegex=\"data.category.regex\"\n                             :propsAdvanced=\"data.category.advanced\"\n                             @setValue=\"setAttributeValue\">\n        </create-by-attribute>\n\n        <create-by-name v-else-if=\"data.category.createBy === CREATE_DATA.name\"\n                        :propsSeparator=\"data.category.separator\"\n                        :propsPosition=\"data.category.position\"\n                        @setValue=\"setNameValue\">\n        </create-by-name>\n\n        <create-by-fixed-value v-else-if=\"data.category.createBy === CREATE_DATA.fixed\"\n                               @setValue=\"setFixedValue\"\n                               :propsName=\"data.category.fixedValue\">\n        </create-by-fixed-value>\n\n        <!-- <md-field class=\"fixedInput inputDiv\"\n                  v-if=\"data.category.fixed\">\n          <label>Category Name</label>\n          <md-input :disabled=\"!data.category.fixed\"\n                    v-model=\"data.category.name\"></md-input>\n        </md-field> -->\n\n        <!-- <div class=\"dynamicDiv\">\n          <md-field class=\"inputDiv\">\n            <label>regex</label>\n            <md-input v-model=\"data.category.regex\"\n                      disabled></md-input>\n\n          </md-field>\n\n          <md-button class=\"md-raised md-primary md-suffix\"\n                     @click=\"openDialog\">\n            <md-tooltip>Create dynamically</md-tooltip>\n            Edit\n          </md-button>\n\n        </div> -->\n\n      </div>\n\n    </div>\n\n  </div>\n</template>\n\n<script>\nimport { spinalPanelManagerService } from \"spinal-env-viewer-panel-manager-service\";\nimport create_data from \"../js/data.js\";\nimport CreateByAttribute from \"./createByAttribute.vue\";\nimport CreateByName from \"./createByName.vue\";\nimport CreateByFixedValue from \"./createByFixedValue.vue\";\n\nexport default {\n  name: \"categoryVue\",\n  components: {\n    \"create-by-attribute\": CreateByAttribute,\n    \"create-by-name\": CreateByName,\n    \"create-by-fixed-value\": CreateByFixedValue\n  },\n  props: {\n    data: {}\n  },\n  data() {\n    this.CREATE_DATA = create_data;\n    return {};\n  },\n  methods: {\n    // openDialog() {\n    //   spinalPanelManagerService.openPanel(\"configureGenerationDialog\", {\n    //     callback: (regex, fixed) => {\n    //       this.data.category.regex = regex;\n    //       this.data.category.fixed = fixed;\n    //     }\n    //   });\n    // }\n\n    setAttributeValue(res) {\n      this.data.category.contains = res.contains;\n      this.data.category.name = res.name;\n      this.data.category.regex = res.regex;\n    },\n\n    setNameValue(res) {\n      this.data.category.separator = res.separator;\n      this.data.category.index = res.index;\n    },\n\n    setFixedValue(res) {\n      this.data.category.fixedValue = res.name;\n    }\n  }\n};\n</script>\n\n<style scoped>\n.sub-content {\n  padding: 16px;\n  border: 1px solid gray;\n  margin-bottom: 10px;\n}\n\n.sub-content .contentDiv {\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 20px;\n}\n\n.sub-content .contentDiv .radiosDiv {\n  width: 100%;\n  display: flex;\n  /* justify-content: space-around; */\n  margin-bottom: 10px;\n}\n\n.sub-content .contentDiv .content {\n  width: 100%;\n}\n\n.sub-content .contentDiv .content .fixedInput {\n  width: 100%;\n}\n\n.sub-content .contentDiv .content .dynamicDiv {\n  width: 100%;\n  display: flex;\n}\n\n.sub-content .contentDiv .content .dynamicDiv .inputDiv {\n  width: 80%;\n}\n\n.sub-content .contentDiv .content .inputDiv {\n  margin: 0px;\n  /* padding: 0px; */\n}\n\n/* .sub-content .contentDiv .checkboxDiv {\n  height: 100%;\n  flex: 0 0 130px;\n  display: flex;\n  justify-content: flex-start;\n  align-items: flex-end;\n}\n\n\n\n.sub-content .contentDiv .dynamicDialog {\n  flex: 0 0 60px;\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n} */\n</style>","export default Object.freeze({\n  attribute: 1,\n  name: 2,\n  fixed: 3\n});","<!--\nCopyright 2020 SpinalCom - www.spinalcom.com\n\nThis file is part of SpinalCore.\n\nPlease read all of the following terms and conditions\nof the Free Software license Agreement (\"Agreement\")\ncarefully.\n\nThis Agreement is a legally binding contract between\nthe Licensee (as defined below) and SpinalCom that\nsets forth the terms and conditions that govern your\nuse of the Program. By installing and/or using the\nProgram, you agree to abide by all the terms and\nconditions stated or referenced herein.\n\nIf you do not agree to abide by these terms and\nconditions, do not demonstrate your acceptance and do\nnot install or use the Program.\nYou should have received a copy of the license along\nwith this file. If not, see\n<http://resources.spinalcom.com/licenses.pdf>.\n-->\n\n<template>\n  <div class=\"div_container\">\n    <div class=\"inputs\">\n      <md-field md-clearable>\n        <label>Attribute name</label>\n        <md-input v-model=\"name\"\n                  :disabled=\"advanced\"\n                  @blur=\"setValue\"></md-input>\n\n        <span v-if=\"advanced\"\n              class=\"md-primary md-helper-text\">You use regex\n          <a @click=\"removeRegex\">remove it!</a></span>\n      </md-field>\n\n      <md-checkbox :disabled=\"advanced\"\n                   v-model=\"contains\"\n                   class=\"md-primary\">select element includes</md-checkbox>\n    </div>\n\n    <div class=\"buttons\">\n      <md-button class=\"md-raised md-primary\"\n                 @click=\"openDialog\">Use Regex</md-button>\n    </div>\n\n  </div>\n</template>\n\n<script>\nimport { spinalPanelManagerService } from \"spinal-env-viewer-panel-manager-service\";\n\nexport default {\n  name: \"create-by-attribute\",\n  props: {\n    propsName: {},\n    propsContains: {},\n    propsRegex: {},\n    propsAdvanced: {}\n  },\n  data() {\n    return {\n      name: \"\",\n      contains: false,\n      regex: \"\",\n      advanced: false\n    };\n  },\n  methods: {\n    openDialog() {\n      spinalPanelManagerService.openPanel(\"configureGenerationDialog\", {\n        callback: regex => {\n          this.regex = regex;\n          this.advanced = true;\n          //   this.contains = false;\n          this.name = \"\";\n\n          this.setValue();\n        }\n      });\n    },\n\n    removeRegex() {\n      this.regex = \"\";\n      this.advanced = false;\n    },\n\n    getRegex() {\n      if (this.advanced) {\n        return this.regex;\n      } else if (!this.advanced && this.name.trim().length > 0) {\n        if (this.contains) {\n          return new RegExp(`${RegExp.escape(this.name.trim())}`, \"i\");\n        } else {\n          return new RegExp(`^${RegExp.escape(this.name.trim())}$`, \"i\");\n        }\n      } else {\n        return \"\";\n      }\n    },\n\n    setValue() {\n      this.$emit(\"setValue\", {\n        name: this.name,\n        contains: this.contains,\n        regex: this.getRegex()\n      });\n    }\n  },\n  watch: {\n    contains() {\n      this.setValue();\n    },\n    propsName() {\n      if (this.propsName !== this.name) this.name = this.propsName;\n    },\n\n    propsContains() {\n      if (this.propsContains !== this.contains) {\n        this.contains = this.propsContains;\n      }\n    },\n    propsRegex() {\n      if (this.propsRegex !== this.regex) {\n        this.regex = this.propsRegex;\n      }\n    },\n    propsAdvanced() {\n      if (this.propsAdvanced !== this.advanced) {\n        this.advanced = this.propsAdvanced;\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n.div_container {\n  width: 100%;\n  display: flex;\n  justify-content: space-around;\n}\n\n.div_container .inputs {\n  flex: 0 0 70%;\n}\n\n.div_container .buttons {\n  flex: 0 0 20%;\n}\n</style>\n\n<style>\n.div_container .inputs .md-field {\n  /* margin: 0px; */\n  /* padding: 0px; */\n  min-height: 0px;\n}\n</style>","<!--\nCopyright 2020 SpinalCom - www.spinalcom.com\n\nThis file is part of SpinalCore.\n\nPlease read all of the following terms and conditions\nof the Free Software license Agreement (\"Agreement\")\ncarefully.\n\nThis Agreement is a legally binding contract between\nthe Licensee (as defined below) and SpinalCom that\nsets forth the terms and conditions that govern your\nuse of the Program. By installing and/or using the\nProgram, you agree to abide by all the terms and\nconditions stated or referenced herein.\n\nIf you do not agree to abide by these terms and\nconditions, do not demonstrate your acceptance and do\nnot install or use the Program.\nYou should have received a copy of the license along\nwith this file. If not, see\n<http://resources.spinalcom.com/licenses.pdf>.\n-->\n\n<template>\n  <div class=\"div_container\">\n    <div class=\"sub-container\">\n      <md-field>\n        <label>Separator</label>\n        <md-input v-model=\"separator\"\n                  @blur=\"setValue\"></md-input>\n      </md-field>\n    </div>\n\n    <div class=\"sub-container\">\n      <md-field>\n        <label>Index</label>\n        <md-input v-model=\"position\"\n                  type=\"number\"\n                  :min=\"1\"\n                  @blur=\"setValue\"></md-input>\n      </md-field>\n    </div>\n\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"create-by-name\",\n  props: {\n    propsSeparator: {},\n    propsPosition: {}\n  },\n  data() {\n    return {\n      separator: \"\",\n      position: 1\n    };\n  },\n  methods: {\n    setValue() {\n      this.$emit(\"setValue\", {\n        separator: this.separator,\n        index: this.position\n      });\n    }\n  },\n  watch: {\n    propsSeparator() {\n      if (this.propsSeparator !== this.separator)\n        this.separator = this.propsSeparator;\n    },\n\n    propsPosition() {\n      if (this.propsPosition !== this.position)\n        this.position = this.propsPosition;\n    }\n  }\n};\n</script>\n\n<style scoped>\n.div_container {\n  width: 100%;\n  display: flex;\n  justify-content: space-around;\n}\n\n.div_container .sub-container {\n  width: 40%;\n}\n</style>\n\n<style>\n.div_container .sub-container .md-field {\n  min-height: 0px;\n}\n</style>","<!--\nCopyright 2020 SpinalCom - www.spinalcom.com\n\nThis file is part of SpinalCore.\n\nPlease read all of the following terms and conditions\nof the Free Software license Agreement (\"Agreement\")\ncarefully.\n\nThis Agreement is a legally binding contract between\nthe Licensee (as defined below) and SpinalCom that\nsets forth the terms and conditions that govern your\nuse of the Program. By installing and/or using the\nProgram, you agree to abide by all the terms and\nconditions stated or referenced herein.\n\nIf you do not agree to abide by these terms and\nconditions, do not demonstrate your acceptance and do\nnot install or use the Program.\nYou should have received a copy of the license along\nwith this file. If not, see\n<http://resources.spinalcom.com/licenses.pdf>.\n-->\n\n<template>\n  <div class=\"div_container\">\n    <div class=\"inputs\">\n      <md-field md-clearable>\n        <label>value</label>\n        <md-input v-model=\"name\"\n                  @blur=\"setValue\"></md-input>\n      </md-field>\n    </div>\n\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"create-by-fixed-value\",\n  props: {\n    propsName: {}\n  },\n  data() {\n    return {\n      name: \"\"\n    };\n  },\n  methods: {\n    setValue() {\n      this.$emit(\"setValue\", {\n        name: this.name\n      });\n    }\n  },\n  watch: {\n    propsName() {\n      if (this.propsName !== this.name) this.name = this.propsName;\n    }\n  }\n};\n</script>\n\n<style scoped>\n.div_container {\n  width: 100%;\n}\n</style>\n\n<style>\n.div_container .inputs .md-field {\n  /* margin: 0px; */\n  /* padding: 0px; */\n  min-height: 0px;\n}\n</style>","<!--\nCopyright 2020 SpinalCom - www.spinalcom.com\n\nThis file is part of SpinalCore.\n\nPlease read all of the following terms and conditions\nof the Free Software license Agreement (\"Agreement\")\ncarefully.\n\nThis Agreement is a legally binding contract between\nthe Licensee (as defined below) and SpinalCom that\nsets forth the terms and conditions that govern your\nuse of the Program. By installing and/or using the\nProgram, you agree to abide by all the terms and\nconditions stated or referenced herein.\n\nIf you do not agree to abide by these terms and\nconditions, do not demonstrate your acceptance and do\nnot install or use the Program.\nYou should have received a copy of the license along\nwith this file. If not, see\n<http://resources.spinalcom.com/licenses.pdf>.\n-->\n\n<template>\n  <div class=\"sub-content\">\n    <md-subheader>Group</md-subheader>\n\n    <div class=\"contentDiv\">\n\n      <div class=\"radiosDiv\">\n\n        <md-subheader>Create By using : </md-subheader>\n\n        <md-radio v-model=\"data.group.createBy\"\n                  :value=\"CREATE_DATA.attribute\"\n                  class=\"md-primary\">Attribute</md-radio>\n\n        <md-radio v-model=\"data.group.createBy\"\n                  :value=\"CREATE_DATA.name\"\n                  class=\"md-primary\">Name</md-radio>\n\n        <md-radio v-model=\"data.group.createBy\"\n                  :value=\"CREATE_DATA.fixed\"\n                  class=\"md-primary\">Fixed value</md-radio>\n\n      </div>\n\n      <div class=\"content\">\n\n        <create-by-attribute v-if=\"data.group.createBy === CREATE_DATA.attribute\"\n                             :propsName=\"data.group.name\"\n                             :propsContains=\"data.group.contains\"\n                             :propsRegex=\"data.group.regex\"\n                             :propsAdvanced=\"data.group.advanced\"\n                             @setValue=\"setAttributeValue\">\n        </create-by-attribute>\n\n        <create-by-name v-else-if=\"data.group.createBy === CREATE_DATA.name\"\n                        :propsSeparator=\"data.group.separator\"\n                        :propsPosition=\"data.group.position\"\n                        @setValue=\"setNameValue\">\n        </create-by-name>\n\n        <create-by-fixed-value v-else-if=\"data.group.createBy === CREATE_DATA.fixed\"\n                               @setValue=\"setFixedValue\"\n                               :propsName=\"data.group.fixedValue\">\n        </create-by-fixed-value>\n\n        <!-- <md-field class=\"fixedInput inputDiv\"\n                  v-if=\"data.group.fixed\">\n          <label>Category Name</label>\n          <md-input :disabled=\"!data.group.fixed\"\n                    v-model=\"data.group.name\"></md-input>\n        </md-field> -->\n\n        <!-- <div class=\"dynamicDiv\">\n          <md-field class=\"inputDiv\">\n            <label>regex</label>\n            <md-input v-model=\"data.group.regex\"\n                      disabled></md-input>\n\n          </md-field>\n\n          <md-button class=\"md-raised md-primary md-suffix\"\n                     @click=\"openDialog\">\n            <md-tooltip>Create dynamically</md-tooltip>\n            Edit\n          </md-button>\n\n        </div> -->\n\n      </div>\n\n    </div>\n\n  </div>\n</template>\n\n\n<script>\nimport { spinalPanelManagerService } from \"spinal-env-viewer-panel-manager-service\";\nimport create_data from \"../js/data.js\";\nimport CreateByAttribute from \"./createByAttribute.vue\";\nimport CreateByName from \"./createByName.vue\";\nimport CreateByFixedValue from \"./createByFixedValue.vue\";\n\nexport default {\n  name: \"groupVue\",\n  components: {\n    \"create-by-attribute\": CreateByAttribute,\n    \"create-by-name\": CreateByName,\n    \"create-by-fixed-value\": CreateByFixedValue\n  },\n  props: {\n    data: {}\n  },\n  data() {\n    this.CREATE_DATA = create_data;\n    return {};\n  },\n  methods: {\n    // openDialog() {\n    //   spinalPanelManagerService.openPanel(\"configureGenerationDialog\", {\n    //     callback: (regex, fixed) => {\n    //       this.data.group.regex = regex;\n    //       this.data.group.fixed = fixed;\n    //     }\n    //   });\n    // }\n\n    setAttributeValue(res) {\n      this.data.group.contains = res.contains;\n      this.data.group.name = res.name;\n      this.data.group.regex = res.regex;\n    },\n\n    setNameValue(res) {\n      this.data.group.separator = res.separator;\n      this.data.group.index = res.index;\n    },\n\n    setFixedValue(res) {\n      this.data.group.fixedValue = res.name;\n    }\n  }\n};\n</script>\n\n<style scoped>\n.sub-content {\n  padding: 16px;\n  border: 1px solid gray;\n  margin-bottom: 10px;\n}\n\n.sub-content .contentDiv {\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 20px;\n}\n\n.sub-content .contentDiv .radiosDiv {\n  width: 100%;\n  display: flex;\n  /* justify-content: space-around; */\n  margin-bottom: 10px;\n}\n\n.sub-content .contentDiv .content {\n  width: 100%;\n}\n\n.sub-content .contentDiv .content .fixedInput {\n  width: 100%;\n}\n\n.sub-content .contentDiv .content .dynamicDiv {\n  width: 100%;\n  display: flex;\n}\n\n.sub-content .contentDiv .content .dynamicDiv .inputDiv {\n  width: 80%;\n}\n\n.sub-content .contentDiv .content .inputDiv {\n  margin: 0px;\n  /* padding: 0px; */\n}\n\n/* .sub-content .contentDiv .checkboxDiv {\n  height: 100%;\n  flex: 0 0 130px;\n  display: flex;\n  justify-content: flex-start;\n  align-items: flex-end;\n}\n\n\n\n.sub-content .contentDiv .dynamicDialog {\n  flex: 0 0 60px;\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n} */\n</style>","<!--\nCopyright 2020 SpinalCom - www.spinalcom.com\n\nThis file is part of SpinalCore.\n\nPlease read all of the following terms and conditions\nof the Free Software license Agreement (\"Agreement\")\ncarefully.\n\nThis Agreement is a legally binding contract between\nthe Licensee (as defined below) and SpinalCom that\nsets forth the terms and conditions that govern your\nuse of the Program. By installing and/or using the\nProgram, you agree to abide by all the terms and\nconditions stated or referenced herein.\n\nIf you do not agree to abide by these terms and\nconditions, do not demonstrate your acceptance and do\nnot install or use the Program.\nYou should have received a copy of the license along\nwith this file. If not, see\n<http://resources.spinalcom.com/licenses.pdf>.\n-->\n\n<template>\n   <div class=\"content\">\n\n      <div\n         class=\"buttons\"\n         v-if=\"appState === STATES.normal\"\n      >\n         <!-- <md-button v-if=\"!verified\"\n                 class=\"md-raised md-primary\"\n                 @click=\"launchVerification\">Verify</md-button> -->\n         <md-button\n            :disabled=\"error\"\n            class=\"md-raised md-primary\"\n            @click=\"launchGeneration\"\n         >Launch Generation</md-button>\n      </div>\n\n      <div\n         class=\"state\"\n         v-else-if=\"appState === STATES.loading\"\n      >\n         <md-progress-spinner md-mode=\"indeterminate\"></md-progress-spinner>\n\n      </div>\n\n      <div\n         class=\"state\"\n         v-else-if=\"appState === STATES.success\"\n      >\n         <md-icon class=\"md-size-4x\">check</md-icon>\n\n      </div>\n\n      <div\n         class=\"state\"\n         v-else-if=\"appState === STATES.error\"\n      >\n         <md-icon class=\"md-size-4x\">close</md-icon>\n      </div>\n\n   </div>\n</template>\n\n<script>\nimport CREATE_DATA from \"../js/data.js\";\n\nimport utilities from \"../js/utilities.js\";\nimport { SpinalGraphService } from \"spinal-env-viewer-graph-service\";\nimport groupManagerService from \"spinal-env-viewer-plugin-group-manager-service\";\n\nimport { Ptr, Model } from \"spinal-core-connectorjs_type\";\n\nexport default {\n   name: \"launchGeneration\",\n   props: {\n      data: {},\n      type: {},\n      error: {},\n   },\n   data() {\n      this.STATES = {\n         loading: 1,\n         normal: 2,\n         success: 3,\n         error: 4,\n      };\n      return {\n         verified: false,\n         valueGrouped: null,\n         appState: this.STATES.normal,\n      };\n   },\n   methods: {\n      async launchVerification() {\n         this.appState = this.STATES.loading;\n         const contextCondition = this.data.context.name.trim().length > 0;\n\n         const categoryCondition =\n            this.data.category.regex.toString().length > 0 ||\n            this.data.category.name.trim().length > 0;\n\n         const groupCondition =\n            this.data.group.regex.toString().length > 0 ||\n            this.data.group.name.trim().length > 0;\n\n         // if (contextCondition && categoryCondition && groupCondition) {\n         this.valueGrouped = await this.classifyItem(\n            this.data.category,\n            this.data.group\n         );\n\n         this.verified = true;\n         // } else {\n         //   this.$emit(\"error\");\n         // }\n         // console.log(\"items\", this.valueGrouped);\n         this.appState = this.STATES.normal;\n      },\n\n      async launchGeneration() {\n         this.appState = this.STATES.loading;\n         let contextId = await this.getContext();\n\n         this.createNodes(contextId)\n            .then((res) => {\n               this.saveConfiguration(contextId, this.data);\n               this._displayResult(this.STATES.success);\n            })\n            .catch((err) => {\n               this._displayResult(this.STATES.error);\n               console.error(err);\n            });\n      },\n\n      _displayResult(result) {\n         this.appState = result;\n         setTimeout(() => {\n            this.appState = this.STATES.normal;\n         }, 1000);\n      },\n\n      async classifyItem(categoryInfo, groupInfo) {\n         const res = [];\n         const unclassify = \"unclassify\";\n\n         for (const item of this.data.items) {\n            const spinalId = item.id;\n\n            const categoryName = await utilities.getValue(\n               spinalId,\n               categoryInfo,\n               this.type\n            );\n            const groupName = await utilities.getValue(\n               spinalId,\n               groupInfo,\n               this.type\n            );\n\n            let categoryFound = res.find((el) => {\n               if (categoryName) return el.name === categoryName;\n               return el.name === unclassify;\n            });\n\n            if (typeof categoryFound === \"undefined\") {\n               categoryFound = {\n                  name: categoryName ? categoryName : unclassify,\n                  groups: [],\n               };\n               res.push(categoryFound);\n            }\n\n            let groupFound = categoryFound.groups.find((el) => {\n               if (groupName) return el.name === groupName;\n               return el.name === unclassify;\n            });\n\n            if (typeof groupFound === \"undefined\") {\n               groupFound = {\n                  name: groupName ? groupName : unclassify,\n                  items: [],\n                  color: groupName ? this._generateColor() : \"#ff0000\",\n               };\n               categoryFound.groups.push(groupFound);\n            }\n\n            groupFound.items.push(item);\n         }\n\n         return res;\n      },\n\n      async getContext() {\n         if (this.data.context.create) {\n            const contextName = utilities._getValidContextName(\n               this.data.context.name\n            );\n\n            const context = await groupManagerService.createGroupContext(\n               contextName,\n               this.type\n            );\n\n            return context.info.id.get();\n         }\n\n         return this.data.context.id;\n      },\n\n      async createNodes(contextId) {\n         this.valueGrouped = await this.classifyItem(\n            this.data.category,\n            this.data.group\n         );\n\n         for (const obj of this.valueGrouped) {\n            const category = await utilities.createCategory(\n               contextId,\n               obj.name\n            );\n\n            for (const el of obj.groups) {\n               const group = await utilities.createGroup(\n                  contextId,\n                  category.info.id.get(),\n                  el.name,\n                  el.color\n               );\n\n               for (const item of el.items) {\n                  utilities.addElement(contextId, group.info.id.get(), item.id);\n               }\n            }\n         }\n\n         return;\n      },\n\n      saveConfiguration(contextId, configuration) {\n         const context = SpinalGraphService.getRealNode(contextId);\n         const dataCopy = Object.assign({}, this.data);\n\n         dataCopy.context.create = false;\n         dataCopy.context.id = contextId;\n         dataCopy.category.regex = dataCopy.category.regex.toString();\n         dataCopy.group.regex = dataCopy.group.regex.toString();\n\n         if (context) {\n            if (context.info.generate_group_config) {\n               context.info.rem_attr(\"generate_group_config\");\n            }\n\n            const model = new Model({\n               context: dataCopy.context,\n               category: dataCopy.category,\n               group: dataCopy.group,\n            });\n\n            context.info.add_attr({\n               generate_group_config: new Ptr(model),\n            });\n         }\n      },\n\n      _generateColor() {\n         return \"#\" + ((Math.random() * 0xffffff) << 0).toString(16);\n      },\n   },\n};\n</script>\n\n<style scoped>\n.content {\n   width: 100%;\n   height: 100%;\n}\n\n.content .buttons {\n   width: 100%;\n   display: flex;\n   justify-content: center;\n}\n\n.state {\n   width: 100%;\n   height: 100%;\n   display: flex;\n   justify-content: center;\n   align-items: center;\n}\n</style>","import CREATE_DATA from \"./data.js\";\n\nimport {\n  spinalAttributeService\n} from \"../../../../services\";\n\nimport {\n  SpinalGraphService\n} from \"spinal-env-viewer-graph-service\";\n\n\nimport {\n  bimObjectManagerService\n} from \"spinal-env-viewer-bim-manager-service\";\n\nimport groupManagerService from \"spinal-env-viewer-plugin-group-manager-service\";\nimport geographicService from \"spinal-env-viewer-context-geographic-service\";\n\nexport default {\n  async getValue(spinalId, info, type) {\n\n    if (info.createBy === CREATE_DATA.attribute) {\n      return this.checkOnSpinalAttributes(spinalId, info.regex, type);\n\n    } else if (info.createBy === CREATE_DATA.name) {\n      const nodeInfo = SpinalGraphService.getInfo(spinalId);\n      const name = nodeInfo.name.get();\n\n      if (info.separator.length === 0) info.separator = \" \";\n\n      const liste = name.split(info.separator);\n\n      return liste[info.index - 1];\n    } else if (info.createBy === CREATE_DATA.fixed) {\n      return info.fixedValue;\n    }\n\n  },\n\n  async checkOnBimObjectAttributes(spinalId, regex) {\n    const bimObjectInfo = SpinalGraphService.getInfo(spinalId).get();\n\n    let model = window.spinal.BimObjectService.getModelByBimfile(bimObjectInfo\n      .bimFileId);\n\n    if (model) {\n      return bimObjectManagerService.getBimObjectProperties({\n        model: model,\n        selection: [bimObjectInfo.dbid]\n      }).then(res => {\n        let properties = res[0].properties[0].properties;\n\n        let found = properties.find(el => {\n          let attrName = el.attributeName.toLowerCase();\n          let displayName = el.displayName.toLowerCase();\n\n          return attrName.match(this._getRegex(regex.toString())) ||\n            displayName.match(this._getRegex(regex.toString()));\n        })\n\n        if (found) return found.displayValue;\n\n\n      }).catch(err => {\n        console.error(err);\n        return;\n      })\n    }\n\n  },\n\n  async checkOnSpinalAttributes(spinalId, regex, type) {\n\n    const attributes = await spinalAttributeService.getAllAttributes(\n      spinalId);\n\n    const found = attributes.find((el) => {\n      return el.label.match(this._getRegex(regex.toString()));\n    });\n\n    if (found && found.value) return found.value;\n\n    else if (type === geographicService.constants.EQUIPMENT_TYPE) {\n      const attrValue = await this.checkOnBimObjectAttributes(spinalId,\n        regex);\n      return attrValue;\n    }\n  },\n\n  ////////////////////////////////////////////////////////////////\n  //                    Creation                                //\n  ////////////////////////////////////////////////////////////////\n\n  contextNameExist(contextName) {\n    const context = SpinalGraphService.getContext(contextName);\n    if (typeof context !== \"undefined\") return true;\n    return false;\n  },\n\n  createCategory(contextId, categoryName) {\n    return groupManagerService.addCategory(contextId, categoryName, \"\");\n  },\n\n  createGroup(contextId, categoryId, groupName, color = \"#000000\") {\n    return groupManagerService.addGroup(\n      contextId,\n      categoryId,\n      groupName,\n      color\n    );\n  },\n\n  addElement(contextId, groupId, elementId) {\n    return groupManagerService.linkElementToGroup(\n      contextId,\n      groupId,\n      elementId\n    );\n  },\n\n  _getValidContextName(name) {\n    let validName;\n    let count = 0;\n    while (typeof validName === \"undefined\") {\n      if (!this.contextNameExist(name)) {\n        validName = name;\n      } else {\n        count++;\n        name = `${name} ${count}`\n      }\n    }\n\n    return validName;\n  },\n\n  _getRegex(inputstring) {\n    var match = inputstring.match(new RegExp(\"^/(.*?)/([gimyu]*)$\"));\n    if (match) return new RegExp(match[1], match[2]);\n    return \"\";\n  }\n};","<!--\nCopyright 2020 SpinalCom - www.spinalcom.com\n\nThis file is part of SpinalCore.\n\nPlease read all of the following terms and conditions\nof the Free Software license Agreement (\"Agreement\")\ncarefully.\n\nThis Agreement is a legally binding contract between\nthe Licensee (as defined below) and SpinalCom that\nsets forth the terms and conditions that govern your\nuse of the Program. By installing and/or using the\nProgram, you agree to abide by all the terms and\nconditions stated or referenced herein.\n\nIf you do not agree to abide by these terms and\nconditions, do not demonstrate your acceptance and do\nnot install or use the Program.\nYou should have received a copy of the license along\nwith this file. If not, see\n<http://resources.spinalcom.com/licenses.pdf>.\n-->\n\n<template>\n  <div class=\"sub-content\">\n\n    <div class=\"countdiv typeSelected\">\n      Type selected : {{type ? type : \"None\"}}\n    </div>\n\n    <div class=\"countdiv\">\n      {{count}} item(s) selected\n    </div>\n\n    <div class=\"buttons\">\n      <md-button @click=\"addSelection\">\n        <md-icon>add</md-icon>\n        <md-tooltip md-delay=\"300\">Add Bim objects selected</md-tooltip>\n      </md-button>\n\n      <md-button @click=\"clearReferential\">\n        <md-icon>clear</md-icon>\n        <md-tooltip md-delay=\"300\">Clear selected</md-tooltip>\n      </md-button>\n\n      <!-- <md-button @click=\"showReferential\">\n        <md-icon>visibility</md-icon>\n        <md-tooltip md-delay=\"300\">Show referential</md-tooltip>\n      </md-button> -->\n    </div>\n\n  </div>\n</template>\n\n<script>\nimport geographicService from \"spinal-env-viewer-context-geographic-service\";\nimport { bimObjectManagerService } from \"spinal-env-viewer-bim-manager-service\";\n\nexport default {\n  name: \"selectionStep\",\n  props: {\n    data: {},\n    type: {}\n  },\n  data() {\n    return {};\n  },\n  methods: {\n    addSelection() {\n      const EQUIPMENT_TYPE = geographicService.constants.EQUIPMENT_TYPE;\n\n      if (this.type === EQUIPMENT_TYPE || this.data.items.length === 0) {\n        if (this.data.items.length === 0)\n          this.$emit(\"changeType\", EQUIPMENT_TYPE);\n\n        this.addItemSelected();\n      } else {\n        window.alert(`can not add ${EQUIPMENT_TYPE} to ${this.type} type`);\n      }\n    },\n\n    clearReferential() {\n      this.data.items = [];\n      this.$emit(\"changeType\");\n    },\n\n    async addItemSelected() {\n      const aggregateSelection = window.spinal.ForgeViewer.viewer.getAggregateSelection();\n\n      const selection = await this.getLeafDbIds(aggregateSelection);\n\n      const nodespromises = selection.map(async el => {\n        return this.getBimObjectsNodes(el);\n      });\n\n      let promisesValues = await Promise.all(nodespromises);\n\n      for (const iterator of promisesValues) {\n        const listeFiltered = this.filterList(iterator);\n        this.data.items = [...this.data.items, ...listeFiltered];\n      }\n    },\n\n    getLeafDbIds(selections) {\n      const dbIds = selections.map(el => {\n        return bimObjectManagerService.getLeafDbIds(el.model, el.selection);\n      });\n\n      return Promise.all(dbIds);\n    },\n\n    getBimObjectsNodes(el) {\n      let nodes = el.selection.map(async dbId => {\n        let node = await window.spinal.BimObjectService.createBIMObject(\n          dbId,\n          el.model\n        );\n        return node.get();\n      });\n\n      return Promise.all(nodes);\n    },\n\n    filterList(liste) {\n      return liste.filter(el => {\n        const found = this.data.items.find(i => i.id === el.id);\n        if (found) return false;\n        return true;\n      });\n    }\n  },\n  computed: {\n    count() {\n      return this.data && this.data.items ? this.data.items.length : 0;\n    }\n  }\n};\n</script>\n\n<style scoped>\n.countdiv {\n  height: 60px;\n  display: flex;\n  align-items: center;\n  font-size: 1.2em;\n}\n</style>\n\n<style>\n.sub-content .buttons .md-button .md-ripple {\n  padding: 0px !important;\n}\n</style>","import CREATE_DATA from \"./data\";\n\nexport default {\n  items: [],\n  context: {\n    create: false,\n    id: \"\",\n    name: \"\"\n  },\n  category: {\n    createBy: CREATE_DATA.attribute,\n    contains: false,\n    name: \"\",\n    regex: \"\",\n    separator: \"\",\n    index: 1,\n    fixedValue: \"\"\n  },\n  group: {\n    createBy: CREATE_DATA.attribute,\n    contains: false,\n    name: \"\",\n    regex: \"\",\n    separator: \"\",\n    index: 1,\n    fixedValue: \"\"\n  }\n}","<!--\nCopyright 2020 SpinalCom - www.spinalcom.com\n\nThis file is part of SpinalCore.\n\nPlease read all of the following terms and conditions\nof the Free Software license Agreement (\"Agreement\")\ncarefully.\n\nThis Agreement is a legally binding contract between\nthe Licensee (as defined below) and SpinalCom that\nsets forth the terms and conditions that govern your\nuse of the Program. By installing and/or using the\nProgram, you agree to abide by all the terms and\nconditions stated or referenced herein.\n\nIf you do not agree to abide by these terms and\nconditions, do not demonstrate your acceptance and do\nnot install or use the Program.\nYou should have received a copy of the license along\nwith this file. If not, see\n<http://resources.spinalcom.com/licenses.pdf>.\n-->\n\n<template>\n  <md-dialog class=\"mdDialogContainer paramsDialogContainer\"\n             :md-active.sync=\"showDialog\"\n             @md-closed=\"closeDialog(false)\">\n    <md-dialog-title style=\"text-align : center\">\n      Set your configurations\n    </md-dialog-title>\n    <md-dialog-content style=\"overflow : hidden\">\n\n      <md-tabs class=\"myTabs\"\n               md-alignment=\"centered\"\n               @md-changed=\"changeTab\">\n        <md-tab id=\"current-param-tab\"\n                md-label=\"Current configuration\"\n                md-icon=\"offline_pin\"></md-tab>\n\n        <md-tab id=\"create-param-tab\"\n                md-label=\"Create configuration\"\n                md-icon=\"add\"></md-tab>\n\n        <md-tab id=\"all-params-tab\"\n                md-label=\"All configuration\"\n                md-icon=\"settings_applications\"></md-tab>\n\n      </md-tabs>\n\n      <div class=\"tabsContent\">\n\n        <current-param v-if=\"tabDisplayed === 0\"\n                       :currentConfiguration=\"currentConf\"\n                       @refresh=\"RefreshData\">\n        </current-param>\n\n        <edit-param v-if=\"tabDisplayed === 1\"\n                    :data=\"allConfigurations\"\n                    :currentConfiguration=\"currentConf\"\n                    @change=\"changeCurrentConf\"\n                    @refresh=\"RefreshData\"></edit-param>\n\n        <create-param v-if=\"tabDisplayed === 2\"\n                      @refresh=\"RefreshData\"></create-param>\n\n      </div>\n\n    </md-dialog-content>\n\n    <md-dialog-actions>\n      <md-button class=\"md-primary\"\n                 @click=\"closeDialog(false)\">Close</md-button>\n      <!-- <md-button class=\"md-primary\"\n                 @click=\"closeDialog(true)\">Save</md-button> -->\n    </md-dialog-actions>\n  </md-dialog>\n\n</template>\n\n<script>\n// import menuComponent from \"../../vue/panels/components/tooltips/addItem.vue\";\nimport utilities from \"../../js/utilities\";\n\nimport editParamsComponent from \"./components/editParamsComponent.vue\";\nimport currentConfiguration from \"./components/paramsUploaded.vue\";\nimport addConfiguration from \"./components/createParamsComponent.vue\";\n\nexport default {\n  name: \"paramDialogComponent\",\n  components: {\n    \"edit-param\": editParamsComponent,\n    \"current-param\": currentConfiguration,\n    \"create-param\": addConfiguration\n  },\n  props: [\"onFinised\"],\n  data() {\n    return {\n      showDialog: true,\n      typeSelected: \"\",\n      data: [],\n      callback: null,\n      tabDisplayed: 0,\n      allConfigurations: [],\n      currentConf: undefined\n    };\n  },\n  methods: {\n    async opened(option) {\n      this.typeSelected = option.typeSelected;\n      this.callback = option.callback;\n      this.allConfigurations = await utilities.getAllConfiguration();\n      this.currentConf = await utilities.getCurrentConfiguration();\n      // this.data = await this.formatData(option.header, option.typeSelected);\n    },\n\n    async changeCurrentConf() {\n      this.currentConf = await utilities.getCurrentConfiguration();\n    },\n\n    async RefreshData() {\n      this.allConfigurations = await utilities.getAllConfiguration();\n      this.currentConf = await utilities.getCurrentConfiguration();\n    },\n\n    removed(option) {\n      // if (option) {\n      //   utilities.addElement(this.typeSelected, this.data);\n      // }\n\n      this.callback();\n      this.showDialog = false;\n    },\n    closeDialog(closeResult) {\n      if (typeof this.onFinised === \"function\") {\n        this.onFinised(closeResult);\n      }\n    },\n    // addLabel(res) {\n    //   if (res.category && res.label) {\n    //     let found = this.data.find(el => {\n    //       return el.category === res.category;\n    //     });\n\n    //     if (found) {\n    //       let attrFound = found.attributes.find(el => el.label === res.label);\n    //       if (typeof attrFound === \"undefined\") {\n    //         found.attributes.push({\n    //           show: false,\n    //           label: res.label\n    //         });\n    //       }\n    //     }\n    //   } else if (res.category) {\n    //     let found = this.data.find(el => el.category === res.category);\n\n    //     if (!found) {\n    //       this.data.push({\n    //         category: res.category,\n    //         attributes: []\n    //       });\n    //     }\n    //   }\n    // },\n\n    formatData(headers, type) {\n      return utilities.getElements(type).then(el => {\n        if (el && el.get().length > 0) {\n          return el.get();\n        }\n\n        let res = [];\n        headers.forEach(el => {\n          let found = res.find(el2 => el2.category === el.category);\n\n          if (found) {\n            found.attributes.push({\n              show: false,\n              label: el.label,\n              date: el.date\n            });\n          } else {\n            res.push({\n              category: el.category,\n              attributes: [\n                {\n                  show: false,\n                  label: el.label,\n                  date: el.date\n                }\n              ]\n            });\n          }\n        });\n\n        return res;\n      });\n    },\n\n    changeTab(activeTab) {\n      switch (activeTab) {\n        case \"current-param-tab\":\n          this.tabDisplayed = 0;\n          break;\n\n        case \"all-params-tab\":\n          this.tabDisplayed = 1;\n          break;\n\n        case \"create-param-tab\":\n          this.tabDisplayed = 2;\n          break;\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n.mdDialogContainer.paramsDialogContainer {\n  width: 700px !important;\n  height: 700px;\n}\n\n.mdDialogContainer.paramsDialogContainer .myTabs {\n  height: 70px;\n}\n\n.mdDialogContainer.paramsDialogContainer .tabsContent {\n  width: calc(100% - 70px);\n  height: calc(100% - 70px);\n  margin: auto;\n  margin-top: 10px;\n}\n\n.mdDialogContainer.paramsDialogContainer .list .emptyList {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 18px;\n}\n\n.mdDialogContainer.paramsDialogContainer .list .addCategoryBtn {\n  position: absolute;\n  bottom: 30px;\n  right: 20px;\n}\n</style>","/*\n * Copyright 2020 SpinalCom - www.spinalcom.com\n *\n * This file is part of SpinalCore.\n *\n * Please read all of the following terms and conditions\n * of the Free Software license Agreement (\"Agreement\")\n * carefully.\n *\n * This Agreement is a legally binding contract between\n * the Licensee (as defined below) and SpinalCom that\n * sets forth the terms and conditions that govern your\n * use of the Program. By installing and/or using the\n * Program, you agree to abide by all the terms and\n * conditions stated or referenced herein.\n *\n * If you do not agree to abide by these terms and\n * conditions, do not demonstrate your acceptance and do\n * not install or use the Program.\n * You should have received a copy of the license along\n * with this file. If not, see\n * <http://resources.spinalcom.com/licenses.pdf>.\n */\n\nimport {\n  SpinalGraphService,\n  SPINAL_RELATION_PTR_LST_TYPE\n} from \"spinal-env-viewer-graph-service\";\n\nimport {\n  Model,\n  Ptr\n} from \"spinal-core-connectorjs_type\";\n\n\nexport default class Utilities {\n\n  static createOrGetContext() {\n    this.contextName = \"Nomenclature_Configuration\";\n    this.CONTEXT_TYPE = \"Nomenclature_Configuration\";\n    this.CATEGORY_TYPE = \"configurationCategory\";\n    this.ATTRIBUTE_TYPE = \"configurationAttribute\";\n\n\n    this.CONTEXT_TO_CONFIGURATION_RELATION = \"hasConfiguration\";\n    this.CONFIGURATION_TO_CATEGORY_RELATION = \"hasCategory\";\n    this.CATEGORY_TO_ATTRIBUTE_RELATION = \"hasAttribute\";\n\n    let context = SpinalGraphService.getContext(this.contextName);\n\n    if (typeof context !== \"undefined\") return Promise.resolve(context);\n\n    return SpinalGraphService.addContext(\n      this.contextName,\n      this.CONTEXT_TYPE,\n      new Model({\n        name: this.contextName\n      })\n    );\n\n  }\n\n  static createConfiguration(configurationName, configurationCategories) {\n    return this.createOrGetContext().then(context => {\n      let contextId = context.info.id.get();\n\n      let configurationNode = SpinalGraphService.createNode({\n        name: configurationName,\n        type: this.CATEGORY_TYPE\n      }, new Model({\n        name: configurationName,\n        categories: configurationCategories\n      }))\n\n      if (configurationNode) {\n        return SpinalGraphService.addChildInContext(contextId,\n          configurationNode,\n          contextId, this.CONTEXT_TO_CONFIGURATION_RELATION,\n          SPINAL_RELATION_PTR_LST_TYPE);\n      }\n\n    })\n  }\n\n  static getAllConfiguration() {\n    return this.createOrGetContext().then(context => {\n      let contextId = context.info.id.get();\n\n      return SpinalGraphService.getChildren(contextId, [this\n        .CONTEXT_TO_CONFIGURATION_RELATION\n      ]).then(configurations => {\n        let promises = configurations.map(async configuration => {\n          let id = configuration.id.get();\n          let realNode = SpinalGraphService.getRealNode(id);\n          let elementModel = await realNode.getElement();\n\n          if (elementModel) {\n            let element = elementModel.get();\n            element[\"id\"] = id;\n            return element;\n          }\n\n        })\n\n        return Promise.all(promises);\n\n      })\n\n    })\n  }\n\n  static getElements() {\n    return this.getCurrentConfiguration().then(res => {\n      return res.categories;\n    })\n  }\n\n  static setAsCurrentConfiguration(nodeId) {\n    this.createOrGetContext().then(context => {\n      let realNode = SpinalGraphService.getRealNode(nodeId);\n\n      if (realNode) {\n        if (context.info.currentConfiguration) {\n\n          // context.info.currentConfiguration.load((res) => {\n          //   res.set(realNode)\n          // });\n\n          context.info.rem_attr(\"currentConfiguration\");\n\n        }\n\n        context.info.add_attr({\n          currentConfiguration: new Ptr(realNode)\n        })\n\n      }\n    })\n  }\n\n  static getCurrentConfiguration() {\n    return this.createOrGetContext().then(context => {\n      //   let id = context.info.currentConfiguration;\n\n      //   if (typeof id === \"undefined\") {\n      //     return\n      //   }\n\n      //   let realNode = SpinalGraphService.getRealNode(id.get());\n\n      //   return realNode.getElement().then(el => {\n      //     let element = el.get();\n      //     element[\"id\"] = id.get();\n\n      //     return element;\n      //   })\n\n      // })\n\n\n      let confPtr = context.info.currentConfiguration;\n\n      if (typeof confPtr !== \"undefined\") {\n        return new Promise(resolve => {\n          confPtr.load((realNode) => {\n            return realNode.getElement().then(el => {\n              let element = el.get();\n              element[\"id\"] = realNode.info.id.get();\n              resolve(element);\n            })\n          })\n        })\n      }\n\n      return {\n        name: \"\",\n        categories: []\n      }\n\n    })\n  }\n\n\n  static editConfiguration(configurationId, configurationElement) {\n    let realNode = SpinalGraphService.getRealNode(configurationId);\n\n    if (realNode) {\n      realNode.getElement().then(element => {\n        element.set(configurationElement);\n      })\n    }\n\n  }\n\n  // static addElement(type, listes) {\n  //   return this.createOrGetContext().then(context => {\n\n  //     if (context) {\n  //       return context.getElement().then(contextElement => {\n  //         if (contextElement[type]) {\n  //           contextElement[type].clear();\n\n  //           listes.forEach(element => {\n  //             contextElement[type].push(element);\n  //           });\n\n  //         } else {\n  //           contextElement.add_attr([type], listes);\n  //         }\n\n  //         return contextElement[type];\n\n  //       })\n  //     }\n\n  //     return [];\n\n\n  //   })\n  // }\n\n}","<!--\nCopyright 2020 SpinalCom - www.spinalcom.com\n\nThis file is part of SpinalCore.\n\nPlease read all of the following terms and conditions\nof the Free Software license Agreement (\"Agreement\")\ncarefully.\n\nThis Agreement is a legally binding contract between\nthe Licensee (as defined below) and SpinalCom that\nsets forth the terms and conditions that govern your\nuse of the Program. By installing and/or using the\nProgram, you agree to abide by all the terms and\nconditions stated or referenced herein.\n\nIf you do not agree to abide by these terms and\nconditions, do not demonstrate your acceptance and do\nnot install or use the Program.\nYou should have received a copy of the license along\nwith this file. If not, see\n<http://resources.spinalcom.com/licenses.pdf>.\n-->\n\n<template>\n  <div class=\"list\">\n\n    <!-- <md-list :md-expand-single=\"false\">\n      <md-list-item v-for=\"(item,index) in data\"\n                    :key=\"index\"\n                    md-expand>\n\n        <span class=\"md-list-item-text\">{{item.category}}</span>\n\n        <menu-component :category=\"item.category\"\n                        @add=\"addLabel\"></menu-component>\n\n        <md-list slot=\"md-expand\">\n          <md-list-item class=\"md-inset\"\n                        v-for=\"(attr,i) in item.attributes\"\n                        :key=\"i\">\n            <md-checkbox class=\"md-primary\"\n                         v-model=\"attr.show\" />\n            <span class=\"md-list-item-text\">{{attr.label}}</span>\n          </md-list-item>\n\n        </md-list>\n      </md-list-item>\n    </md-list>\n\n    <menu-component class=\"addCategoryBtn\"\n                    @add=\"addLabel\"></menu-component> -->\n\n    <div v-if=\"!editMode\"\n         class=\"md-layout md-alignment-space-between header\">\n\n      <div class=\"md-layout-item md-size-55\">\n        <md-field>\n          <label for=\"movie\">Select configuration</label>\n          <md-select v-model=\"configurationSelected\"\n                     name=\"configuration\"\n                     id=\"configuration\">\n            <md-option v-for=\"(configuration,index) in data\"\n                       :key=\"index\"\n                       :value=\"configuration.id\">{{configuration.name}}\n            </md-option>\n\n          </md-select>\n        </md-field>\n      </div>\n\n      <div class=\"md-layout-item md-size-40\">\n        <v-btn outline\n               v-if=\"!isCurrentConfiguration()\"\n               @click=\"setAsCurrentConfiguration\"\n               :disabled=\"!configurationSelected\"\n               color=\"blue\">Set as current configuration</v-btn>\n\n        <v-alert :value=\"true\"\n                 v-if=\"isCurrentConfiguration()\"\n                 color=\"green\"\n                 outline\n                 icon=\"check_circle\">\n          current configuration.\n        </v-alert>\n      </div>\n\n    </div>\n\n    <div v-if=\"configurationSelected\"\n         class=\"content\"\n         :class=\"{'contentWithOutHeader' : editMode}\">\n      <div class=\"header\">\n        <div>{{configurationData.name}}</div>\n\n        <div class=\"buttons\">\n          <v-btn fab\n                 blue\n                 outline\n                 small\n                 color=\"red\"\n                 v-if=\"editMode\"\n                 @click=\"activeEditMode(false)\">\n            <v-icon>close</v-icon>\n          </v-btn>\n\n          <v-btn fab\n                 blue\n                 outline\n                 small\n                 color=\"blue\"\n                 @click=\"activeEditMode(true)\">\n            <v-icon>{{editMode ? \"check\" : \"edit\"}}</v-icon>\n          </v-btn>\n        </div>\n      </div>\n\n      <display-list-component class=\"content md-scrollbar\"\n                              :categories=\"configurationData.categories\"\n                              :editMode=\"editMode\"\n                              :message=\"'No category found create. Create one with the button below !'\"\n                              @add=\"addSubItem\"\n                              @remove=\"removeItem\">\n      </display-list-component>\n\n      <div class=\"header\">\n        <menu-component class=\"addCat\"\n                        v-if=\"editMode\"\n                        @add=\"addCategory\"></menu-component>\n\n      </div>\n    </div>\n\n  </div>\n</template>\n\n<script>\n// import menuComponent from \"../../../vue/panels/components/tooltips/addItem.vue\";\n\nimport displayListComponent from \"../components/displayList.vue\";\nimport menuComponent from \"../../../vue/panels/attributePanel/components/tooltips/addItem.vue\";\n\nimport Utilities from \"../../../js/utilities\";\n\nexport default {\n  name: \"editParamsComponent\",\n  components: {\n    \"menu-component\": menuComponent,\n    \"display-list-component\": displayListComponent\n  },\n  props: {\n    data: {\n      default: new Array()\n    },\n    currentConfiguration: {}\n  },\n  data() {\n    this.copyItem;\n    return {\n      editMode: false,\n      configurationSelected: undefined,\n      configurationData: {\n        name: \"\",\n        categories: []\n      }\n    };\n  },\n  mounted() {\n    // console.log(\"this.currentConfiguration\", this.currentConfiguration);\n  },\n  methods: {\n    async activeEditMode(edit) {\n      this.editMode = !this.editMode;\n\n      if (!this.editMode && edit) {\n        await Utilities.editConfiguration(\n          this.configurationSelected,\n          this.configurationData\n        );\n\n        this.$emit(\"refresh\");\n      } else if (!this.editMode && !edit) {\n        // console.log(\"cancel edit\", this.copyItem);\n        this.configurationData = JSON.parse(JSON.stringify(this.copyItem));\n      }\n    },\n\n    async setAsCurrentConfiguration() {\n      await Utilities.setAsCurrentConfiguration(this.configurationSelected);\n      this.$emit(\"change\");\n    },\n\n    isCurrentConfiguration() {\n      if (typeof this.configurationSelected === \"undefined\") return false;\n\n      if (\n        this.currentConfiguration &&\n        this.currentConfiguration.id === this.configurationSelected\n      )\n        return true;\n\n      return false;\n    },\n\n    addSubItem(res) {\n      if (res.category && res.label) {\n        let found = this.configurationData.categories.find(el => {\n          return el.name === res.category;\n        });\n\n        if (found) {\n          let attrFound = found.attributes.find(el => el.name === res.label);\n          if (typeof attrFound === \"undefined\") {\n            found.attributes.push({\n              show: false,\n              name: res.label,\n              id: Date.now()\n            });\n          }\n        }\n      }\n    },\n\n    removeItem(res) {\n      if (typeof res.attr === \"undefined\") {\n        this.configurationData.categories = this.configurationData.categories.filter(\n          el => {\n            return el.id !== res.category.id;\n          }\n        );\n      } else {\n        let found = this.configurationData.categories.find(el => {\n          return el.id === res.category.id;\n        });\n\n        if (found) {\n          found.attributes = found.attributes.filter(\n            el => el.id !== res.attr.id\n          );\n        }\n      }\n    },\n\n    addCategory(res) {\n      let found = this.configurationData.categories.find(\n        el => el.name === res.category\n      );\n\n      if (!found) {\n        this.configurationData.categories.push({\n          id: Date.now(),\n          name: res.category,\n          attributes: []\n        });\n      }\n    }\n  },\n  watch: {\n    configurationSelected() {\n      let found = this.data.find(el => el.id === this.configurationSelected);\n      this.configurationData = JSON.parse(JSON.stringify(found));\n      this.copyItem = JSON.parse(JSON.stringify(found));\n    }\n  }\n};\n</script>\n\n<style scoped>\n.list {\n  width: 100%;\n  height: 100%; /* border: 1px solid red; */\n}\n\n.list .header {\n  height: 80px;\n  align-items: center;\n  justify-content: space-between;\n}\n\n.list .content {\n  width: 100%;\n  height: calc(100% - 80px);\n}\n\n.list .content.contentWithOutHeader {\n  width: 100%;\n  height: 100%;\n}\n\n.list .content .content {\n  width: 100%;\n  height: calc(100% - 120px);\n}\n\n.list .content .header {\n  width: 100%;\n  height: 60px;\n  display: flex;\n  align-items: center;\n  font-size: 20px;\n  text-transform: uppercase;\n  justify-content: space-between;\n}\n\n.list .content .header .addCat {\n  border: 1px solid #448aff;\n}\n\n.list .content .header .buttons {\n  display: flex;\n  flex-direction: row;\n}\n\n/* .mdDialogContainer.paramsDialogContainer .list .emptyList {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 18px;\n} */\n</style>\n\n<style >\n.list .content .content .myListContainer .v-list.listContainer.theme--dark {\n  overflow: auto;\n}\n</style>","<!--\nCopyright 2020 SpinalCom - www.spinalcom.com\n\nThis file is part of SpinalCore.\n\nPlease read all of the following terms and conditions\nof the Free Software license Agreement (\"Agreement\")\ncarefully.\n\nThis Agreement is a legally binding contract between\nthe Licensee (as defined below) and SpinalCom that\nsets forth the terms and conditions that govern your\nuse of the Program. By installing and/or using the\nProgram, you agree to abide by all the terms and\nconditions stated or referenced herein.\n\nIf you do not agree to abide by these terms and\nconditions, do not demonstrate your acceptance and do\nnot install or use the Program.\nYou should have received a copy of the license along\nwith this file. If not, see\n<http://resources.spinalcom.com/licenses.pdf>.\n-->\n\n<template>\n  <div class=\"myListContainer\">\n    <v-list v-if=\"categories && categories.length > 0\"\n            class=\"listContainer\"\n            expand\n            flat\n            dark>\n      <v-list-group v-for=\"(item,index) in categories\"\n                    :key=\"index\"\n                    prepend-icon=\"keyboard_arrow_down\"\n                    append-icon=\"\"\n                    :one-line=\"false\"\n                    no-action>\n        <v-list-tile slot=\"activator\">\n\n          <v-list-tile-content>\n            <v-list-tile-title>{{item.name}}</v-list-tile-title>\n          </v-list-tile-content>\n\n          <v-list-tile-action v-if=\"editMode\">\n\n            <menu-component :category=\"item.name\"\n                            @add=\"addAttributes\"></menu-component>\n\n          </v-list-tile-action>\n\n          <v-list-tile-action v-if=\"editMode\">\n            <v-btn flat\n                   icon\n                   small\n                   color=\"red\"\n                   title=\"remove\"\n                   @click.stop=\"remove(item,true)\">\n              <v-icon>remove_circle_outline</v-icon>\n            </v-btn>\n          </v-list-tile-action>\n\n        </v-list-tile>\n\n        <!--\n        ---------------------------------------------------------\n        |                       SubHeaders                      |\n        ---------------------------------------------------------\n     -->\n        <v-list-tile v-for=\"(subItem,subIndex) in item.attributes\"\n                     :key=\"subIndex\">\n\n          <v-list-tile-action>\n            <v-checkbox :disabled=\"!editMode\"\n                        color=\"blue\"\n                        v-model=\"subItem.show\"></v-checkbox>\n          </v-list-tile-action>\n\n          <v-list-tile-content>\n            <v-list-tile-title>{{subItem.name}}</v-list-tile-title>\n          </v-list-tile-content>\n\n          <v-list-tile-action v-if=\"editMode\">\n            <v-btn icon\n                   flat\n                   small\n                   color=\"red\"\n                   title=\"remove\"\n                   @click=\"remove(item,false,subItem)\">\n              <v-icon>remove_circle_outline</v-icon>\n            </v-btn>\n          </v-list-tile-action>\n\n        </v-list-tile>\n\n        <!--\n        ---------------------------------------------------------\n        |                       End SubHeaders                  |\n        ---------------------------------------------------------\n     -->\n\n      </v-list-group>\n    </v-list>\n\n    <div class=\"emptyList\"\n         v-if=\"categories && categories.length === 0\">\n      {{message}}\n    </div>\n\n  </div>\n\n</template>\n\n<script>\nimport menuComponent from \"../../../vue/panels/attributePanel/components/tooltips/addItem.vue\";\n\nexport default {\n  name: \"displayListComponent\",\n  components: {\n    \"menu-component\": menuComponent\n  },\n  props: {\n    categories: {},\n    message: {\n      type: String,\n      default: \"No data found\"\n    },\n    editMode: {\n      type: Boolean,\n      default: true\n    }\n  },\n  methods: {\n    addAttributes(res) {\n      this.$emit(\"add\", res);\n    },\n    remove(category, isCategory, attribute) {\n      let item = {\n        category: category,\n        attr: attribute\n      };\n\n      this.$emit(\"remove\", item);\n    }\n  }\n};\n</script>\n\n<style scoped>\n.myListContainer {\n  width: 100%;\n  height: calc(100% - 50px);\n}\n\n.myListContainer .listContainer {\n  width: 100%;\n  height: 100%;\n  overflow: auto;\n}\n\n.myListContainer .emptyList {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 20px;\n}\n</style>","<!--\nCopyright 2020 SpinalCom - www.spinalcom.com\n\nThis file is part of SpinalCore.\n\nPlease read all of the following terms and conditions\nof the Free Software license Agreement (\"Agreement\")\ncarefully.\n\nThis Agreement is a legally binding contract between\nthe Licensee (as defined below) and SpinalCom that\nsets forth the terms and conditions that govern your\nuse of the Program. By installing and/or using the\nProgram, you agree to abide by all the terms and\nconditions stated or referenced herein.\n\nIf you do not agree to abide by these terms and\nconditions, do not demonstrate your acceptance and do\nnot install or use the Program.\nYou should have received a copy of the license along\nwith this file. If not, see\n<http://resources.spinalcom.com/licenses.pdf>.\n-->\n\n<template>\n  <div class=\"list\"\n       v-if=\"configurationCopy\">\n\n    <div class=\"header\">\n      <div>{{configurationCopy.name}}</div>\n\n      <!-- <v-alert :value=\"true\"\n               color=\"green\"\n               outline\n               icon=\"check_circle\">\n        current configuration.\n      </v-alert> -->\n\n    </div>\n\n    <display-list-component class=\"content md-scrollbar\"\n                            :categories=\"configurationCopy.categories\"\n                            :editMode=\"true\"\n                            :message=\"'No category found create. Create one with the button below !'\"\n                            @add=\"addSubItem\"\n                            @remove=\"removeItem\">\n    </display-list-component>\n\n    <div class=\"header\">\n      <menu-component class=\"addCatBtn\"\n                      @add=\"addCategory\"></menu-component>\n\n      <v-btn outline\n             color=\"#2196f3\"\n             @click=\"updateConfiguration\">\n        <v-icon dark>check</v-icon>\n        &nbsp;\n        Save Modification\n      </v-btn>\n\n    </div>\n\n  </div>\n\n  <div class=\"empty\"\n       v-else>\n    No current configuration is set\n  </div>\n\n</template>\n\n<script>\nimport displayListComponent from \"../components/displayList.vue\";\nimport menuComponent from \"../../../vue/panels/attributePanel/components/tooltips/addItem.vue\";\n\nimport Utilities from \"../../../js/utilities\";\n\nexport default {\n  name: \"currentParams\",\n  components: {\n    \"menu-component\": menuComponent,\n    \"display-list-component\": displayListComponent\n  },\n  props: {\n    currentConfiguration: {}\n  },\n  data() {\n    return {\n      configurationCopy: {}\n    };\n  },\n  mounted() {\n    this.configurationCopy = Object.assign({}, this.currentConfiguration);\n  },\n  methods: {\n    async updateConfiguration() {\n      await Utilities.editConfiguration(\n        this.configurationCopy.id,\n        this.configurationCopy\n      );\n\n      this.$emit(\"refresh\");\n    },\n    addCategory(res) {\n      let found = this.configurationCopy.categories.find(\n        el => el.name === res.category\n      );\n\n      if (!found) {\n        this.configurationCopy.categories.push({\n          id: Date.now(),\n          name: res.category,\n          attributes: []\n        });\n      }\n    },\n    addSubItem(res) {\n      if (res.category && res.label) {\n        let found = this.configurationCopy.categories.find(el => {\n          return el.name === res.category;\n        });\n\n        if (found) {\n          let attrFound = found.attributes.find(el => el.name === res.label);\n          if (typeof attrFound === \"undefined\") {\n            found.attributes.push({\n              show: false,\n              name: res.label,\n              id: Date.now()\n            });\n          }\n        }\n      }\n    },\n    removeItem(res) {\n      if (typeof res.attr === \"undefined\") {\n        this.configurationCopy.categories = this.configurationCopy.categories.filter(\n          el => {\n            return el.id !== res.category.id;\n          }\n        );\n      } else {\n        let found = this.configurationCopy.categories.find(el => {\n          return el.id === res.category.id;\n        });\n\n        if (found) {\n          found.attributes = found.attributes.filter(\n            el => el.id !== res.attr.id\n          );\n        }\n      }\n    }\n  },\n  watch: {\n    currentConfiguration() {\n      this.configurationCopy = Object.assign({}, this.currentConfiguration);\n    }\n  }\n};\n</script>\n\n<style scoped>\n.list {\n  width: 100%;\n  height: 100%; /* border: 1px solid red; */\n}\n\n.list .content {\n  width: 100%;\n  height: calc(100% - 120px);\n  overflow: hidden;\n  overflow-y: auto;\n}\n\n.list .header {\n  width: 100%;\n  height: 60px;\n  display: flex;\n  align-items: center;\n  font-size: 20px;\n  text-transform: uppercase;\n  align-items: center;\n  justify-content: space-between;\n}\n\n.list .header .buttonsDiv {\n  display: flex;\n  flex-direction: row;\n}\n\n.empty {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 20px;\n}\n</style>\n\n<style>\n.list .header .addCatBtn .md-ripple {\n  border: 1px solid #2196f3;\n}\n</style>","<!--\nCopyright 2020 SpinalCom - www.spinalcom.com\n\nThis file is part of SpinalCore.\n\nPlease read all of the following terms and conditions\nof the Free Software license Agreement (\"Agreement\")\ncarefully.\n\nThis Agreement is a legally binding contract between\nthe Licensee (as defined below) and SpinalCom that\nsets forth the terms and conditions that govern your\nuse of the Program. By installing and/or using the\nProgram, you agree to abide by all the terms and\nconditions stated or referenced herein.\n\nIf you do not agree to abide by these terms and\nconditions, do not demonstrate your acceptance and do\nnot install or use the Program.\nYou should have received a copy of the license along\nwith this file. If not, see\n<http://resources.spinalcom.com/licenses.pdf>.\n-->\n\n<template>\n  <div class=\"list\">\n\n    <div class=\"content\">\n\n      <md-field>\n        <label>configuration name</label>\n        <md-input v-model=\"data.paramName\"></md-input>\n      </md-field>\n\n      <display-list-component :categories=\"data.categories\"\n                              :message=\"'No category found create. Create one with the button below !'\"\n                              @add=\"addAttributes\">\n      </display-list-component>\n\n      <!-- <md-list :md-expand-single=\"false\">\n        <md-list-item v-for=\"(item,index) in data.categories\"\n                      :key=\"index\"\n                      md-expand>\n\n          <span class=\"md-list-item-text\">{{item.name}}</span>\n\n          <menu-component :category=\"item.name\"\n                          @add=\"addAttributes\"></menu-component>\n\n          <md-list slot=\"md-expand\">\n            <md-list-item class=\"md-inset\"\n                          v-for=\"(attr,i) in item.attributes\"\n                          :key=\"i\">\n              <md-checkbox class=\"md-primary\"\n                           v-model=\"attr.show\" />\n              <span class=\"md-list-item-text\">{{attr.name}}</span>\n            </md-list-item>\n\n          </md-list>\n        </md-list-item>\n      </md-list> -->\n    </div>\n\n    <div class=\"header\">\n\n      <div class=\"headerButtons addCategoryBtn\">\n        <menu-component @add=\"addAttributes\"></menu-component>\n\n        <div class=\"trigger\">\n          <md-button title=\"add category\"\n                     class=\"md-dense md-primary\"\n                     :disabled=\"disableSaveButton()\"\n                     @click=\"saveConfiguration\">\n            <md-icon>save_alt</md-icon>\n            &nbsp;\n            Save configuration\n          </md-button>\n        </div>\n\n      </div>\n\n    </div>\n  </div>\n</template>\n\n<script>\nimport menuComponent from \"../../../vue/panels/attributePanel/components/tooltips/addItem.vue\";\nimport displayListComponent from \"../components/displayList.vue\";\n\nimport utilities from \"../../../js/utilities\";\n\nexport default {\n  name: \"createParamsComponent\",\n  components: {\n    \"menu-component\": menuComponent,\n    \"display-list-component\": displayListComponent\n  },\n  data() {\n    return {\n      data: {\n        paramName: \"\",\n        categories: []\n      }\n    };\n  },\n  methods: {\n    disableSaveButton() {\n      return (\n        this.data.paramName.trim().length === 0 ||\n        this.data.categories.length === 0\n      );\n    },\n    addAttributes(res) {\n      if (res.category && res.label) {\n        let found = this.data.categories.find(el => {\n          return el.name === res.category;\n        });\n\n        if (found) {\n          let attrFound = found.attributes.find(el => el.name === res.label);\n          if (typeof attrFound === \"undefined\") {\n            found.attributes.push({\n              show: false,\n              name: res.label,\n              id: Date.now()\n            });\n          }\n        }\n      } else if (res.category) {\n        let found = this.data.categories.find(el => el.name === res.category);\n\n        if (!found) {\n          this.data.categories.push({\n            id: Date.now(),\n            name: res.category,\n            attributes: []\n          });\n        }\n      }\n    },\n\n    saveConfiguration() {\n      utilities\n        .createConfiguration(this.data.paramName.trim(), this.data.categories)\n        .then(res => {\n          if (typeof res !== \"undefined\") {\n            this.data.paramName = \"\";\n            this.data.categories = [];\n          }\n          this.$emit(\"refresh\");\n        });\n    }\n  }\n};\n</script>\n\n<style scoped>\n.list {\n  width: 100%;\n  height: 100%; /* border: 1px solid red; */\n}\n\n.list .header {\n  width: 100%;\n  height: 60px;\n}\n\n.list .header .headerButtons {\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-top: 40px;\n}\n\n/* .list .header .headerButtons.addCategoryBtn .trigger {\n  margin-left: 10px;\n} */\n\n.list .content {\n  width: 100%;\n  height: calc(100% - 80px);\n  /* overflow: auto; */\n}\n</style>\n\n<style>\n.list .header .headerButtons.addCategoryBtn .trigger {\n  border: 1px solid #448aff;\n}\n</style>","<!--\nCopyright 2020 SpinalCom - www.spinalcom.com\n\nThis file is part of SpinalCore.\n\nPlease read all of the following terms and conditions\nof the Free Software license Agreement (\"Agreement\")\ncarefully.\n\nThis Agreement is a legally binding contract between\nthe Licensee (as defined below) and SpinalCom that\nsets forth the terms and conditions that govern your\nuse of the Program. By installing and/or using the\nProgram, you agree to abide by all the terms and\nconditions stated or referenced herein.\n\nIf you do not agree to abide by these terms and\nconditions, do not demonstrate your acceptance and do\nnot install or use the Program.\nYou should have received a copy of the license along\nwith this file. If not, see\n<http://resources.spinalcom.com/licenses.pdf>.\n-->\n\n<template>\n  <md-dialog :md-active.sync=\"showDialog\"\n             @md-closed=\"closeDialog(false)\">\n    <md-dialog-title class=\"dialogTitle\">Import Data</md-dialog-title>\n    <md-dialog-content class=\"mdDialogContainer\">\n      <div v-if=\"appState === STATES.valid\"\n           class=\"valid\">\n        <md-icon class=\"md-size-4x\">check</md-icon>\n        <div>File imported.</div>\n\n      </div>\n\n      <div v-if=\"appState === STATES.normal\"\n           class=\"valid\">\n\n        <div>This file can be imported.</div>\n      </div>\n\n      <div v-else-if=\"appState === STATES.loading\"\n           class=\"loading\">\n        <md-progress-spinner md-mode=\"indeterminate\"></md-progress-spinner>\n\n      </div>\n\n      <div class=\"error\"\n           v-else-if=\"appState === STATES.error\">\n        <md-icon class=\"md-size-4x\">close</md-icon>\n        <div>Something went wrong !</div>\n        <div>Check if the file is the same as the exported one</div>\n      </div>\n\n    </md-dialog-content>\n    <md-dialog-actions>\n      <md-button class=\"md-primary\"\n                 @click=\"closeDialog(false)\">Cancel</md-button>\n      <md-button class=\"md-primary\"\n                 @click=\"closeDialog(true)\"\n                 :disabled=\"appState !== STATES.normal\">Import</md-button>\n    </md-dialog-actions>\n  </md-dialog>\n</template>\n\n<script>\nimport { SpinalGraphService } from \"spinal-env-viewer-graph-service\";\nimport attributeService from \"../../services\";\n\nexport default {\n  name: \"ImportAttributeExcelDialog\",\n  props: [\"onFinised\"],\n  data() {\n    this.STATES = Object.freeze({\n      valid: 0,\n      loading: 1,\n      error: 2,\n      normal: 3,\n    });\n\n    return {\n      appState: this.STATES.normal,\n      showDialog: true,\n      data: [],\n      itemsMap: new Map(),\n      callback: () => {},\n    };\n  },\n  methods: {\n    async opened(option) {\n      this.appState = this.STATES.loading;\n\n      this.callback = option.callback;\n\n      this.constructMap(option.tableData);\n\n      const excelData = this.concatSheets(option.excelData);\n\n      const data = this.formatExcelData(excelData);\n\n      this.data = await this.getDifferenceBetweenData(data, option.tableData);\n\n      if (this.data) {\n        this.appState = this.STATES.normal;\n      } else {\n        this.appState = this.STATES.error;\n      }\n\n      // const tableFormated = this.convertDataToJson(option.tableData);\n\n      // this.data = this.getDataModified(excelData, tableFormated);\n    },\n\n    async removed(option) {\n      this.appState = this.STATES.loading;\n\n      if (option && this.data) {\n        this._changeValue()\n          .then(() => {\n            this.appState = this.STATES.valid;\n            this.callback();\n            setTimeout(() => {\n              this.showDialog = false;\n            }, 1000);\n          })\n          .catch((el) => {\n            this.appState = this.STATES.error;\n          });\n      } else {\n        this.showDialog = false;\n        this.callback();\n      }\n\n      // this.showDialog = false;\n    },\n\n    closeDialog(closeResult) {\n      if (typeof this.onFinised === \"function\") {\n        this.onFinised(closeResult);\n      }\n    },\n\n    formatExcelData(excelData) {\n      return excelData.map((data) => {\n        let obj = { id: \"\", attributes: [] };\n\n        obj.id = data[\"SpinalGraph ID\"];\n        obj.name = data[\"Name\"];\n\n        const lists = [\"name\", \"spinalgraph id\", \"revit id\"];\n\n        for (const key of Object.keys(data)) {\n          // if (!key.includes(\" / \")) continue;\n\n          if (lists.indexOf(key.toLowerCase()) !== -1) continue;\n\n          const list = key.split(\" / \");\n\n          obj.attributes.push({\n            category: list[0] ? list[0] : \"\",\n            label: list[1] ? list[1] : \"\",\n            value: data[key] ? data[key] : \"-\",\n          });\n        }\n\n        return obj;\n      });\n    },\n\n    concatSheets(excelData) {\n      const data = [];\n      for (const values of Object.values(excelData)) {\n        data.push(...values);\n      }\n      return data;\n    },\n\n    constructMap(tableContent) {\n      for (const content of tableContent) {\n        const element = {};\n        for (const attr of content.attributes) {\n          element[`${attr.category}_${attr.label}`] = {\n            value: attr.value,\n            displayValue: attr.value,\n          };\n        }\n        this.itemsMap.set(content.id, element);\n      }\n    },\n\n    getDifferenceBetweenData(excelData, tableContent) {\n      const diff = [];\n      for (const dataIterator of excelData) {\n        let found = tableContent.find((el) => el.id === dataIterator.id);\n\n        if (found && found.attributes) {\n          const diffAttr = this._getAttrDiff(found, dataIterator);\n\n          if (typeof diffAttr === \"undefined\") {\n            continue;\n          } else if (\n            diffAttr &&\n            (diffAttr.newName || diffAttr.attributes.length > 0)\n          ) {\n            diff.push(diffAttr);\n          }\n        }\n      }\n\n      return diff;\n    },\n\n    async _changeValue() {\n      const promises = [];\n\n      for (const found of this.data) {\n        // const found = this.data.find(el => el.id === nodeId);\n        // console.log(\"found\", found);\n        if (found && found.attributes) {\n          if (found.newName) {\n            await this.editNodeName(found.id, found.newName);\n          }\n\n          for (const attr of found.attributes) {\n            // let value = this.itemsMap.get(nodeId)[\n            //   `${attr.category}_${attr.label}`\n            // ][\"value\"];\n            // let displayValue = this.itemsMap.get(nodeId)[\n            //   `${attr.category}_${attr.label}`\n            // ][\"displayValue\"];\n            // console.log(\"value\", value, \"displayValue\", displayValue);\n            // if (value !== displayValue) {\n            promises.push(\n              attributeService.updateAttributeValue(\n                found.id,\n                attr.category,\n                attr.label,\n                attr.value\n              )\n            );\n            // }\n          }\n        }\n      }\n\n      return Promise.all(promises);\n    },\n\n    _getAttrDiff(tableItem, excelItem) {\n      let obj = {\n        id: tableItem.id,\n        attributes: [],\n      };\n\n      if (tableItem.name !== excelItem.name) {\n        obj.newName = excelItem.name;\n      }\n\n      for (const attr of excelItem.attributes) {\n        let attrFound = tableItem.attributes.find((el) => {\n          return attr.category === el.category && attr.label === el.label;\n        });\n\n        if (attrFound && attrFound.value != attr.value) {\n          obj.attributes.push(attr);\n        }\n        // else if (typeof attrFound === \"undefined\") {\n        //   return;\n        // }\n      }\n\n      return obj;\n    },\n\n    editNodeName(nodeId, newName) {\n      const realNode = SpinalGraphService.getRealNode(nodeId);\n      if (realNode) {\n        realNode.info.name.set(newName);\n      }\n    },\n\n    /*\n    convertDataToJson(tableData) {\n      return tableData.map(el => {\n        let res = {};\n\n        res[\"SpinalGraph ID\"] = el.id;\n        res[\"Name\"] = el.name;\n\n        el.attributes.forEach(attr => {\n          res[`${attr.category} / ${attr.label}`] = attr.value;\n        });\n\n        return res;\n      });\n    },\n\n    getDataModified(excelData, tableData) {\n      let formated = excelData.map(data => {\n        let found = tableData.find(el => {\n          return el[\"SpinalGraph ID\"] === data[\"SpinalGraph ID\"];\n        });\n\n        if (typeof found !== \"undefined\") {\n        }\n\n        return;\n      });\n\n      return formated.filter(el => {\n        return typeof el !== \"undefined\";\n      });\n    },\n\n    */\n  },\n};\n</script>\n\n<style scoped>\n.mdDialogContainer {\n  width: 400px;\n  height: 300px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.dialogTitle {\n  text-align: center;\n}\n\n.mdDialogContainer .valid,\n.mdDialogContainer .error {\n  text-align: center;\n  font-size: 20px;\n}\n\n.mdDialogContainer .valid .md-icon {\n  color: green;\n}\n\n.mdDialogContainer .error .md-icon {\n  color: red;\n}\n</style>","<!--\nCopyright 2020 SpinalCom - www.spinalcom.com\n\nThis file is part of SpinalCore.\n\nPlease read all of the following terms and conditions\nof the Free Software license Agreement (\"Agreement\")\ncarefully.\n\nThis Agreement is a legally binding contract between\nthe Licensee (as defined below) and SpinalCom that\nsets forth the terms and conditions that govern your\nuse of the Program. By installing and/or using the\nProgram, you agree to abide by all the terms and\nconditions stated or referenced herein.\n\nIf you do not agree to abide by these terms and\nconditions, do not demonstrate your acceptance and do\nnot install or use the Program.\nYou should have received a copy of the license along\nwith this file. If not, see\n<http://resources.spinalcom.com/licenses.pdf>.\n-->\n\n<template>\n  <md-dialog :md-active.sync=\"showDialog\"\n             @md-closed=\"closeDialog(false)\">\n    <md-dialog-title class=\"dialogTitle\">Export Configuration</md-dialog-title>\n\n    <md-dialog-content class=\"mdDialogContainer\">\n\n      <h1>Hello world !!</h1>\n\n    </md-dialog-content>\n\n    <md-dialog-actions>\n      <md-button class=\"md-primary\"\n                 @click=\"closeDialog(false)\">Cancel</md-button>\n      <md-button class=\"md-primary\"\n                 @click=\"closeDialog(true)\">export</md-button>\n    </md-dialog-actions>\n  </md-dialog>\n</template>\n\n<script>\nexport default {\n  name: \"exportConfigurationDialog\",\n  props: [\"onFinised\"],\n  data() {\n    return {\n      showDialog: true\n    };\n  },\n  methods: {\n    opened(option) {},\n\n    async removed(option) {\n      if (option) {\n      }\n\n      this.showDialog = false;\n    },\n\n    closeDialog(closeResult) {\n      if (typeof this.onFinised === \"function\") {\n        this.onFinised(closeResult);\n      }\n    }\n  }\n};\n</script>","<!--\nCopyright 2020 SpinalCom - www.spinalcom.com\n\nThis file is part of SpinalCore.\n\nPlease read all of the following terms and conditions\nof the Free Software license Agreement (\"Agreement\")\ncarefully.\n\nThis Agreement is a legally binding contract between\nthe Licensee (as defined below) and SpinalCom that\nsets forth the terms and conditions that govern your\nuse of the Program. By installing and/or using the\nProgram, you agree to abide by all the terms and\nconditions stated or referenced herein.\n\nIf you do not agree to abide by these terms and\nconditions, do not demonstrate your acceptance and do\nnot install or use the Program.\nYou should have received a copy of the license along\nwith this file. If not, see\n<http://resources.spinalcom.com/licenses.pdf>.\n-->\n\n<template>\n  <md-dialog :md-active.sync=\"showDialog\" @md-closed=\"closeDialog(false)\">\n    <md-dialog-title class=\"dialogTitle\">import Configuration</md-dialog-title>\n\n    <md-dialog-content class=\"mdDialogContainer\">\n      <div v-if=\"appState === STATES.valid\" class=\"valid\">\n        <md-icon class=\"md-size-4x\">check</md-icon>\n        <div>File imported.</div>\n      </div>\n\n      <div v-if=\"appState === STATES.normal\" class=\"valid\">\n        <div>This file can be imported.</div>\n      </div>\n\n      <div v-else-if=\"appState === STATES.loading\" class=\"loading\">\n        <md-progress-spinner md-mode=\"indeterminate\"></md-progress-spinner>\n      </div>\n\n      <div class=\"error\" v-else-if=\"appState === STATES.error\">\n        <md-icon class=\"md-size-4x\">close</md-icon>\n        <div>Something went wrong !</div>\n        <div>Check if the file is the same as the exported one</div>\n      </div>\n    </md-dialog-content>\n\n    <md-dialog-actions>\n      <md-button class=\"md-primary\" @click=\"closeDialog(false)\"\n        >Close</md-button\n      >\n      <md-button\n        class=\"md-primary\"\n        @click=\"closeDialog(true)\"\n        :disabled=\"appState !== STATES.normal\"\n        >Import</md-button\n      >\n    </md-dialog-actions>\n  </md-dialog>\n</template>\n\n<script>\nimport { spinalConfigurationService } from '../../../../services';\n\nexport default {\n  name: 'importConfigurationDialog',\n  props: ['onFinised'],\n  data() {\n    this.STATES = Object.freeze({\n      valid: 0,\n      loading: 1,\n      error: 2,\n      normal: 3,\n    });\n\n    return {\n      appState: this.STATES.normal,\n      showDialog: true,\n      data: [],\n    };\n  },\n  methods: {\n    opened(option) {\n      this.appState = this.STATES.loading;\n      const data = this.concatSheets(option);\n      this.data = this.formatData(data);\n      this.appState = this.STATES.normal;\n    },\n\n    async removed(option) {\n      this.appState = this.STATES.loading;\n      if (option) {\n        this.createElements(this.data)\n          .then(() => {\n            this.appState = this.STATES.valid;\n          })\n          .catch((el) => {\n            this.appState = this.STATES.error;\n          });\n      } else {\n        this.showDialog = false;\n      }\n    },\n\n    closeDialog(closeResult) {\n      if (typeof this.onFinised === 'function') {\n        this.onFinised(closeResult);\n      }\n    },\n\n    concatSheets(excelData) {\n      const data = [];\n      for (const values of Object.values(excelData)) {\n        data.push(...values);\n      }\n      return data;\n    },\n\n    formatData(argExcelData) {\n      const data = [];\n\n      for (const element of argExcelData) {\n        let categoryFound = data.find((el) => {\n          return el.name.toLowerCase() == element.Category.toLowerCase();\n        });\n\n        if (typeof categoryFound === 'undefined') {\n          categoryFound = {\n            name: element.Category,\n            groups: [],\n          };\n\n          data.push(categoryFound);\n        }\n\n        let groupFound = categoryFound.groups.find((el) => {\n          return el.name.toLowerCase() == element.Group.toLowerCase();\n        });\n\n        if (typeof groupFound === 'undefined') {\n          groupFound = {\n            name: element.Group,\n            configurations: [],\n          };\n\n          categoryFound.groups.push(groupFound);\n        }\n\n        let configurationFound = groupFound.configurations.find((el) => {\n          return (\n            el.name.toLowerCase() ==\n            element['Configuration Profil'].toLowerCase()\n          );\n        });\n\n        if (typeof configurationFound === 'undefined') {\n          configurationFound = {\n            name: element['Configuration Profil'],\n            categories: [],\n          };\n\n          groupFound.configurations.push(configurationFound);\n        }\n\n        let attributeCategoryFound = configurationFound.categories.find(\n          (el) => {\n            return (\n              el.name.toLowerCase() ===\n              element['Attribute Category'].toLowerCase()\n            );\n          }\n        );\n\n        if (typeof attributeCategoryFound === 'undefined') {\n          attributeCategoryFound = {\n            name: element['Attribute Category'],\n            attributes: [],\n          };\n\n          configurationFound.categories.push(attributeCategoryFound);\n        }\n\n        let attributeFound = attributeCategoryFound.attributes.find((el) => {\n          return (\n            el.name.toLowerCase() === element['Attribute Name'].toLowerCase()\n          );\n        });\n\n        if (typeof attributeFound === 'undefined') {\n          attributeCategoryFound.attributes.push({\n            show: true,\n            name: element['Attribute Name'],\n            id: Date.now(),\n          });\n        }\n      }\n\n      return data;\n    },\n\n    async createElements(data) {\n      for (const iterator of data) {\n        const categoryId = await this._createCategory(iterator.name);\n\n        for (const groupIterator of iterator.groups) {\n          const groupId = await this._createGroup(\n            categoryId,\n            groupIterator.name\n          );\n\n          for (const configuration of groupIterator.configurations) {\n            const configId = await this._createConfiguration(\n              groupId,\n              configuration.name\n            );\n\n            spinalConfigurationService.editConfiguration(\n              configId,\n              configuration\n            );\n          }\n        }\n      }\n    },\n\n    async _createCategory(name) {\n      const category = await spinalConfigurationService.createCategory(\n        name,\n        'add'\n      );\n\n      return category.info.id.get();\n    },\n\n    async _createGroup(categoryId, name) {\n      const group = await spinalConfigurationService.createGroup(\n        categoryId,\n        name,\n        '#000000'\n      );\n\n      return group.info.id.get();\n    },\n\n    async _createConfiguration(groupId, name) {\n      const configuration =\n        await spinalConfigurationService.createConfiguration(groupId, name);\n\n      return configuration.info.id.get();\n    },\n  },\n};\n</script>\n\n<style scoped>\n.mdDialogContainer {\n  width: 400px;\n  height: 300px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.dialogTitle {\n  text-align: center;\n}\n\n.mdDialogContainer .valid,\n.mdDialogContainer .error {\n  text-align: center;\n  font-size: 20px;\n}\n\n.mdDialogContainer .valid .md-icon {\n  color: green;\n}\n\n.mdDialogContainer .error .md-icon {\n  color: red;\n}\n</style>\n","<!--\nCopyright 2020 SpinalCom - www.spinalcom.com\n\nThis file is part of SpinalCore.\n\nPlease read all of the following terms and conditions\nof the Free Software license Agreement (\"Agreement\")\ncarefully.\n\nThis Agreement is a legally binding contract between\nthe Licensee (as defined below) and SpinalCom that\nsets forth the terms and conditions that govern your\nuse of the Program. By installing and/or using the\nProgram, you agree to abide by all the terms and\nconditions stated or referenced herein.\n\nIf you do not agree to abide by these terms and\nconditions, do not demonstrate your acceptance and do\nnot install or use the Program.\nYou should have received a copy of the license along\nwith this file. If not, see\n<http://resources.spinalcom.com/licenses.pdf>.\n-->\n\n<template>\n  <md-dialog class=\"mdDialogContainer\"\n             :md-active.sync=\"showDialog\"\n             @md-closed=\"closeDialog(false)\">\n\n    <md-dialog-title class=\"dialogTitle\">\n      Use Regex\n    </md-dialog-title>\n\n    <md-dialog-content class=\"dialogContent\">\n\n      <!-- <div class=\"_title\">\n\n        <md-subheader>Create By using : </md-subheader>\n\n        <div class=\"radios\">\n          <md-radio v-model=\"data.fixed\"\n                    :value=\"fase\"\n                    class=\"md-primary\">Fixed Value</md-radio>\n\n          <md-radio v-model=\"data.fixed\"\n                    :value=\"true\"\n                    class=\"md-primary\">Dynamic Value</md-radio>\n        </div>\n\n      </div> -->\n\n      <div class=\"content\">\n\n        <!-- <div class=\"advancedCheckbox\">\n          <md-checkbox v-model=\"advanced\"\n                       class=\"md-primary\">Use advanced option</md-checkbox>\n        </div> -->\n\n        <!-- \n        //////////////////////////////////////////\n        //  NOT Advanced\n        //////////////////////////////////////////\n     -->\n        <!-- <div class=\"normal\"\n             v-if=\"!advanced\">\n\n          <md-list>\n            <md-list-item>\n              <md-field>\n                <label>name</label>\n                <md-input v-model=\"value\"></md-input>\n              </md-field>\n            </md-list-item>\n\n            <md-list-item>\n              <md-checkbox v-model=\"contains\"\n                           class=\"md-primary\">\n                select the elements which contain this key</md-checkbox>\n            </md-list-item>\n          </md-list>\n\n        </div> -->\n        <!-- \n        //////////////////////////////////////////\n        //  Advanced\n        //////////////////////////////////////////\n     -->\n        <div class=\"advanced\">\n          <md-list>\n            <md-list-item>\n              <md-field class=\"_mdField\">\n                <label>Regex</label>\n                <span class=\"md-prefix\">{{delimiterV}}</span>\n                <md-input v-model=\"value\"\n                          palceholder=\"Regex\"></md-input>\n                <span class=\"md-icon md-suffix\">{{delimiterV}}</span>\n\n              </md-field>\n            </md-list-item>\n\n            <md-list-item>\n              <md-field class=\"_mdField\">\n                <label>Flags</label>\n\n                <md-select v-model=\"flags\"\n                           name=\"flags\"\n                           id=\"flags\"\n                           md-dense\n                           multiple>\n\n                  <md-option v-for=\"(flag,index) in flagsList\"\n                             :key=\"index\"\n                             :value=\"flag.value\">{{flag.name}}</md-option>\n\n                </md-select>\n\n              </md-field>\n\n            </md-list-item>\n\n          </md-list>\n        </div>\n      </div>\n\n    </md-dialog-content>\n\n    <md-dialog-actions>\n      <md-button class=\"md-primary\"\n                 @click=\"closeDialog(false)\">Close</md-button>\n\n      <md-button class=\"md-primary\"\n                 @click=\"closeDialog(true)\">Save</md-button>\n\n    </md-dialog-actions>\n  </md-dialog>\n</template>\n\n<script>\nimport flagsList from \"../js/flags.js\";\nimport create_data from \"../js/data.js\";\n\nexport default {\n  name: \"configureDialog\",\n  props: [\"onFinised\"],\n  data() {\n    this.CREATE_DATA = create_data;\n    this.flagsList = flagsList;\n\n    return {\n      showDialog: true,\n      value: \"\",\n      advanced: true,\n      contains: false,\n      delimiterV: \"/\",\n      flags: [],\n\n      data: {\n        fixed: true\n      },\n      callback: null\n    };\n  },\n  methods: {\n    opened(params) {\n      this.callback = params.callback;\n    },\n    removed(option) {\n      if (option) {\n        const regex = this.getRegex(\n          this.value,\n          this.advanced,\n          this.contains,\n          this.flags.join(\"\"),\n          this.delimiterV\n        );\n\n        if (this.callback) this.callback(regex, this.data.fixed);\n      }\n      this.showDialog = false;\n    },\n\n    closeDialog(closeResult) {\n      if (typeof this.onFinised === \"function\") {\n        this.onFinised(closeResult);\n      }\n    },\n\n    getRegex(value, advanced, contains, flag, delimiter = \"/\") {\n      let regex;\n\n      switch (advanced) {\n        case false:\n          if (contains) {\n            regex = new RegExp(`${RegExp.escape(value.trim())}`, \"i\");\n          } else {\n            regex = new RegExp(`^${RegExp.escape(value.trim())}$`, \"i\");\n          }\n          break;\n        case true:\n          regex = new RegExp(value, flag);\n          break;\n      }\n\n      return regex;\n    }\n  },\n  computed: {\n    getLabel() {\n      switch (this.data.createBy) {\n        case this.CREATE_DATA.attribute:\n          return \"Attribute Key\";\n        case this.CREATE_DATA.name:\n          return \"name key\";\n        default:\n          break;\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n.mdDialogContainer {\n  width: 500px;\n  height: 500px;\n}\n\n.mdDialogContainer .dialogTitle {\n  text-align: center;\n}\n\n.mdDialogContainer .dialogContent {\n  padding-bottom: 0px;\n}\n\n.mdDialogContainer .dialogContent ._title {\n  display: flex;\n  /* justify-content: space-between; */\n}\n\n.mdDialogContainer .dialogContent .advancedCheckbox {\n  padding-left: 16px;\n}\n\n/* .mdDialogContainer .dialogContent .sub-content {\n  width: 100%;\n  height: 33%;\n} */\n</style>","export default [\n\n  {\n    name: \"global\",\n    value: \"g\",\n    description: \"Don't return after first match\"\n  },\n  {\n    name: \"Multi line\",\n    value: \"m\",\n    description: \"^ and $ match start/end of line\"\n  },\n  {\n    name: \"Insensitive\",\n    value: \"i\",\n    description: \"Case insensitive match\"\n  },\n  {\n    name: \"unicode\",\n    value: \"u\",\n    description: \"Match with full unicode\"\n  }\n]","<!--\nCopyright 2020 SpinalCom - www.spinalcom.com\n\nThis file is part of SpinalCore.\n\nPlease read all of the following terms and conditions\nof the Free Software license Agreement (\"Agreement\")\ncarefully.\n\nThis Agreement is a legally binding contract between\nthe Licensee (as defined below) and SpinalCom that\nsets forth the terms and conditions that govern your\nuse of the Program. By installing and/or using the\nProgram, you agree to abide by all the terms and\nconditions stated or referenced herein.\n\nIf you do not agree to abide by these terms and\nconditions, do not demonstrate your acceptance and do\nnot install or use the Program.\nYou should have received a copy of the license along\nwith this file. If not, see\n<http://resources.spinalcom.com/licenses.pdf>.\n-->\n\n<template>\n  <md-dialog class=\"_mdDialogContainer\"\n             :md-active.sync=\"showDialog\"\n             @md-closed=\"closeDialog(false)\">\n\n    <md-dialog-title class=\"_dialogTitle\">\n      Select type\n    </md-dialog-title>\n\n    <md-dialog-content class=\"_dialogContent\">\n\n      <div class=\"loading\"\n           v-if=\"appState === STATES.normal\">\n        <md-field>\n          <label for=\"type\">Type</label>\n          <md-select v-model=\"typeSelected\"\n                     name=\"type\"\n                     id=\"type\">\n            <md-option v-if=\"!data || data.types.length === 0\"\n                       disabled>No found</md-option>\n\n            <md-option v-for=\"(type, index) in data.types\"\n                       :key=\"index\"\n                       :value=\"type\">{{type}}</md-option>\n\n          </md-select>\n        </md-field>\n      </div>\n\n      <!--\n          /////////////////////////////////\n          Loading\n          ////////////////////////////////\n        -->\n      <div v-if=\"appState === STATES.loading\"\n           class=\"loading\">\n        <md-progress-spinner md-mode=\"indeterminate\"></md-progress-spinner>\n      </div>\n\n    </md-dialog-content>\n\n    <md-dialog-actions>\n      <md-button class=\"md-primary\"\n                 @click=\"closeDialog(false)\">Close</md-button>\n\n      <md-button class=\"md-primary\"\n                 @click=\"closeDialog(true)\"\n                 :disabled=\"disabled()\">Save</md-button>\n\n    </md-dialog-actions>\n  </md-dialog>\n</template>\n\n<script>\nimport SpinalAttributeManager from \"../../../../services\";\n\nimport { spinalPanelManagerService } from \"spinal-env-viewer-panel-manager-service\";\n\nexport default {\n  name: \"select-type\",\n  props: [\"onFinised\"],\n  data() {\n    this.STATES = Object.freeze({\n      normal: 0,\n      loading: 1,\n      error: 2\n    });\n\n    return {\n      appState: this.STATES.error,\n      showDialog: true,\n      data: {},\n      typeSelected: \"\"\n    };\n  },\n  methods: {\n    async opened(params) {\n      this.appState = this.STATES.loading;\n      this.data = await this.getAllData(params);\n      this.appState = this.STATES.normal;\n    },\n\n    removed(option) {\n      if (option) {\n        const items = this.getItems(this.typeSelected);\n\n        spinalPanelManagerService.openPanel(\"generateGroupPanel\", {\n          type: this.typeSelected,\n          items: items\n        });\n      }\n      this.showDialog = false;\n    },\n\n    closeDialog(closeResult) {\n      if (typeof this.onFinised === \"function\") {\n        this.onFinised(closeResult);\n      }\n    },\n\n    getAllData(params) {\n      return SpinalAttributeManager.getAllData(params.id, params.id);\n    },\n\n    getItems(type) {\n      return this.data.data[type];\n    },\n\n    disabled() {\n      return this.typeSelected.trim().length === 0;\n    }\n  }\n};\n</script>\n\n<style scoped>\n._mdDialogContainer {\n  width: 300px;\n  height: 300px;\n}\n\n._mdDialogContainer ._dialogTitle {\n  text-align: center;\n}\n\n._mdDialogContainer .loading {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n</style>","/*\n * Copyright 2018 SpinalCom - www.spinalcom.com\n *\n * This file is part of SpinalCore.\n *\n * Please read all of the following terms and conditions\n * of the Free Software license Agreement (\"Agreement\")\n * carefully.\n *\n * This Agreement is a legally binding contract between\n * the Licensee (as defined below) and SpinalCom that\n * sets forth the terms and conditions that govern your\n * use of the Program. By installing and/or using the\n * Program, you agree to abide by all the terms and\n * conditions stated or referenced herein.\n *\n * If you do not agree to abide by these terms and\n * conditions, do not demonstrate your acceptance and do\n * not install or use the Program.\n * You should have received a copy of the license along\n * with this file. If not, see\n * <http://resources.spinalcom.com/licenses.pdf>.\n */\n\nconst {\n  spinalPanelManagerService,\n  SpinalPanelApp\n} = require(\"spinal-env-viewer-panel-manager-service\");\n\nconst SpinalForgeExtention = require(\"./SpinalForgeExtention.js\")(\n  spinalPanelManagerService,\n  SpinalPanelApp\n);\n\nmodule.exports = {\n  SpinalForgeExtention\n};\n","/*\n * Copyright 2023 SpinalCom - www.spinalcom.com\n * \n * This file is part of SpinalCore.\n * \n * Please read all of the following terms and conditions\n * of the Free Software license Agreement (\"Agreement\")\n * carefully.\n * \n * This Agreement is a legally binding contract between\n * the Licensee (as defined below) and SpinalCom that\n * sets forth the terms and conditions that govern your\n * use of the Program. By installing and/or using the\n * Program, you agree to abide by all the terms and\n * conditions stated or referenced herein.\n * \n * If you do not agree to abide by these terms and\n * conditions, do not demonstrate your acceptance and do\n * not install or use the Program.\n * You should have received a copy of the license along\n * with this file. If not, see\n * <http://resources.spinalcom.com/licenses.pdf>.\n */\n\nfunction configInit(option) {\n  const cfg = {};\n  if (typeof option.toolbar !== \"undefined\") {\n    cfg.toolbar = {\n      icon: option.toolbar.icon || \"done\",\n      label: option.toolbar.label || \"label\",\n      subToolbarName: option.toolbar.subToolbarName || \"spinalcom\",\n      styleBtn: {},\n      styleIcon: {}\n    };\n    Object.assign(cfg.toolbar.styleBtn, option.toolbar.styleBtn);\n    Object.assign(cfg.toolbar.styleIcon, option.toolbar.styleIcon);\n  }\n  if (typeof option.panel !== \"undefined\") {\n    cfg.panel = {\n      title: option.panel.title || \"Spinalcom Panel\",\n      classname: option.panel.classname || \"spinal-pannel\",\n      closeBehaviour: option.panel.closeBehaviour || \"hide\"\n    };\n    if (typeof option.style !== \"undefined\") {\n      cfg.style = {};\n      Object.assign(cfg.style, option.style);\n    }\n  }\n  cfg.name = option.name || \"spinalExtention\";\n  cfg.vueMountComponent = option.vueMountComponent;\n  cfg.onLoad = option.onLoad;\n  cfg.onUnLoad = option.onUnLoad;\n  return cfg;\n}\n\nfunction onToolbarCreated() {\n  this.viewer.removeEventListener(\n    window.Autodesk.Viewing.TOOLBAR_CREATED_EVENT,\n    this.onToolbarCreatedBinded\n  );\n  this.onToolbarCreatedBinded = null;\n  createToolbar.call(this);\n}\n\nfunction createToolbar() {\n  this.toolbarButton = new window.Autodesk.Viewing.UI.Button(\n    this.cfg.toolbar.label\n  );\n  this.toolbarButton.onClick = () => {\n    this.tooglePanel(this.cfg);\n  };\n  var icon = this.toolbarButton.container.firstChild;\n  icon.className = \"adsk-button-icon md-icon md-icon-font md-theme-default\";\n  icon.innerHTML = this.cfg.toolbar.icon;\n\n  for (var key in this.cfg.toolbar.styleIcon) {\n    if (this.cfg.toolbar.styleIcon.hasOwnProperty(key)) {\n      icon.style[key] = this.cfg.toolbar.styleIcon[key];\n    }\n  }\n  for (var key in this.cfg.toolbar.styleBtn) {\n    if (this.cfg.toolbar.styleBtn.hasOwnProperty(key)) {\n      this.toolbarButton.container.style[key] = this.cfg.toolbar.styleBtn[key];\n    }\n  }\n\n  this.toolbarButton.setToolTip(this.cfg.toolbar.label);\n  this.subToolbar = this.viewer.toolbar.getControl(\n    this.cfg.toolbar.subToolbarName\n  );\n  if (!this.subToolbar) {\n    this.subToolbar = new window.Autodesk.Viewing.UI.ControlGroup(\n      this.cfg.toolbar.subToolbarName\n    );\n    this.viewer.toolbar.addControl(this.subToolbar);\n  }\n  this.subToolbar.addControl(this.toolbarButton);\n}\n\nfunction closeComponent() {\n  if (this.cfg.panel.closeBehaviour !== \"hide\") {\n    try {\n      this.component.removed.call(this.component);\n    } catch (e) {\n      console.error(e);\n    }\n    this.panel.container.remove();\n    this.panel = null;\n  } else {\n    try {\n      this.component.closed.call(this.component);\n    } catch (e) {\n      console.error(e);\n    }\n  }\n}\n\nfunction getPanel() {\n  if (this.panel === null) {\n    this.panel = new window.PanelClass(this.viewer, this.cfg.panel.title);\n    var _container = document.createElement(\"div\");\n    var _scrollContainer = this.panel.createScrollContainer();\n\n    _container.className +=\n      this.panel.container.id + \"-panelcontainer \" + this.cfg.panel.classname;\n    for (var key in this.cfg.style) {\n      if (this.cfg.style.hasOwnProperty(key)) {\n        this.panel.container.style[key] = this.cfg.style[key];\n      }\n    }\n\n    if (this.panel.container.style.left) {\n      this.panel.container.style.left = \"0\";\n    }\n\n    this.panel.container.appendChild(_scrollContainer);\n    _scrollContainer.style.height = \"calc(100% - 52px)\";\n    _scrollContainer.appendChild(_container);\n\n    var _footer = this.panel.createFooter();\n    this.panel.container.appendChild(_footer);\n\n    if (this.cfg.vueMountComponent) {\n      this.component = new this.cfg.vueMountComponent().$mount(_container);\n    }\n\n    const _this = this;\n    this.panel.addVisibilityListener(open => {\n      if (!open) {\n        closeComponent.call(_this);\n      }\n    });\n  }\n  return this.panel;\n}\n\n/**\n *\n *\n * @param {*} spinalPanelManagerService\n * @param {*} SpinalPanelApp\n * @returns {object} { createExtention, registerExtention }\n */\nmodule.exports = function (spinalPanelManagerService, SpinalPanelApp) {\n  return {\n    /**\n     * factory function to create a dynamic class that extends the `SpinalPanelApp` class\n     *```js\n{\n  name: \"extention_name\",\n  vueMountComponent: Vue.extend(aVueCompoment),\n  onLoad: () => {console.log(\"onLoad\");},\n  onUnLoad: () => {console.log(\"onUnLoad\");},\n  toolbar: {\n    icon: \"done\",\n    label: \"testLabel\",\n    subToolbarName: \"spinalcom\"\n  },\n  panel: {\n    title: \"Spinalcom Panel\",\n    classname: \"spinal-pannel\",\n    closeBehaviour: \"hide\"\n  },\n  style: {}\n}\n```\n     * @param {object} option see description\n     * @returns SpinalForgeExtention\n     */\n    createExtention(option) {\n      const cfg = configInit(option);\n      /**\n       * class returned by createExtention\n       * this extention is also registered in autodesk viweer\n       * @extends SpinalPanelApp\n       * @property {AutodeskViewer} viewer the autodesk view\n       * @property {AutodeskPanel} panel the panel\n       * @property {Vue.component} component the component mounted\n       * @property {Object} cfg the option given on creation\n       */\n      const SpinalForgeExtention = class extends SpinalPanelApp {\n        constructor(viewer, options) {\n          super();\n          window.Autodesk.Viewing.Extension.call(this, viewer, options);\n          this.viewer = viewer;\n          this.panel = null;\n          this.cfg = cfg;\n          spinalPanelManagerService.registerPanel(cfg.name, this);\n        }\n        /**\n         * method called on load of the extention (managed by the autodesk viewer)\n         * the method create a button in the toolbar if put in the option of `createExtention`.\n         */\n        load() {\n          if (typeof cfg.toolbar !== \"undefined\") {\n            // add toolbar\n            if (this.viewer.toolbar) {\n              createToolbar.call(this);\n            } else {\n              this.onToolbarCreatedBinded = onToolbarCreated.bind(this);\n              this.viewer.addEventListener(\n                window.Autodesk.Viewing.TOOLBAR_CREATED_EVENT,\n                this.onToolbarCreatedBinded\n              );\n            }\n          }\n          if (typeof cfg.onLoad !== \"undefined\") cfg.onLoad.call(this);\n          return true;\n        }\n        /**\n         * method called when the viewer unload of the extention\n         * (managed by the autodesk viewer)\n         */\n        unload() {\n          if (typeof cfg.toolbar !== \"undefined\") {\n            this.viewer.subToolbar.removeControl(this.toolbarButton);\n          }\n          if (typeof cfg.onUnLoad !== \"undefined\") cfg.onUnLoad.call(this);\n          return true;\n        }\n\n        activate() {\n          return this.load();\n        }\n\n        deactivate() {\n          return this.unload();\n        }\n\n        /**\n         *\n         * @param {*} option\n         */\n        openPanel(option) {\n          const panel = getPanel.call(this);\n          panel.setVisible(true);\n          try {\n            this.component.opened.call(this.component, option, this.viewer);\n          } catch (e) {\n            console.error(e);\n          }\n        }\n        /**\n         *\n         *\n         * @param {*} option\n         */\n        closePanel(option) {\n          const panel = getPanel.call(this);\n          panel.setVisible(false);\n        }\n        /**\n         *\n         *\n         * @param {*} option\n         */\n        tooglePanel(option) {\n          if (this.panel === null || this.panel.isVisible() === false) {\n            this.openPanel.call(this, option);\n          } else { this.closePanel.call(this, option); }\n        }\n      };\n      return SpinalForgeExtention;\n    },\n\n    /**\n     * Method to register an extention to the viewer and the forge viewer\n     * @param {string} name name of the extention\n     * @param {*} classExtention an extention created by `createExtention`\n     */\n    registerExtention(name, classExtention) {\n      // register to forge\n      window.Autodesk.Viewing.theExtensionManager.registerExtension(\n        name,\n        classExtention\n      );\n      // register to viewer\n      window.spinal.ForgeExtentionManager.addExtention(name);\n    }\n  };\n};\n","import OPEN_PANEL_BTN from \"./openPanel\";\nimport OPEN_CONFIGURATION_PANEL from \"./openConfiguration\"\n\nexport {\n  OPEN_PANEL_BTN,\n  OPEN_CONFIGURATION_PANEL\n}","import {\n  SpinalContextApp\n} from \"spinal-env-viewer-context-menu-service\";\n\nimport {\n  spinalPanelManagerService\n} from \"spinal-env-viewer-panel-manager-service\";\n\nexport default class OpenAttributeManagerPanel extends SpinalContextApp {\n  constructor() {\n    super(\"open attribute manager panel\", \"open attribute manager panel\", {\n      icon: \"power_input\",\n      icon_type: \"in\",\n      backgroundColor: \"#FF0000\",\n      fontColor: \"#FFFFFF\"\n    })\n  }\n\n  isShown() {\n    return Promise.resolve(true);\n  }\n\n\n  action(option) {\n    let params = {\n      nodeSelected: option.selectedNode.get(),\n      context: option.context.get()\n    };\n    spinalPanelManagerService.openPanel(\"attributeManagerPanel\", params);\n  }\n\n}","/*\n * Copyright 2018 SpinalCom - www.spinalcom.com\n *\n * This file is part of SpinalCore.\n *\n * Please read all of the following terms and conditions\n * of the Free Software license Agreement (\"Agreement\")\n * carefully.\n *\n * This Agreement is a legally binding contract between\n * the Licensee (as defined below) and SpinalCom that\n * sets forth the terms and conditions that govern your\n * use of the Program. By installing and/or using the\n * Program, you agree to abide by all the terms and\n * conditions stated or referenced herein.\n *\n * If you do not agree to abide by these terms and\n * conditions, do not demonstrate your acceptance and do\n * not install or use the Program.\n * You should have received a copy of the license along\n * with this file. If not, see\n * <http://resources.spinalcom.com/licenses.pdf>.\n */\n\nconst G_root = typeof window == \"undefined\" ? global : window;\nconst SpinalContextMenuService = require(\"./SpinalContextMenuService\");\nconst SpinalContextApp = require(\"./SpinalContextApp\");\nconst Constant = require('./constants');\nif (typeof G_root.spinal === \"undefined\") G_root.spinal = {};\nif (typeof G_root.spinal.spinalContextMenuService === \"undefined\")\n  G_root.spinal.spinalContextMenuService = new SpinalContextMenuService();\n\nmodule.exports = {\n  constants: Constant,\n  spinalContextMenuService: G_root.spinal.spinalContextMenuService,\n  SpinalContextApp,\n  install(Vue) {\n    Vue.prototype.$spinalContextMenuService =\n      G_root.spinal.spinalContextMenuService;\n  }\n};\n","/*\n * Copyright 2018 SpinalCom - www.spinalcom.com\n *\n * This file is part of SpinalCore.\n *\n * Please read all of the following terms and conditions\n * of the Free Software license Agreement (\"Agreement\")\n * carefully.\n *\n * This Agreement is a legally binding contract between\n * the Licensee (as defined below) and SpinalCom that\n * sets forth the terms and conditions that govern your\n * use of the Program. By installing and/or using the\n * Program, you agree to abide by all the terms and\n * conditions stated or referenced herein.\n *\n * If you do not agree to abide by these terms and\n * conditions, do not demonstrate your acceptance and do\n * not install or use the Program.\n * You should have received a copy of the license along\n * with this file. If not, see\n * <http://resources.spinalcom.com/licenses.pdf>.\n */\n\nimport * as Q from 'q';\nvar debounce = require('lodash.debounce');\n\n/**\n *  Containter like service to register and get applications relative to a hookname\n *\n * @property {object} apps key = hookname, value array of apps\n * @class SpinalContextMenuService\n */\nclass SpinalContextMenuService {\n  /**\n   *Creates an instance of SpinalContextMenuService.\n   * @memberof SpinalContextMenuService\n   */\n  constructor() {\n    this.apps = {};\n    this.promiseByAppProfileId = {};\n    this.appRdy = Q.defer();\n    this.debouncedRdy = debounce(\n      () => {\n        this.appRdy.resolve();\n        this.debouncedRdy = () => {};\n      },\n      1000,\n      { leading: false, trailing: true }\n    );\n  }\n\n  // waitRdy() {\n  //   this.appRdy.promise;\n  // }\n\n  /**\n   * Return true if user has access to this appProfile\n   * @param appProfileId\n   * @return {PromiseLike<boolean > | Promise<boolean>}\n   */\n  async hasUserRight(appProfileId) {\n    this.debouncedRdy();\n    await window.spinal.spinalSystem.init();\n    const path =\n      '/etc/UserProfileDir/' + window.spinal.spinalSystem.getUser().username;\n    const userProfile = await window.spinal.spinalSystem.load(path);\n    let res = false;\n    if (userProfile) {\n      for (let i = 0; i < userProfile.appProfiles.length && !res; i++) {\n        res = ((1 << userProfile.appProfiles[i]) & appProfileId) !== 0;\n      }\n    }\n    return res;\n  }\n\n  /**\n   * method to register the Application to a hook\n   *\n   * @param {string} hookname the place where is application button is located\n   * @param {SpinalContextApp} spinalContextApp the application\n   * @param {number} appProfileId id of the group that can use the application\n   * button\n   * @memberof SpinalContextMenuService\n   */\n  registerApp(hookname, spinalContextApp, appProfileId) {\n    this.debouncedRdy();\n    if (typeof appProfileId === 'undefined') {\n      console.warn(\n        'Deprecated: The usage of this function without the third' +\n          ' parameter appProfileId is deprecated your button is lock for admin' +\n          ' only until you set the third parameter'\n      );\n      appProfileId = 1;\n    }\n    // get the array of apps of the hook\n    let appsInHooks = this.apps[hookname];\n\n    // create the array if not exist\n    if (!(appsInHooks instanceof Array)) {\n      appsInHooks = this.apps[hookname] = [];\n    }\n\n    if (!this.promiseByAppProfileId.hasOwnProperty(appProfileId)) {\n      this.promiseByAppProfileId[appProfileId] =\n        this.hasUserRight(appProfileId);\n    }\n\n    this.promiseByAppProfileId[appProfileId].then((hasAccess) => {\n      // push the app if not exist ans user has access to the button\n      if (hasAccess && appsInHooks.indexOf(spinalContextApp) === -1) {\n        appsInHooks.push(spinalContextApp);\n      }\n    });\n  }\n\n  /**\n   * method to get the applications registered to a hookname\n   *\n   * @param {String} hookname\n   * @param {object} option\n   * @memberof SpinalContextMenuService\n   * @returns {Promise} resolve : [spinalContextApp, ...]; reject: Error\n   */\n  async getApps(hookname, option) {\n    await this.appRdy.promise;\n    // get the array of apps of the hook\n    let appsInHooks = this.apps[hookname];\n\n    // create the array if not exist\n    if (!(appsInHooks instanceof Array)) {\n      return Promise.resolve([]);\n    }\n    let promises = appsInHooks.map(async function (e, idx) {\n      try {\n        const res = await e.isShown(option);\n        return res === -1 ? -1 : e;\n      } catch (error) {\n        console.error(error);\n        return -1;\n      }\n    });\n    try {\n      const appRes = await Promise.all(promises);\n      return appRes.filter((itm) => itm !== -1);\n    } catch (error) {\n      console.error(error);\n      return [];\n    }\n  }\n}\n\nmodule.exports = SpinalContextMenuService;\n","/*\n * Copyright 2018 SpinalCom - www.spinalcom.com\n *\n * This file is part of SpinalCore.\n *\n * Please read all of the following terms and conditions\n * of the Free Software license Agreement (\"Agreement\")\n * carefully.\n *\n * This Agreement is a legally binding contract between\n * the Licensee (as defined below) and SpinalCom that\n * sets forth the terms and conditions that govern your\n * use of the Program. By installing and/or using the\n * Program, you agree to abide by all the terms and\n * conditions stated or referenced herein.\n *\n * If you do not agree to abide by these terms and\n * conditions, do not demonstrate your acceptance and do\n * not install or use the Program.\n * You should have received a copy of the license along\n * with this file. If not, see\n * <http://resources.spinalcom.com/licenses.pdf>.\n */\n\n/**\n *  Interface like class to define a Contextual Application button\n * @see https://material.io/tools/icons/?style=baseline for material icons\n *\n * @class SpinalContextApp\n * @property {string} label=notset short name to be shown in the application\n * @property {string} description description of what the Application button do\n * @property {object} buttonCfg Object configuration of the Application button\n * @property {string} buttonCfg.icon=tab can be a font-awsome or material icon string\n * @property {string} buttonCfg.icon_type=in Where to place the icon in the `md-icon`. Should be one of theses `class`, `in`, `src`\n * @property {string} buttonCfg.backgroundColor=#0000FF backgroud color of the button\n * @property {string} buttonCfg.fontColor=#FFFFFF font color of the button\n * @property {objet} [badgeCfg] Object configuration of the Application button badge\n * @property {string} badgeCfg.label string shown in a badge; if empty it's not shown\n * @property {string} badgeCfg.backgroundColor=#FF0000 backgroud color of the badge\n * @property {string} badgeCfg.fontColor=#FFFFFF font color of the badge\n */\nclass SpinalContextApp {\n  /**\n   * Creates an instance of SpinalContextApp.\n   * @param {string} label=notset short name to be shown in the application\n   * @param {string} description description of what the Application button do\n   * @param {object} buttonCfg Object configuration of the Application button\n   * @param {string} buttonCfg.icon=tab can be a font-awsome or material icon string\n   * @param {string} buttonCfg.icon_type=in Where to place the icon in the `md-icon`. Should be one of theses `class`, `in`, `src`\n   * @param {string} buttonCfg.backgroundColor=#0000FF backgroud color of the button\n   * @param {string} buttonCfg.fontColor=#FFFFFF font color of the button\n   * @param {objet} [badgeCfg] Object configuration of the Application button badge\n   * @param {string} badgeCfg.label string shown in a badge; if empty it's not shown\n   * @param {string} badgeCfg.backgroundColor=#FF0000 backgroud color of the badge\n   * @param {string} badgeCfg.fontColor=#FFFFFF font color of the badge\n   * @memberof SpinalContextApp\n   */\n  constructor(label, description, buttonCfg, badgeCfg = {}) {\n    this.label = label || \"notset\";\n    this.description = description || \"\";\n    this.buttonCfg = {\n      icon: buttonCfg.icon || \"tab\",\n      icon_type: buttonCfg.icon_type || \"in\",\n      backgroundColor: colorHash(buttonCfg.backgroundColor || \"#0000FF\"),\n      fontColor: colorHash(buttonCfg.fontColor || \"#FFFFFF\")\n    };\n\n    this.badgeCfg = {\n      label: badgeCfg.label || \"\",\n      backgroundColor: colorHash(badgeCfg.backgroundColor || \"#FF0000\"),\n      fontColor: colorHash(badgeCfg.fontColor || \"#FFFFFF\")\n    };\n  }\n\n  /**\n   * Method called by `SpinalContextMenuService.getApps`\n   * to filter the Application button to show in the context hook\n   *\n   * @param {object} option\n   * @memberof SpinalContextApp\n   * @returns {Promise} Resolve: not shown if === -1;\n   */\n  isShown(option) {}\n\n  /**\n   * Method to call on click of the application button\n   *\n   * @param {object} option {}\n   * @memberof SpinalContextApp\n   */\n  action(option) {}\n}\n\nmodule.exports = SpinalContextApp;\n\nfunction colorHash(color) {\n  if (color[0] === \"#\") return color;\n  return \"#\" + color;\n}\n","\n\nmodule.exports = {\n  ADMINISTRATEUR: 'ADMINISTRATEUR',\n  MAINTENEUR: 'MAINTENEUR',\n  INTEGRATEUR: 'INTEGRATEUR',\n  ASSET_MANAGEUR: 'ASSET MANAGER',\n};","import {\n  SpinalContextApp\n} from \"spinal-env-viewer-context-menu-service\";\n\nimport {\n  spinalPanelManagerService\n} from \"spinal-env-viewer-panel-manager-service\";\n\nimport {\n  spinalConfigurationService\n} from '../services';\n\n// import {\n//   SpinalGraphService\n// } from \"spinal-env-viewer-graph-service\";\n\nexport default class OpenConfigurationPanel extends SpinalContextApp {\n  constructor() {\n    super(\"open configuration manager panel\",\n      \"open configuration manager panel\", {\n        icon: \"settings_applications\",\n        icon_type: \"in\",\n        backgroundColor: \"#FF0000\",\n        fontColor: \"#FFFFFF\"\n      })\n  }\n\n  isShown(option) {\n    const nodeType = option.context.type.get();\n\n    const configContextType =\n      `${spinalConfigurationService.CONFIGURATION_PROFIL_TYPE}GroupContext`;\n\n    if (nodeType === configContextType) {\n      return Promise.resolve(true);\n    }\n\n    return Promise.resolve(-1);\n\n  }\n\n\n  async action(option) {\n\n    const contextInfo = option.context.get();\n    const selectedNode = option.selectedNode.get();\n\n    let params = {}\n\n    if (contextInfo.id !== selectedNode.id) {\n      params = await spinalConfigurationService.getTree(selectedNode);\n    }\n\n    spinalPanelManagerService.openPanel(\"configurationPanel\", params);\n  }\n\n}\n\n\n// const getValues = async (info) => {\n\n\n//   if (spinalConfigurationService.isCategory(info.type)) {\n\n//     obj.categoryId = info.id;\n\n//   } else if (spinalConfigurationService.isGroup(info.type)) {\n\n//   } else if (spinalConfigurationService.CONFIGURATION_PROFIL_TYPE === info\n//     .type) {\n\n\n\n//   }\n// }","import OPEN_SELECT_TYPE_BTN from \"./openSelectType\";\n\nexport {\n  OPEN_SELECT_TYPE_BTN\n}","import {\n  SpinalContextApp\n} from \"spinal-env-viewer-context-menu-service\";\n\nimport {\n  spinalPanelManagerService\n} from \"spinal-env-viewer-panel-manager-service\";\n\nimport {\n  SpinalGraphService,\n  SpinalContext\n} from \"spinal-env-viewer-graph-service\";\n\nexport default class OpenSelectTypePanel extends SpinalContextApp {\n  constructor() {\n    super(\"open Generate group  panel\",\n      \"open Generate group panel\", {\n        icon: \"select_all\",\n        icon_type: \"in\",\n        backgroundColor: \"#FF0000\",\n        fontColor: \"#FFFFFF\"\n      })\n  }\n\n  isShown(option) {\n    const selectedNode = SpinalGraphService.getRealNode(option.selectedNode.id\n      .get());\n\n    if (selectedNode instanceof SpinalContext)\n      return Promise.resolve(true);\n\n    return Promise.resolve(-1);\n  }\n\n\n  action(option) {\n    spinalPanelManagerService.openPanel(\"selectTypeDialog\", option\n      .selectedNode.get());\n  }\n\n}","\"use strict\";"],"names":[],"version":3,"file":"spinal-env-viewer-plugin-attribute-manager.f3383060.js.map"}