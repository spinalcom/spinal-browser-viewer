{"mappings":"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","sources":["node_modules/vue-cal/dist/drag-and-drop.es.js"],"sourcesContent":["var S = Object.defineProperty;\nvar V = (t, e, l) => e in t ? S(t, e, { enumerable: !0, configurable: !0, writable: !0, value: l }) : t[e] = l;\nvar T = (t, e, l) => (V(t, typeof e != \"symbol\" ? e + \"\" : e, l), l);\n/**\n  * vue-cal v3.11.0\n  * (c) 2022 Antoni Andre <antoniandre.web@gmail.com>\n  * @license MIT\n  */\nlet o = null, c = null, v = { id: null, date: null }, _ = !1, m = !0, u = { el: null, cell: null, timeout: null };\nconst r = { _eid: null, fromVueCal: null, toVueCal: null }, M = class {\n  constructor(t) {\n    T(this, \"_vuecal\");\n    this._vuecal = t;\n  }\n  _getEventStart(t) {\n    const { timeStep: e, timeCellHeight: l, timeFrom: i, utils: n } = this._vuecal;\n    let { y: a } = n.cell.getPosition(t);\n    return a -= 1 * t.dataTransfer.getData(\"cursor-grab-at\"), Math.round(a * e / parseInt(l) + i);\n  }\n  _updateEventStartEnd(t, e, l, i) {\n    const n = 1 * l.duration || e.endTimeMinutes - e.startTimeMinutes;\n    let a = Math.max(this._getEventStart(t), 0);\n    if (this._vuecal.snapToTime) {\n      const d = a + this._vuecal.snapToTime / 2;\n      a = d - d % this._vuecal.snapToTime;\n    }\n    e.startTimeMinutes = a, e.start = new Date(new Date(i).setMinutes(a)), e.endTimeMinutes = Math.min(a + n, 1440), e.end = new Date(new Date(i).setMinutes(e.endTimeMinutes));\n  }\n  eventDragStart(t, e) {\n    if (t.target.nodeType === 3)\n      return t.preventDefault();\n    t.dataTransfer.dropEffect = \"move\", t.dataTransfer.setData(\"event\", JSON.stringify(e)), t.dataTransfer.setData(\"cursor-grab-at\", t.offsetY);\n    const { clickHoldAnEvent: l } = this._vuecal.domEvents;\n    setTimeout(() => {\n      l._eid = null, clearTimeout(l.timeoutId), e.deleting = !1;\n    }, 0), this._vuecal.domEvents.dragAnEvent._eid = e._eid, r._eid = e._eid, r.fromVueCal = this._vuecal._uid, e.dragging = !0, setTimeout(() => e.draggingStatic = !0, 0), _ = !1, v = { id: this._vuecal.view.id, date: this._vuecal.view.startDate }, m = !0;\n  }\n  eventDragEnd(t) {\n    this._vuecal.domEvents.dragAnEvent._eid = null, r._eid = null, t.dragging = !1, t.draggingStatic = !1;\n    const { fromVueCal: e, toVueCal: l } = r;\n    l && e !== l && this._vuecal.utils.event.deleteAnEvent(t), r.fromVueCal = null, r.toVueCal = null, _ && m && v.id && this._vuecal.switchView(v.id, v.date, !0);\n  }\n  cellDragEnter(t, e, l) {\n    const i = t.currentTarget;\n    if (!t.currentTarget.contains(t.relatedTarget)) {\n      if (i === u.el || !i.className.includes(\"vuecal__cell-content\"))\n        return !1;\n      u.el && (u.cell.highlighted = !1), u = { el: i, cell: e, timeout: clearTimeout(u.timeout) }, e.highlighted = !0, [\"years\", \"year\", \"month\"].includes(this._vuecal.view.id) && (u.timeout = setTimeout(() => this._vuecal.switchToNarrowerView(l), 2e3));\n    }\n  }\n  cellDragOver(t, e, l, i) {\n    t.preventDefault(), e.highlighted = !0, (i || i === 0) && (e.highlightedSplit = i);\n  }\n  cellDragLeave(t, e) {\n    t.preventDefault(), t.currentTarget.contains(t.relatedTarget) || (e.highlightedSplit = !1, u.cell === e && (clearTimeout(u.timeout), u = { el: null, cell: null, timeout: null }, e.highlighted = !1));\n  }\n  cellDragDrop(t, e, l, i) {\n    t.preventDefault(), clearTimeout(u.timeout), u = { el: null, cell: null, timeout: null };\n    const n = JSON.parse(t.dataTransfer.getData(\"event\") || \"{}\");\n    let a, d;\n    if (r.fromVueCal !== this._vuecal._uid) {\n      const { _eid: s, start: D, end: w, duration: g, ...E } = n;\n      a = this._vuecal.utils.event.createAnEvent(l, g, { ...E, split: i });\n    } else if (a = this._vuecal.view.events.find((s) => s._eid === r._eid), a || (a = this._vuecal.mutableEvents.find((s) => s._eid === r._eid), d = !!a), !a) {\n      const s = n.endTimeMinutes - n.startTimeMinutes, { start: D, end: w, ...g } = n;\n      a = this._vuecal.utils.event.createAnEvent(l, s, { ...g, split: i });\n    }\n    const { start: f, split: p } = a;\n    this._updateEventStartEnd(t, a, n, l), d && this._vuecal.addEventsToView([a]), a.dragging = !1, (i || i === 0) && (a.split = i), e.highlighted = !1, e.highlightedSplit = null, m = !1, r.toVueCal = this._vuecal._uid;\n    const h = { event: this._vuecal.cleanupEvent(a), oldDate: f, newDate: a.start, ...(i || i === 0) && { oldSplit: p, newSplit: i }, originalEvent: this._vuecal.cleanupEvent(n), external: !r.fromVueCal };\n    this._vuecal.$emit(\"event-drop\", h), this._vuecal.$emit(\"event-change\", { event: h.event, originalEvent: h.originalEvent }), setTimeout(() => {\n      r._eid && this.eventDragEnd(a);\n    }, 300);\n  }\n  viewSelectorDragEnter(t, e, l) {\n    t.currentTarget.contains(t.relatedTarget) || (l.highlightedControl = e, clearTimeout(o), o = setTimeout(() => {\n      if ([\"previous\", \"next\"].includes(e))\n        this._vuecal[e](), clearInterval(c), c = setInterval(this._vuecal[e], 800);\n      else if (e === \"today\") {\n        let i;\n        clearInterval(c), this._vuecal.view.id.includes(\"year\") && (i = this._vuecal.enabledViews.filter((n) => !n.includes(\"year\"))[0]), this._vuecal.switchView(i || this._vuecal.view.id, new Date(new Date().setHours(0, 0, 0, 0)), !0);\n      } else\n        this._vuecal.switchView(e, null, !0);\n      _ = !0;\n    }, 800));\n  }\n  viewSelectorDragLeave(t, e, l) {\n    t.currentTarget.contains(t.relatedTarget) || l.highlightedControl === e && (l.highlightedControl = null, o && (o = clearTimeout(o)), c && (c = clearInterval(c)));\n  }\n};\nexport {\n  M as DragAndDrop\n};\n"],"names":[],"version":3,"file":"drag-and-drop.es.3f680b69.js.map"}